(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const m of u.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function s(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=s(o);fetch(o.href,u)}})();function ix(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Gf={exports:{}},Eo={};var cb;function pT(){if(cb)return Eo;cb=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(a,o,u){var m=null;if(u!==void 0&&(m=""+u),o.key!==void 0&&(m=""+o.key),"key"in o){u={};for(var b in o)b!=="key"&&(u[b]=o[b])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:m,ref:o!==void 0?o:null,props:u}}return Eo.Fragment=e,Eo.jsx=s,Eo.jsxs=s,Eo}var ub;function gT(){return ub||(ub=1,Gf.exports=pT()),Gf.exports}var d=gT(),Kf={exports:{}},Ne={};var db;function yT(){if(db)return Ne;db=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),m=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),k=Symbol.iterator;function q(V){return V===null||typeof V!="object"?null:(V=k&&V[k]||V["@@iterator"],typeof V=="function"?V:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,D={};function $(V,ee,re){this.props=V,this.context=ee,this.refs=D,this.updater=re||Z}$.prototype.isReactComponent={},$.prototype.setState=function(V,ee){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ee,"setState")},$.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function T(){}T.prototype=$.prototype;function I(V,ee,re){this.props=V,this.context=ee,this.refs=D,this.updater=re||Z}var ae=I.prototype=new T;ae.constructor=I,z(ae,$.prototype),ae.isPureReactComponent=!0;var de=Array.isArray;function ye(){}var j={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(V,ee,re){var ue=re.ref;return{$$typeof:i,type:V,key:ee,ref:ue!==void 0?ue:null,props:re}}function L(V,ee){return R(V.type,ee,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function P(V){var ee={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(re){return ee[re]})}var S=/\/+/g;function xe(V,ee){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):ee.toString(36)}function Fe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ye,ye):(V.status="pending",V.then(function(ee){V.status==="pending"&&(V.status="fulfilled",V.value=ee)},function(ee){V.status==="pending"&&(V.status="rejected",V.reason=ee)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function B(V,ee,re,ue,Te){var Ce=typeof V;(Ce==="undefined"||Ce==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(Ce){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case i:case e:Ue=!0;break;case _:return Ue=V._init,B(Ue(V._payload),ee,re,ue,Te)}}if(Ue)return Te=Te(V),Ue=ue===""?"."+xe(V,0):ue,de(Te)?(re="",Ue!=null&&(re=Ue.replace(S,"$&/")+"/"),B(Te,ee,re,"",function(da){return da})):Te!=null&&(O(Te)&&(Te=L(Te,re+(Te.key==null||V&&V.key===Te.key?"":(""+Te.key).replace(S,"$&/")+"/")+Ue)),ee.push(Te)),1;Ue=0;var Rt=ue===""?".":ue+":";if(de(V))for(var lt=0;lt<V.length;lt++)ue=V[lt],Ce=Rt+xe(ue,lt),Ue+=B(ue,ee,re,Ce,Te);else if(lt=q(V),typeof lt=="function")for(V=lt.call(V),lt=0;!(ue=V.next()).done;)ue=ue.value,Ce=Rt+xe(ue,lt++),Ue+=B(ue,ee,re,Ce,Te);else if(Ce==="object"){if(typeof V.then=="function")return B(Fe(V),ee,re,ue,Te);throw ee=String(V),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function se(V,ee,re){if(V==null)return V;var ue=[],Te=0;return B(V,ue,"","",function(Ce){return ee.call(re,Ce,Te++)}),ue}function be(V){if(V._status===-1){var ee=V._result;ee=ee(),ee.then(function(re){(V._status===0||V._status===-1)&&(V._status=1,V._result=re)},function(re){(V._status===0||V._status===-1)&&(V._status=2,V._result=re)}),V._status===-1&&(V._status=0,V._result=ee)}if(V._status===1)return V._result.default;throw V._result}var Be=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Qe={map:se,forEach:function(V,ee,re){se(V,function(){ee.apply(this,arguments)},re)},count:function(V){var ee=0;return se(V,function(){ee++}),ee},toArray:function(V){return se(V,function(ee){return ee})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ne.Activity=N,Ne.Children=Qe,Ne.Component=$,Ne.Fragment=s,Ne.Profiler=o,Ne.PureComponent=I,Ne.StrictMode=a,Ne.Suspense=g,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(V){return j.H.useMemoCache(V)}},Ne.cache=function(V){return function(){return V.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(V,ee,re){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=z({},V.props),Te=V.key;if(ee!=null)for(Ce in ee.key!==void 0&&(Te=""+ee.key),ee)!A.call(ee,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ee.ref===void 0||(ue[Ce]=ee[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=re;else if(1<Ce){for(var Ue=Array(Ce),Rt=0;Rt<Ce;Rt++)Ue[Rt]=arguments[Rt+2];ue.children=Ue}return R(V.type,Te,ue)},Ne.createContext=function(V){return V={$$typeof:m,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ne.createElement=function(V,ee,re){var ue,Te={},Ce=null;if(ee!=null)for(ue in ee.key!==void 0&&(Ce=""+ee.key),ee)A.call(ee,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Te[ue]=ee[ue]);var Ue=arguments.length-2;if(Ue===1)Te.children=re;else if(1<Ue){for(var Rt=Array(Ue),lt=0;lt<Ue;lt++)Rt[lt]=arguments[lt+2];Te.children=Rt}if(V&&V.defaultProps)for(ue in Ue=V.defaultProps,Ue)Te[ue]===void 0&&(Te[ue]=Ue[ue]);return R(V,Ce,Te)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(V){return{$$typeof:b,render:V}},Ne.isValidElement=O,Ne.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:be}},Ne.memo=function(V,ee){return{$$typeof:y,type:V,compare:ee===void 0?null:ee}},Ne.startTransition=function(V){var ee=j.T,re={};j.T=re;try{var ue=V(),Te=j.S;Te!==null&&Te(re,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ye,Be)}catch(Ce){Be(Ce)}finally{ee!==null&&re.types!==null&&(ee.types=re.types),j.T=ee}},Ne.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Ne.use=function(V){return j.H.use(V)},Ne.useActionState=function(V,ee,re){return j.H.useActionState(V,ee,re)},Ne.useCallback=function(V,ee){return j.H.useCallback(V,ee)},Ne.useContext=function(V){return j.H.useContext(V)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(V,ee){return j.H.useDeferredValue(V,ee)},Ne.useEffect=function(V,ee){return j.H.useEffect(V,ee)},Ne.useEffectEvent=function(V){return j.H.useEffectEvent(V)},Ne.useId=function(){return j.H.useId()},Ne.useImperativeHandle=function(V,ee,re){return j.H.useImperativeHandle(V,ee,re)},Ne.useInsertionEffect=function(V,ee){return j.H.useInsertionEffect(V,ee)},Ne.useLayoutEffect=function(V,ee){return j.H.useLayoutEffect(V,ee)},Ne.useMemo=function(V,ee){return j.H.useMemo(V,ee)},Ne.useOptimistic=function(V,ee){return j.H.useOptimistic(V,ee)},Ne.useReducer=function(V,ee,re){return j.H.useReducer(V,ee,re)},Ne.useRef=function(V){return j.H.useRef(V)},Ne.useState=function(V){return j.H.useState(V)},Ne.useSyncExternalStore=function(V,ee,re){return j.H.useSyncExternalStore(V,ee,re)},Ne.useTransition=function(){return j.H.useTransition()},Ne.version="19.2.1",Ne}var hb;function qm(){return hb||(hb=1,Kf.exports=yT()),Kf.exports}var le=qm();const bT=ix(le);var Yf={exports:{}},No={},Qf={exports:{}},$f={};var fb;function vT(){return fb||(fb=1,(function(i){function e(B,se){var be=B.length;B.push(se);e:for(;0<be;){var Be=be-1>>>1,Qe=B[Be];if(0<o(Qe,se))B[Be]=se,B[be]=Qe,be=Be;else break e}}function s(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var se=B[0],be=B.pop();if(be!==se){B[0]=be;e:for(var Be=0,Qe=B.length,V=Qe>>>1;Be<V;){var ee=2*(Be+1)-1,re=B[ee],ue=ee+1,Te=B[ue];if(0>o(re,be))ue<Qe&&0>o(Te,re)?(B[Be]=Te,B[ue]=be,Be=ue):(B[Be]=re,B[ee]=be,Be=ee);else if(ue<Qe&&0>o(Te,be))B[Be]=Te,B[ue]=be,Be=ue;else break e}}return se}function o(B,se){var be=B.sortIndex-se.sortIndex;return be!==0?be:B.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var m=Date,b=m.now();i.unstable_now=function(){return m.now()-b}}var g=[],y=[],_=1,N=null,k=3,q=!1,Z=!1,z=!1,D=!1,$=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function ae(B){for(var se=s(y);se!==null;){if(se.callback===null)a(y);else if(se.startTime<=B)a(y),se.sortIndex=se.expirationTime,e(g,se);else break;se=s(y)}}function de(B){if(z=!1,ae(B),!Z)if(s(g)!==null)Z=!0,ye||(ye=!0,P());else{var se=s(y);se!==null&&Fe(de,se.startTime-B)}}var ye=!1,j=-1,A=5,R=-1;function L(){return D?!0:!(i.unstable_now()-R<A)}function O(){if(D=!1,ye){var B=i.unstable_now();R=B;var se=!0;try{e:{Z=!1,z&&(z=!1,T(j),j=-1),q=!0;var be=k;try{t:{for(ae(B),N=s(g);N!==null&&!(N.expirationTime>B&&L());){var Be=N.callback;if(typeof Be=="function"){N.callback=null,k=N.priorityLevel;var Qe=Be(N.expirationTime<=B);if(B=i.unstable_now(),typeof Qe=="function"){N.callback=Qe,ae(B),se=!0;break t}N===s(g)&&a(g),ae(B)}else a(g);N=s(g)}if(N!==null)se=!0;else{var V=s(y);V!==null&&Fe(de,V.startTime-B),se=!1}}break e}finally{N=null,k=be,q=!1}se=void 0}}finally{se?P():ye=!1}}}var P;if(typeof I=="function")P=function(){I(O)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,xe=S.port2;S.port1.onmessage=O,P=function(){xe.postMessage(null)}}else P=function(){$(O,0)};function Fe(B,se){j=$(function(){B(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return k},i.unstable_next=function(B){switch(k){case 1:case 2:case 3:var se=3;break;default:se=k}var be=k;k=se;try{return B()}finally{k=be}},i.unstable_requestPaint=function(){D=!0},i.unstable_runWithPriority=function(B,se){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var be=k;k=B;try{return se()}finally{k=be}},i.unstable_scheduleCallback=function(B,se,be){var Be=i.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?Be+be:Be):be=Be,B){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=be+Qe,B={id:_++,callback:se,priorityLevel:B,startTime:be,expirationTime:Qe,sortIndex:-1},be>Be?(B.sortIndex=be,e(y,B),s(g)===null&&B===s(y)&&(z?(T(j),j=-1):z=!0,Fe(de,be-Be))):(B.sortIndex=Qe,e(g,B),Z||q||(Z=!0,ye||(ye=!0,P()))),B},i.unstable_shouldYield=L,i.unstable_wrapCallback=function(B){var se=k;return function(){var be=k;k=se;try{return B.apply(this,arguments)}finally{k=be}}}})($f)),$f}var mb;function xT(){return mb||(mb=1,Qf.exports=vT()),Qf.exports}var Xf={exports:{}},$t={};var pb;function _T(){if(pb)return $t;pb=1;var i=qm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,_){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:N==null?null:""+N,children:g,containerInfo:y,implementation:_}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,$t.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,_)},$t.flushSync=function(g){var y=m.T,_=a.p;try{if(m.T=null,a.p=2,g)return g()}finally{m.T=y,a.p=_,a.d.f()}},$t.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(g,y))},$t.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},$t.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,N=b(_,y.crossOrigin),k=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?a.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:N,integrity:k,fetchPriority:q}):_==="script"&&a.d.X(g,{crossOrigin:N,integrity:k,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$t.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=b(y.as,y.crossOrigin);a.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(g)},$t.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,N=b(_,y.crossOrigin);a.d.L(g,_,{crossOrigin:N,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$t.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=b(y.as,y.crossOrigin);a.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(g)},$t.requestFormReset=function(g){a.d.r(g)},$t.unstable_batchedUpdates=function(g,y){return g(y)},$t.useFormState=function(g,y,_){return m.H.useFormState(g,y,_)},$t.useFormStatus=function(){return m.H.useHostTransitionStatus()},$t.version="19.2.1",$t}var gb;function wT(){if(gb)return Xf.exports;gb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Xf.exports=_T(),Xf.exports}var yb;function TT(){if(yb)return No;yb=1;var i=xT(),e=qm(),s=wT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function m(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return g(h),t;if(f===l)return g(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var v=!1,w=h.child;w;){if(w===r){v=!0,r=h,l=f;break}if(w===l){v=!0,l=h,r=f;break}w=w.sibling}if(!v){for(w=f.child;w;){if(w===r){v=!0,r=f,l=h;break}if(w===l){v=!0,l=f,r=h;break}w=w.sibling}if(!v)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var N=Object.assign,k=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),I=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case $:return"Profiler";case D:return"StrictMode";case de:return"Suspense";case ye:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case I:return t.displayName||"Context";case T:return(t._context.displayName||"Context")+".Consumer";case ae:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case j:return n=t.displayName||null,n!==null?n:xe(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return xe(t(n))}catch{}}return null}var Fe=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},Be=[],Qe=-1;function V(t){return{current:t}}function ee(t){0>Qe||(t.current=Be[Qe],Be[Qe]=null,Qe--)}function re(t,n){Qe++,Be[Qe]=t.current,t.current=n}var ue=V(null),Te=V(null),Ce=V(null),Ue=V(null);function Rt(t,n){switch(re(Ce,n),re(Te,t),re(ue,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Iy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Iy(n),t=Dy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(ue),re(ue,t)}function lt(){ee(ue),ee(Te),ee(Ce)}function da(t){t.memoizedState!==null&&re(Ue,t);var n=ue.current,r=Dy(n,t.type);n!==r&&(re(Te,t),re(ue,r))}function sr(t){Te.current===t&&(ee(ue),ee(Te)),Ue.current===t&&(ee(Ue),xo._currentValue=be)}var ir,ar;function ss(t){if(ir===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ir=n&&n[1]||"",ar=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ir+t+ar}var vl=!1;function ha(t,n){if(!t||vl)return"";vl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Q){var K=Q}Reflect.construct(t,[],W)}else{try{W.call()}catch(Q){K=Q}t.call(W.prototype)}}else{try{throw Error()}catch(Q){K=Q}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],w=f[1];if(v&&w){var C=v.split(`
`),G=w.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===G.length)for(l=C.length-1,h=G.length-1;1<=l&&0<=h&&C[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==G[h]){var X=`
`+C[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{vl=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ss(r):""}function xl(t,n){switch(t.tag){case 26:case 27:case 5:return ss(t.type);case 16:return ss("Lazy");case 13:return t.child!==n&&n!==null?ss("Suspense Fallback"):ss("Suspense");case 19:return ss("SuspenseList");case 0:case 15:return ha(t.type,!1);case 11:return ha(t.type.render,!1);case 1:return ha(t.type,!0);case 31:return ss("Activity");default:return""}}function _l(t){try{var n="",r=null;do n+=xl(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,It=i.unstable_scheduleCallback,ui=i.unstable_cancelCallback,Kd=i.unstable_shouldYield,oc=i.unstable_requestPaint,en=i.unstable_now,fa=i.unstable_getCurrentPriorityLevel,wl=i.unstable_ImmediatePriority,Tl=i.unstable_UserBlockingPriority,di=i.unstable_NormalPriority,Yd=i.unstable_LowPriority,cc=i.unstable_IdlePriority,uc=i.log,dc=i.unstable_setDisableYieldValue,Bn=null,Ut=null;function Nn(t){if(typeof uc=="function"&&dc(t),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(Bn,t)}catch{}}var ft=Math.clz32?Math.clz32:fc,hc=Math.log,rr=Math.LN2;function fc(t){return t>>>=0,t===0?32:31-(hc(t)/rr|0)|0}var is=256,ma=262144,vt=4194304;function as(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function rs(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~f,l!==0?h=as(l):(v&=w,v!==0?h=as(v):r||(r=w&~t,r!==0&&(h=as(r))))):(w=l&~f,w!==0?h=as(w):v!==0?h=as(v):r||(r=l&~t,r!==0&&(h=as(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function qn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Qd(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mc(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function ls(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function pa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function $d(t,n,r,l,h,f){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var w=t.entanglements,C=t.expirationTimes,G=t.hiddenUpdates;for(r=v&~r;0<r;){var X=31-ft(r),W=1<<X;w[X]=0,C[X]=-1;var K=G[X];if(K!==null)for(G[X]=null,X=0;X<K.length;X++){var Q=K[X];Q!==null&&(Q.lane&=-536870913)}r&=~W}l!==0&&ga(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function ga(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ft(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function El(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-ft(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Nl(t,n){var r=n&-n;return r=(r&42)!==0?1:ya(r),(r&(t.suspendedLanes|n))!==0?0:r}function ya(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Os(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function pc(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:nb(t.type))}function Hn(t,n){var r=se.p;try{return se.p=t,n()}finally{se.p=r}}var Fn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Fn,Ot="__reactProps$"+Fn,os="__reactContainer$"+Fn,lr="__reactEvents$"+Fn,Xd="__reactListeners$"+Fn,gc="__reactHandles$"+Fn,yc="__reactResources$"+Fn,cs="__reactMarker$"+Fn;function or(t){delete t[xt],delete t[Ot],delete t[lr],delete t[Xd],delete t[gc]}function us(t){var n=t[xt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[os]||r[xt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Py(t);t!==null;){if(r=t[xt])return r;t=Py(t)}return n}t=r,r=t.parentNode}return null}function Sn(t){if(t=t[xt]||t[os]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function mn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function ds(t){var n=t[yc];return n||(n=t[yc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _t(t){t[cs]=!0}var Sl=new Set,Al={};function hs(t,n){fs(t,n),fs(t+"Capture",n)}function fs(t,n){for(Al[t]=n,t=0;t<n.length;t++)Sl.add(n[t])}var kl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cl={},jl={};function bc(t){return bt.call(jl,t)?!0:bt.call(Cl,t)?!1:kl.test(t)?jl[t]=!0:(Cl[t]=!0,!1)}function cr(t,n,r){if(bc(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function pn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function wt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Vt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Rl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){r=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(v){r=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function $e(t){if(!t._valueTracker){var n=hi(t)?"checked":"value";t._valueTracker=Rl(t,n,""+t[n])}}function ba(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=hi(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function ms(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var va=/[\n"\\]/g;function an(t){return t.replace(va,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ur(t,n,r,l,h,f,v,w){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Vt(n)):t.value!==""+Vt(n)&&(t.value=""+Vt(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Il(t,v,Vt(n)):r!=null?Il(t,v,Vt(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Vt(w):t.removeAttribute("name")}function vc(t,n,r,l,h,f,v,w){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){$e(t);return}r=r!=null?""+Vt(r):"",n=n!=null?""+Vt(n):r,w||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),$e(t)}function Il(t,n,r){n==="number"&&ms(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function fi(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Vt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function xc(t,n,r){if(n!=null&&(n=""+Vt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Vt(r):""}function mi(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(Fe(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Vt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),$e(t)}function rn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var _c=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||_c.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ml(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Dl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Dl(t,f,n[f])}function dr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hr(t){return pi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var Ol=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gi=null,ps=null;function xa(t){var n=Sn(t);if(n&&(t=n.stateNode)){var r=t[Ot]||null;e:switch(t=n.stateNode,n.type){case"input":if(ur(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+an(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Ot]||null;if(!h)throw Error(a(90));ur(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&ba(l)}break e;case"textarea":xc(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&fi(t,!!r.multiple,n,!1)}}}var fr=!1;function yi(t,n,r){if(fr)return t(n,r);fr=!0;try{var l=t(n);return l}finally{if(fr=!1,(gi!==null||ps!==null)&&(pu(),gi&&(n=gi,t=ps,ps=gi=null,xa(n),t)))for(n=0;n<t.length;n++)xa(t[n])}}function Kn(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Ot]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_a=!1;if(kn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){_a=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{_a=!1}var gs=null,Vl=null,wa=null;function zl(){if(wa)return wa;var t,n=Vl,r=n.length,l,h="value"in gs?gs.value:gs.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var v=r-t;for(l=1;l<=v&&n[r-l]===h[f-l];l++);return wa=h.slice(t,1<l?1-l:void 0)}function Ta(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Vs(){return!0}function Yn(){return!1}function Pt(t){function n(r,l,h,f,v){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(r=t[w],this[w]=r?r(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Vs:Yn,this.isPropagationStopped=Yn,this}return N(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),n}var zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ys=Pt(zs),bi=N({},zs,{view:0,detail:0}),Ll=Pt(bi),vi,mr,bs,pr=N({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bs&&(bs&&t.type==="mousemove"?(vi=t.screenX-bs.screenX,mr=t.screenY-bs.screenY):mr=vi=0,bs=t),vi)},movementY:function(t){return"movementY"in t?t.movementY:mr}}),Ul=Pt(pr),Ea=N({},pr,{dataTransfer:0}),Tc=Pt(Ea),Ec=N({},bi,{relatedTarget:0}),Na=Pt(Ec),Pl=N({},zs,{animationName:0,elapsedTime:0,pseudoElement:0}),Nc=Pt(Pl),gr=N({},zs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sc=Pt(gr),Ac=N({},zs,{data:0}),vs=Pt(Ac),kc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rc(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=jc[t])?!!n[t]:!1}function xi(){return Rc}var tn=N({},bi,{key:function(t){if(t.key){var n=kc[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ta(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xi,charCode:function(t){return t.type==="keypress"?Ta(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ta(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ic=Pt(tn),Dc=N({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ls=Pt(Dc),c=N({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xi}),p=Pt(c),x=N({},zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=Pt(x),H=N({},pr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Pt(H),ie=N({},zs,{newState:0,oldState:0}),Ae=Pt(ie),mt=[9,13,27,32],Ge=kn&&"CompositionEvent"in window,ot=null;kn&&"documentMode"in document&&(ot=document.documentMode);var Cn=kn&&"TextEvent"in window&&!ot,xs=kn&&(!Ge||ot&&8<ot&&11>=ot),Qn=" ",$n=!1;function Sa(t,n){switch(t){case"keyup":return mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var br=!1;function U1(t,n){switch(t){case"compositionend":return yr(n);case"keypress":return n.which!==32?null:($n=!0,Qn);case"textInput":return t=n.data,t===Qn&&$n?null:t;default:return null}}function P1(t,n){if(br)return t==="compositionend"||!Ge&&Sa(t,n)?(t=zl(),wa=Vl=gs=null,br=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xs&&n.locale!=="ko"?null:n.data;default:return null}}var B1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!B1[t.type]:n==="textarea"}function Fp(t,n,r,l){gi?ps?ps.push(l):ps=[l]:gi=l,n=wu(n,"onChange"),0<n.length&&(r=new ys("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Bl=null,ql=null;function q1(t){Sy(t,0)}function Mc(t){var n=mn(t);if(ba(n))return t}function Gp(t,n){if(t==="change")return n}var Kp=!1;if(kn){var Zd;if(kn){var Jd="oninput"in document;if(!Jd){var Yp=document.createElement("div");Yp.setAttribute("oninput","return;"),Jd=typeof Yp.oninput=="function"}Zd=Jd}else Zd=!1;Kp=Zd&&(!document.documentMode||9<document.documentMode)}function Qp(){Bl&&(Bl.detachEvent("onpropertychange",$p),ql=Bl=null)}function $p(t){if(t.propertyName==="value"&&Mc(ql)){var n=[];Fp(n,ql,t,An(t)),yi(q1,n)}}function H1(t,n,r){t==="focusin"?(Qp(),Bl=n,ql=r,Bl.attachEvent("onpropertychange",$p)):t==="focusout"&&Qp()}function F1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mc(ql)}function G1(t,n){if(t==="click")return Mc(n)}function K1(t,n){if(t==="input"||t==="change")return Mc(n)}function Y1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var gn=typeof Object.is=="function"?Object.is:Y1;function Hl(t,n){if(gn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!bt.call(n,h)||!gn(t[h],n[h]))return!1}return!0}function Xp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zp(t,n){var r=Xp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xp(r)}}function Jp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Jp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Wp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ms(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=ms(t.document)}return n}function Wd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Q1=kn&&"documentMode"in document&&11>=document.documentMode,vr=null,eh=null,Fl=null,th=!1;function eg(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;th||vr==null||vr!==ms(l)||(l=vr,"selectionStart"in l&&Wd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Fl&&Hl(Fl,l)||(Fl=l,l=wu(eh,"onSelect"),0<l.length&&(n=new ys("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=vr)))}function Aa(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var xr={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionrun:Aa("Transition","TransitionRun"),transitionstart:Aa("Transition","TransitionStart"),transitioncancel:Aa("Transition","TransitionCancel"),transitionend:Aa("Transition","TransitionEnd")},nh={},tg={};kn&&(tg=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);function ka(t){if(nh[t])return nh[t];if(!xr[t])return t;var n=xr[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in tg)return nh[t]=n[r];return t}var ng=ka("animationend"),sg=ka("animationiteration"),ig=ka("animationstart"),$1=ka("transitionrun"),X1=ka("transitionstart"),Z1=ka("transitioncancel"),ag=ka("transitionend"),rg=new Map,sh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sh.push("scrollEnd");function Xn(t,n){rg.set(t,n),hs(n,[t])}var Oc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},jn=[],_r=0,ih=0;function Vc(){for(var t=_r,n=ih=_r=0;n<t;){var r=jn[n];jn[n++]=null;var l=jn[n];jn[n++]=null;var h=jn[n];jn[n++]=null;var f=jn[n];if(jn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&lg(r,h,f)}}function zc(t,n,r,l){jn[_r++]=t,jn[_r++]=n,jn[_r++]=r,jn[_r++]=l,ih|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ah(t,n,r,l){return zc(t,n,r,l),Lc(t)}function Ca(t,n){return zc(t,null,null,n),Lc(t)}function lg(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-ft(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Lc(t){if(50<fo)throw fo=0,pf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var wr={};function J1(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,n,r,l){return new J1(t,n,r,l)}function rh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Us(t,n){var r=t.alternate;return r===null?(r=yn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function og(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Uc(t,n,r,l,h,f){var v=0;if(l=t,typeof t=="function")rh(t)&&(v=1);else if(typeof t=="string")v=sT(t,r,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=yn(31,r,n,h),t.elementType=R,t.lanes=f,t;case z:return ja(r.children,h,f,n);case D:v=8,h|=24;break;case $:return t=yn(12,r,n,h|2),t.elementType=$,t.lanes=f,t;case de:return t=yn(13,r,n,h),t.elementType=de,t.lanes=f,t;case ye:return t=yn(19,r,n,h),t.elementType=ye,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I:v=10;break e;case T:v=9;break e;case ae:v=11;break e;case j:v=14;break e;case A:v=16,l=null;break e}v=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=yn(v,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function ja(t,n,r,l){return t=yn(7,t,l,n),t.lanes=r,t}function lh(t,n,r){return t=yn(6,t,null,n),t.lanes=r,t}function cg(t){var n=yn(18,null,null,0);return n.stateNode=t,n}function oh(t,n,r){return n=yn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ug=new WeakMap;function Rn(t,n){if(typeof t=="object"&&t!==null){var r=ug.get(t);return r!==void 0?r:(n={value:t,source:n,stack:_l(n)},ug.set(t,n),n)}return{value:t,source:n,stack:_l(n)}}var Tr=[],Er=0,Pc=null,Gl=0,In=[],Dn=0,_i=null,_s=1,ws="";function Ps(t,n){Tr[Er++]=Gl,Tr[Er++]=Pc,Pc=t,Gl=n}function dg(t,n,r){In[Dn++]=_s,In[Dn++]=ws,In[Dn++]=_i,_i=t;var l=_s;t=ws;var h=32-ft(l)-1;l&=~(1<<h),r+=1;var f=32-ft(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,_s=1<<32-ft(n)+h|r<<h|l,ws=f+t}else _s=1<<f|r<<h|l,ws=t}function ch(t){t.return!==null&&(Ps(t,1),dg(t,1,0))}function uh(t){for(;t===Pc;)Pc=Tr[--Er],Tr[Er]=null,Gl=Tr[--Er],Tr[Er]=null;for(;t===_i;)_i=In[--Dn],In[Dn]=null,ws=In[--Dn],In[Dn]=null,_s=In[--Dn],In[Dn]=null}function hg(t,n){In[Dn++]=_s,In[Dn++]=ws,In[Dn++]=_i,_s=n.id,ws=n.overflow,_i=t}var Bt=null,it=null,Le=!1,wi=null,Mn=!1,dh=Error(a(519));function Ti(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(Rn(n,t)),dh}function fg(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[xt]=t,n[Ot]=l,r){case"dialog":Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":case"embed":Ie("load",n);break;case"video":case"audio":for(r=0;r<po.length;r++)Ie(po[r],n);break;case"source":Ie("error",n);break;case"img":case"image":case"link":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"input":Ie("invalid",n),vc(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ie("invalid",n);break;case"textarea":Ie("invalid",n),mi(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||jy(n.textContent,r)?(l.popover!=null&&(Ie("beforetoggle",n),Ie("toggle",n)),l.onScroll!=null&&Ie("scroll",n),l.onScrollEnd!=null&&Ie("scrollend",n),l.onClick!=null&&(n.onclick=Gn),n=!0):n=!1,n||Ti(t,!0)}function mg(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Bt=Bt.return}}function Nr(t){if(t!==Bt)return!1;if(!Le)return mg(t),Le=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||jf(t.type,t.memoizedProps)),r=!r),r&&it&&Ti(t),mg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));it=Uy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));it=Uy(t)}else n===27?(n=it,zi(t.type)?(t=Of,Of=null,it=t):it=n):it=Bt?Vn(t.stateNode.nextSibling):null;return!0}function Ra(){it=Bt=null,Le=!1}function hh(){var t=wi;return t!==null&&(un===null?un=t:un.push.apply(un,t),wi=null),t}function Kl(t){wi===null?wi=[t]:wi.push(t)}var fh=V(null),Ia=null,Bs=null;function Ei(t,n,r){re(fh,n._currentValue),n._currentValue=r}function qs(t){t._currentValue=fh.current,ee(fh)}function mh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function ph(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;e:for(;f!==null;){var w=f;f=h;for(var C=0;C<n.length;C++)if(w.context===n[C]){f.lanes|=r,w=f.alternate,w!==null&&(w.lanes|=r),mh(f.return,r,t),l||(v=null);break e}f=w.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(a(341));v.lanes|=r,f=v.alternate,f!==null&&(f.lanes|=r),mh(v,r,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Sr(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var w=h.type;gn(h.pendingProps.value,v.value)||(t!==null?t.push(w):t=[w])}}else if(h===Ue.current){if(v=h.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(xo):t=[xo])}h=h.return}t!==null&&ph(n,t,r,l),n.flags|=262144}function Bc(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Da(t){Ia=t,Bs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return pg(Ia,t)}function qc(t,n){return Ia===null&&Da(t),pg(t,n)}function pg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Bs===null){if(t===null)throw Error(a(308));Bs=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Bs=Bs.next=n;return r}var W1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},ew=i.unstable_scheduleCallback,tw=i.unstable_NormalPriority,Tt={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gh(){return{controller:new W1,data:new Map,refCount:0}}function Yl(t){t.refCount--,t.refCount===0&&ew(tw,function(){t.controller.abort()})}var Ql=null,yh=0,Ar=0,kr=null;function nw(t,n){if(Ql===null){var r=Ql=[];yh=0,Ar=_f(),kr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return yh++,n.then(gg,gg),n}function gg(){if(--yh===0&&Ql!==null){kr!==null&&(kr.status="fulfilled");var t=Ql;Ql=null,Ar=0,kr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function sw(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var yg=B.S;B.S=function(t,n){ey=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&nw(t,n),yg!==null&&yg(t,n)};var Ma=V(null);function bh(){var t=Ma.current;return t!==null?t:nt.pooledCache}function Hc(t,n){n===null?re(Ma,Ma.current):re(Ma,n.pool)}function bg(){var t=bh();return t===null?null:{parent:Tt._currentValue,pool:t}}var Cr=Error(a(460)),vh=Error(a(474)),Fc=Error(a(542)),Gc={then:function(){}};function vg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Gn,Gn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,wg(t),t;default:if(typeof n.status=="string")n.then(Gn,Gn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,wg(t),t}throw Va=n,Cr}}function Oa(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Va=r,Cr):r}}var Va=null;function _g(){if(Va===null)throw Error(a(459));var t=Va;return Va=null,t}function wg(t){if(t===Cr||t===Fc)throw Error(a(483))}var jr=null,$l=0;function Kc(t){var n=$l;return $l+=1,jr===null&&(jr=[]),xg(jr,t,n)}function Xl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Yc(t,n){throw n.$$typeof===k?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Tg(t){function n(U,M){if(t){var F=U.deletions;F===null?(U.deletions=[M],U.flags|=16):F.push(M)}}function r(U,M){if(!t)return null;for(;M!==null;)n(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=Us(U,M),U.index=0,U.sibling=null,U}function f(U,M,F){return U.index=F,t?(F=U.alternate,F!==null?(F=F.index,F<M?(U.flags|=67108866,M):F):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function w(U,M,F,J){return M===null||M.tag!==6?(M=lh(F,U.mode,J),M.return=U,M):(M=h(M,F),M.return=U,M)}function C(U,M,F,J){var pe=F.type;return pe===z?X(U,M,F.props.children,J,F.key):M!==null&&(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&Oa(pe)===M.type)?(M=h(M,F.props),Xl(M,F),M.return=U,M):(M=Uc(F.type,F.key,F.props,null,U.mode,J),Xl(M,F),M.return=U,M)}function G(U,M,F,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==F.containerInfo||M.stateNode.implementation!==F.implementation?(M=oh(F,U.mode,J),M.return=U,M):(M=h(M,F.children||[]),M.return=U,M)}function X(U,M,F,J,pe){return M===null||M.tag!==7?(M=ja(F,U.mode,J,pe),M.return=U,M):(M=h(M,F),M.return=U,M)}function W(U,M,F){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=lh(""+M,U.mode,F),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case q:return F=Uc(M.type,M.key,M.props,null,U.mode,F),Xl(F,M),F.return=U,F;case Z:return M=oh(M,U.mode,F),M.return=U,M;case A:return M=Oa(M),W(U,M,F)}if(Fe(M)||P(M))return M=ja(M,U.mode,F,null),M.return=U,M;if(typeof M.then=="function")return W(U,Kc(M),F);if(M.$$typeof===I)return W(U,qc(U,M),F);Yc(U,M)}return null}function K(U,M,F,J){var pe=M!==null?M.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return pe!==null?null:w(U,M,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case q:return F.key===pe?C(U,M,F,J):null;case Z:return F.key===pe?G(U,M,F,J):null;case A:return F=Oa(F),K(U,M,F,J)}if(Fe(F)||P(F))return pe!==null?null:X(U,M,F,J,null);if(typeof F.then=="function")return K(U,M,Kc(F),J);if(F.$$typeof===I)return K(U,M,qc(U,F),J);Yc(U,F)}return null}function Q(U,M,F,J,pe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(F)||null,w(M,U,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case q:return U=U.get(J.key===null?F:J.key)||null,C(M,U,J,pe);case Z:return U=U.get(J.key===null?F:J.key)||null,G(M,U,J,pe);case A:return J=Oa(J),Q(U,M,F,J,pe)}if(Fe(J)||P(J))return U=U.get(F)||null,X(M,U,J,pe,null);if(typeof J.then=="function")return Q(U,M,F,Kc(J),pe);if(J.$$typeof===I)return Q(U,M,F,qc(M,J),pe);Yc(M,J)}return null}function he(U,M,F,J){for(var pe=null,qe=null,fe=M,je=M=0,Me=null;fe!==null&&je<F.length;je++){fe.index>je?(Me=fe,fe=null):Me=fe.sibling;var He=K(U,fe,F[je],J);if(He===null){fe===null&&(fe=Me);break}t&&fe&&He.alternate===null&&n(U,fe),M=f(He,M,je),qe===null?pe=He:qe.sibling=He,qe=He,fe=Me}if(je===F.length)return r(U,fe),Le&&Ps(U,je),pe;if(fe===null){for(;je<F.length;je++)fe=W(U,F[je],J),fe!==null&&(M=f(fe,M,je),qe===null?pe=fe:qe.sibling=fe,qe=fe);return Le&&Ps(U,je),pe}for(fe=l(fe);je<F.length;je++)Me=Q(fe,U,je,F[je],J),Me!==null&&(t&&Me.alternate!==null&&fe.delete(Me.key===null?je:Me.key),M=f(Me,M,je),qe===null?pe=Me:qe.sibling=Me,qe=Me);return t&&fe.forEach(function(qi){return n(U,qi)}),Le&&Ps(U,je),pe}function ve(U,M,F,J){if(F==null)throw Error(a(151));for(var pe=null,qe=null,fe=M,je=M=0,Me=null,He=F.next();fe!==null&&!He.done;je++,He=F.next()){fe.index>je?(Me=fe,fe=null):Me=fe.sibling;var qi=K(U,fe,He.value,J);if(qi===null){fe===null&&(fe=Me);break}t&&fe&&qi.alternate===null&&n(U,fe),M=f(qi,M,je),qe===null?pe=qi:qe.sibling=qi,qe=qi,fe=Me}if(He.done)return r(U,fe),Le&&Ps(U,je),pe;if(fe===null){for(;!He.done;je++,He=F.next())He=W(U,He.value,J),He!==null&&(M=f(He,M,je),qe===null?pe=He:qe.sibling=He,qe=He);return Le&&Ps(U,je),pe}for(fe=l(fe);!He.done;je++,He=F.next())He=Q(fe,U,je,He.value,J),He!==null&&(t&&He.alternate!==null&&fe.delete(He.key===null?je:He.key),M=f(He,M,je),qe===null?pe=He:qe.sibling=He,qe=He);return t&&fe.forEach(function(mT){return n(U,mT)}),Le&&Ps(U,je),pe}function tt(U,M,F,J){if(typeof F=="object"&&F!==null&&F.type===z&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case q:e:{for(var pe=F.key;M!==null;){if(M.key===pe){if(pe=F.type,pe===z){if(M.tag===7){r(U,M.sibling),J=h(M,F.props.children),J.return=U,U=J;break e}}else if(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&Oa(pe)===M.type){r(U,M.sibling),J=h(M,F.props),Xl(J,F),J.return=U,U=J;break e}r(U,M);break}else n(U,M);M=M.sibling}F.type===z?(J=ja(F.props.children,U.mode,J,F.key),J.return=U,U=J):(J=Uc(F.type,F.key,F.props,null,U.mode,J),Xl(J,F),J.return=U,U=J)}return v(U);case Z:e:{for(pe=F.key;M!==null;){if(M.key===pe)if(M.tag===4&&M.stateNode.containerInfo===F.containerInfo&&M.stateNode.implementation===F.implementation){r(U,M.sibling),J=h(M,F.children||[]),J.return=U,U=J;break e}else{r(U,M);break}else n(U,M);M=M.sibling}J=oh(F,U.mode,J),J.return=U,U=J}return v(U);case A:return F=Oa(F),tt(U,M,F,J)}if(Fe(F))return he(U,M,F,J);if(P(F)){if(pe=P(F),typeof pe!="function")throw Error(a(150));return F=pe.call(F),ve(U,M,F,J)}if(typeof F.then=="function")return tt(U,M,Kc(F),J);if(F.$$typeof===I)return tt(U,M,qc(U,F),J);Yc(U,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,M!==null&&M.tag===6?(r(U,M.sibling),J=h(M,F),J.return=U,U=J):(r(U,M),J=lh(F,U.mode,J),J.return=U,U=J),v(U)):r(U,M)}return function(U,M,F,J){try{$l=0;var pe=tt(U,M,F,J);return jr=null,pe}catch(fe){if(fe===Cr||fe===Fc)throw fe;var qe=yn(29,fe,null,U.mode);return qe.lanes=J,qe.return=U,qe}finally{}}}var za=Tg(!0),Eg=Tg(!1),Ni=!1;function xh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _h(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Si(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ai(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Lc(t),lg(t,null,r),n}return zc(t,l,n,r),Lc(t)}function Zl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,El(t,r)}}function wh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Th=!1;function Jl(){if(Th){var t=kr;if(t!==null)throw t}}function Wl(t,n,r,l){Th=!1;var h=t.updateQueue;Ni=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var C=w,G=C.next;C.next=null,v===null?f=G:v.next=G,v=C;var X=t.alternate;X!==null&&(X=X.updateQueue,w=X.lastBaseUpdate,w!==v&&(w===null?X.firstBaseUpdate=G:w.next=G,X.lastBaseUpdate=C))}if(f!==null){var W=h.baseState;v=0,X=G=C=null,w=f;do{var K=w.lane&-536870913,Q=K!==w.lane;if(Q?(De&K)===K:(l&K)===K){K!==0&&K===Ar&&(Th=!0),X!==null&&(X=X.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var he=t,ve=w;K=n;var tt=r;switch(ve.tag){case 1:if(he=ve.payload,typeof he=="function"){W=he.call(tt,W,K);break e}W=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ve.payload,K=typeof he=="function"?he.call(tt,W,K):he,K==null)break e;W=N({},W,K);break e;case 2:Ni=!0}}K=w.callback,K!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},X===null?(G=X=Q,C=W):X=X.next=Q,v|=K;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);X===null&&(C=W),h.baseState=C,h.firstBaseUpdate=G,h.lastBaseUpdate=X,f===null&&(h.shared.lanes=0),Ii|=v,t.lanes=v,t.memoizedState=W}}function Ng(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Sg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Ng(r[t],n)}var Rr=V(null),Qc=V(0);function Ag(t,n){t=Zs,re(Qc,t),re(Rr,n),Zs=t|n.baseLanes}function Eh(){re(Qc,Zs),re(Rr,Rr.current)}function Nh(){Zs=Qc.current,ee(Rr),ee(Qc)}var bn=V(null),On=null;function ki(t){var n=t.alternate;re(pt,pt.current&1),re(bn,t),On===null&&(n===null||Rr.current!==null||n.memoizedState!==null)&&(On=t)}function Sh(t){re(pt,pt.current),re(bn,t),On===null&&(On=t)}function kg(t){t.tag===22?(re(pt,pt.current),re(bn,t),On===null&&(On=t)):Ci()}function Ci(){re(pt,pt.current),re(bn,bn.current)}function vn(t){ee(bn),On===t&&(On=null),ee(pt)}var pt=V(0);function $c(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Df(r)||Mf(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Hs=0,ke=null,We=null,Et=null,Xc=!1,Ir=!1,La=!1,Zc=0,eo=0,Dr=null,iw=0;function dt(){throw Error(a(321))}function Ah(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!gn(t[r],n[r]))return!1;return!0}function kh(t,n,r,l,h,f){return Hs=f,ke=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=t===null||t.memoizedState===null?d0:Hh,La=!1,f=r(l,h),La=!1,Ir&&(f=jg(n,r,l,h)),Cg(t),f}function Cg(t){B.H=so;var n=We!==null&&We.next!==null;if(Hs=0,Et=We=ke=null,Xc=!1,eo=0,Dr=null,n)throw Error(a(300));t===null||Nt||(t=t.dependencies,t!==null&&Bc(t)&&(Nt=!0))}function jg(t,n,r,l){ke=t;var h=0;do{if(Ir&&(Dr=null),eo=0,Ir=!1,25<=h)throw Error(a(301));if(h+=1,Et=We=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}B.H=h0,f=n(r,l)}while(Ir);return f}function aw(){var t=B.H,n=t.useState()[0];return n=typeof n.then=="function"?to(n):n,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(ke.flags|=1024),n}function Ch(){var t=Zc!==0;return Zc=0,t}function jh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Rh(t){if(Xc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Xc=!1}Hs=0,Et=We=ke=null,Ir=!1,eo=Zc=0,Dr=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?ke.memoizedState=Et=t:Et=Et.next=t,Et}function gt(){if(We===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var n=Et===null?ke.memoizedState:Et.next;if(n!==null)Et=n,We=t;else{if(t===null)throw ke.alternate===null?Error(a(467)):Error(a(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Et===null?ke.memoizedState=Et=t:Et=Et.next=t}return Et}function Jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function to(t){var n=eo;return eo+=1,Dr===null&&(Dr=[]),t=xg(Dr,t,n),n=ke,(Et===null?n.memoizedState:Et.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?d0:Hh),t}function Wc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return to(t);if(t.$$typeof===I)return qt(t)}throw Error(a(438,String(t)))}function Ih(t){var n=null,r=ke.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Jc(),ke.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=L;return n.index++,r}function Fs(t,n){return typeof n=="function"?n(t):n}function eu(t){var n=gt();return Dh(n,We,t)}function Dh(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var w=v=null,C=null,G=n,X=!1;do{var W=G.lane&-536870913;if(W!==G.lane?(De&W)===W:(Hs&W)===W){var K=G.revertLane;if(K===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),W===Ar&&(X=!0);else if((Hs&K)===K){G=G.next,K===Ar&&(X=!0);continue}else W={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},C===null?(w=C=W,v=f):C=C.next=W,ke.lanes|=K,Ii|=K;W=G.action,La&&r(f,W),f=G.hasEagerState?G.eagerState:r(f,W)}else K={lane:W,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},C===null?(w=C=K,v=f):C=C.next=K,ke.lanes|=W,Ii|=W;G=G.next}while(G!==null&&G!==n);if(C===null?v=f:C.next=w,!gn(f,t.memoizedState)&&(Nt=!0,X&&(r=kr,r!==null)))throw r;t.memoizedState=f,t.baseState=v,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Mh(t){var n=gt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);gn(f,n.memoizedState)||(Nt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Rg(t,n,r){var l=ke,h=gt(),f=Le;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var v=!gn((We||h).memoizedState,r);if(v&&(h.memoizedState=r,Nt=!0),h=h.queue,zh(Mg.bind(null,l,h,t),[t]),h.getSnapshot!==n||v||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,Mr(9,{destroy:void 0},Dg.bind(null,l,h,r,n),null),nt===null)throw Error(a(349));f||(Hs&127)!==0||Ig(l,n,r)}return r}function Ig(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=ke.updateQueue,n===null?(n=Jc(),ke.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Dg(t,n,r,l){n.value=r,n.getSnapshot=l,Og(n)&&Vg(t)}function Mg(t,n,r){return r(function(){Og(n)&&Vg(t)})}function Og(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!gn(t,r)}catch{return!0}}function Vg(t){var n=Ca(t,2);n!==null&&dn(n,t,2)}function Oh(t){var n=nn();if(typeof t=="function"){var r=t;if(t=r(),La){Nn(!0);try{r()}finally{Nn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:t},n}function zg(t,n,r,l){return t.baseState=r,Dh(t,We,typeof l=="function"?l:Fs)}function rw(t,n,r,l,h){if(su(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};B.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Lg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Lg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=B.T,v={};B.T=v;try{var w=r(h,l),C=B.S;C!==null&&C(v,w),Ug(t,n,w)}catch(G){Vh(t,n,G)}finally{f!==null&&v.types!==null&&(f.types=v.types),B.T=f}}else try{f=r(h,l),Ug(t,n,f)}catch(G){Vh(t,n,G)}}function Ug(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Pg(t,n,l)},function(l){return Vh(t,n,l)}):Pg(t,n,r)}function Pg(t,n,r){n.status="fulfilled",n.value=r,Bg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Lg(t,r)))}function Vh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Bg(n),n=n.next;while(n!==l)}t.action=null}function Bg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function qg(t,n){return n}function Hg(t,n){if(Le){var r=nt.formState;if(r!==null){e:{var l=ke;if(Le){if(it){t:{for(var h=it,f=Mn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Vn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){it=Vn(h.nextSibling),l=h.data==="F!";break e}}Ti(l)}l=!1}l&&(n=r[0])}}return r=nn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qg,lastRenderedState:n},r.queue=l,r=o0.bind(null,ke,l),l.dispatch=r,l=Oh(!1),f=qh.bind(null,ke,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=rw.bind(null,ke,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Fg(t){var n=gt();return Gg(n,We,t)}function Gg(t,n,r){if(n=Dh(t,n,qg)[0],t=eu(Fs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=to(n)}catch(v){throw v===Cr?Fc:v}else l=n;n=gt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(ke.flags|=2048,Mr(9,{destroy:void 0},lw.bind(null,h,r),null)),[l,f,t]}function lw(t,n){t.action=n}function Kg(t){var n=gt(),r=We;if(r!==null)return Gg(n,r,t);gt(),n=n.memoizedState,r=gt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Mr(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=ke.updateQueue,n===null&&(n=Jc(),ke.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Yg(){return gt().memoizedState}function tu(t,n,r,l){var h=nn();ke.flags|=t,h.memoizedState=Mr(1|n,{destroy:void 0},r,l===void 0?null:l)}function nu(t,n,r,l){var h=gt();l=l===void 0?null:l;var f=h.memoizedState.inst;We!==null&&l!==null&&Ah(l,We.memoizedState.deps)?h.memoizedState=Mr(n,f,r,l):(ke.flags|=t,h.memoizedState=Mr(1|n,f,r,l))}function Qg(t,n){tu(8390656,8,t,n)}function zh(t,n){nu(2048,8,t,n)}function ow(t){ke.flags|=4;var n=ke.updateQueue;if(n===null)n=Jc(),ke.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function $g(t){var n=gt().memoizedState;return ow({ref:n,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Xg(t,n){return nu(4,2,t,n)}function Zg(t,n){return nu(4,4,t,n)}function Jg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Wg(t,n,r){r=r!=null?r.concat([t]):null,nu(4,4,Jg.bind(null,n,t),r)}function Lh(){}function e0(t,n){var r=gt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Ah(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function t0(t,n){var r=gt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Ah(n,l[1]))return l[0];if(l=t(),La){Nn(!0);try{t()}finally{Nn(!1)}}return r.memoizedState=[l,n],l}function Uh(t,n,r){return r===void 0||(Hs&1073741824)!==0&&(De&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=ny(),ke.lanes|=t,Ii|=t,r)}function n0(t,n,r,l){return gn(r,n)?r:Rr.current!==null?(t=Uh(t,r,l),gn(t,n)||(Nt=!0),t):(Hs&42)===0||(Hs&1073741824)!==0&&(De&261930)===0?(Nt=!0,t.memoizedState=r):(t=ny(),ke.lanes|=t,Ii|=t,n)}function s0(t,n,r,l,h){var f=se.p;se.p=f!==0&&8>f?f:8;var v=B.T,w={};B.T=w,qh(t,!1,n,r);try{var C=h(),G=B.S;if(G!==null&&G(w,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var X=sw(C,l);no(t,n,X,wn(t))}else no(t,n,l,wn(t))}catch(W){no(t,n,{then:function(){},status:"rejected",reason:W},wn())}finally{se.p=f,v!==null&&w.types!==null&&(v.types=w.types),B.T=v}}function cw(){}function Ph(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=i0(t).queue;s0(t,h,n,be,r===null?cw:function(){return a0(t),r(l)})}function i0(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:be},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function a0(t){var n=i0(t);n.next===null&&(n=t.alternate.memoizedState),no(t,n.next.queue,{},wn())}function Bh(){return qt(xo)}function r0(){return gt().memoizedState}function l0(){return gt().memoizedState}function uw(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=wn();t=Si(r);var l=Ai(n,t,r);l!==null&&(dn(l,n,r),Zl(l,n,r)),n={cache:gh()},t.payload=n;return}n=n.return}}function dw(t,n,r){var l=wn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},su(t)?c0(n,r):(r=ah(t,n,r,l),r!==null&&(dn(r,t,l),u0(r,n,l)))}function o0(t,n,r){var l=wn();no(t,n,r,l)}function no(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(su(t))c0(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,w=f(v,r);if(h.hasEagerState=!0,h.eagerState=w,gn(w,v))return zc(t,n,h,0),nt===null&&Vc(),!1}catch{}finally{}if(r=ah(t,n,h,l),r!==null)return dn(r,t,l),u0(r,n,l),!0}return!1}function qh(t,n,r,l){if(l={lane:2,revertLane:_f(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},su(t)){if(n)throw Error(a(479))}else n=ah(t,r,l,2),n!==null&&dn(n,t,2)}function su(t){var n=t.alternate;return t===ke||n!==null&&n===ke}function c0(t,n){Ir=Xc=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function u0(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,El(t,r)}}var so={readContext:qt,use:Wc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};so.useEffectEvent=dt;var d0={readContext:qt,use:Wc,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:qt,useEffect:Qg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,tu(4194308,4,Jg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return tu(4194308,4,t,n)},useInsertionEffect:function(t,n){tu(4,2,t,n)},useMemo:function(t,n){var r=nn();n=n===void 0?null:n;var l=t();if(La){Nn(!0);try{t()}finally{Nn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=nn();if(r!==void 0){var h=r(n);if(La){Nn(!0);try{r(n)}finally{Nn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=dw.bind(null,ke,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=Oh(t);var n=t.queue,r=o0.bind(null,ke,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Lh,useDeferredValue:function(t,n){var r=nn();return Uh(r,t,n)},useTransition:function(){var t=Oh(!1);return t=s0.bind(null,ke,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=ke,h=nn();if(Le){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),nt===null)throw Error(a(349));(De&127)!==0||Ig(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Qg(Mg.bind(null,l,f,t),[t]),l.flags|=2048,Mr(9,{destroy:void 0},Dg.bind(null,l,f,r,n),null),r},useId:function(){var t=nn(),n=nt.identifierPrefix;if(Le){var r=ws,l=_s;r=(l&~(1<<32-ft(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Zc++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=iw++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Bh,useFormState:Hg,useActionState:Hg,useOptimistic:function(t){var n=nn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=qh.bind(null,ke,!0,r),r.dispatch=n,[t,n]},useMemoCache:Ih,useCacheRefresh:function(){return nn().memoizedState=uw.bind(null,ke)},useEffectEvent:function(t){var n=nn(),r={impl:t};return n.memoizedState=r,function(){if((Ke&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Hh={readContext:qt,use:Wc,useCallback:e0,useContext:qt,useEffect:zh,useImperativeHandle:Wg,useInsertionEffect:Xg,useLayoutEffect:Zg,useMemo:t0,useReducer:eu,useRef:Yg,useState:function(){return eu(Fs)},useDebugValue:Lh,useDeferredValue:function(t,n){var r=gt();return n0(r,We.memoizedState,t,n)},useTransition:function(){var t=eu(Fs)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:to(t),n]},useSyncExternalStore:Rg,useId:r0,useHostTransitionStatus:Bh,useFormState:Fg,useActionState:Fg,useOptimistic:function(t,n){var r=gt();return zg(r,We,t,n)},useMemoCache:Ih,useCacheRefresh:l0};Hh.useEffectEvent=$g;var h0={readContext:qt,use:Wc,useCallback:e0,useContext:qt,useEffect:zh,useImperativeHandle:Wg,useInsertionEffect:Xg,useLayoutEffect:Zg,useMemo:t0,useReducer:Mh,useRef:Yg,useState:function(){return Mh(Fs)},useDebugValue:Lh,useDeferredValue:function(t,n){var r=gt();return We===null?Uh(r,t,n):n0(r,We.memoizedState,t,n)},useTransition:function(){var t=Mh(Fs)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:to(t),n]},useSyncExternalStore:Rg,useId:r0,useHostTransitionStatus:Bh,useFormState:Kg,useActionState:Kg,useOptimistic:function(t,n){var r=gt();return We!==null?zg(r,We,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Ih,useCacheRefresh:l0};h0.useEffectEvent=$g;function Fh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:N({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Gh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=wn(),h=Si(l);h.payload=n,r!=null&&(h.callback=r),n=Ai(t,h,l),n!==null&&(dn(n,t,l),Zl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=wn(),h=Si(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ai(t,h,l),n!==null&&(dn(n,t,l),Zl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=wn(),l=Si(r);l.tag=2,n!=null&&(l.callback=n),n=Ai(t,l,r),n!==null&&(dn(n,t,r),Zl(n,t,r))}};function f0(t,n,r,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!Hl(r,l)||!Hl(h,f):!0}function m0(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Gh.enqueueReplaceState(n,n.state,null)}function Ua(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=N({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function p0(t){Oc(t)}function g0(t){console.error(t)}function y0(t){Oc(t)}function iu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function b0(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Kh(t,n,r){return r=Si(r),r.tag=3,r.payload={element:null},r.callback=function(){iu(t,n)},r}function v0(t){return t=Si(t),t.tag=3,t}function x0(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){b0(n,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){b0(n,r,l),typeof h!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function hw(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Sr(n,r,h,!0),r=bn.current,r!==null){switch(r.tag){case 31:case 13:return On===null?gu():r.alternate===null&&ht===0&&(ht=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Gc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),bf(t,l,h)),!1;case 22:return r.flags|=65536,l===Gc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),bf(t,l,h)),!1}throw Error(a(435,r.tag))}return bf(t,l,h),gu(),!1}if(Le)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==dh&&(t=Error(a(422),{cause:l}),Kl(Rn(t,r)))):(l!==dh&&(n=Error(a(423),{cause:l}),Kl(Rn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Rn(l,r),h=Kh(t.stateNode,l,h),wh(t,h),ht!==4&&(ht=2)),!1;var f=Error(a(520),{cause:l});if(f=Rn(f,r),ho===null?ho=[f]:ho.push(f),ht!==4&&(ht=2),n===null)return!0;l=Rn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Kh(r.stateNode,l,t),wh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Di===null||!Di.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=v0(h),x0(h,t,r,l),wh(r,h),!1}r=r.return}while(r!==null);return!1}var Yh=Error(a(461)),Nt=!1;function Ht(t,n,r,l){n.child=t===null?Eg(n,null,r,l):za(n,t.child,r,l)}function _0(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var v={};for(var w in l)w!=="ref"&&(v[w]=l[w])}else v=l;return Da(n),l=kh(t,n,r,v,f,h),w=Ch(),t!==null&&!Nt?(jh(t,n,h),Gs(t,n,h)):(Le&&w&&ch(n),n.flags|=1,Ht(t,n,l,h),n.child)}function w0(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!rh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,T0(t,n,f,l,h)):(t=Uc(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!tf(t,h)){var v=f.memoizedProps;if(r=r.compare,r=r!==null?r:Hl,r(v,l)&&t.ref===n.ref)return Gs(t,n,h)}return n.flags|=1,t=Us(f,l),t.ref=n.ref,t.return=n,n.child=t}function T0(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Hl(f,l)&&t.ref===n.ref)if(Nt=!1,n.pendingProps=l=f,tf(t,h))(t.flags&131072)!==0&&(Nt=!0);else return n.lanes=t.lanes,Gs(t,n,h)}return Qh(t,n,r,l,h)}function E0(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return N0(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Hc(n,f!==null?f.cachePool:null),f!==null?Ag(n,f):Eh(),kg(n);else return l=n.lanes=536870912,N0(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Hc(n,f.cachePool),Ag(n,f),Ci(),n.memoizedState=null):(t!==null&&Hc(n,null),Eh(),Ci());return Ht(t,n,h,r),n.child}function io(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function N0(t,n,r,l,h){var f=bh();return f=f===null?null:{parent:Tt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Hc(n,null),Eh(),kg(n),t!==null&&Sr(t,n,l,!0),n.childLanes=h,null}function au(t,n){return n=lu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function S0(t,n,r){return za(n,t.child,null,r),t=au(n,n.pendingProps),t.flags|=2,vn(n),n.memoizedState=null,t}function fw(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=au(n,l),n.lanes=536870912,io(null,t);if(Sh(n),(t=it)?(t=Ly(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:_i!==null?{id:_s,overflow:ws}:null,retryLane:536870912,hydrationErrors:null},r=cg(t),r.return=n,n.child=r,Bt=n,it=null)):t=null,t===null)throw Ti(n);return n.lanes=536870912,null}return au(n,l)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(Sh(n),h)if(n.flags&256)n.flags&=-257,n=S0(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Nt||Sr(t,n,r,!1),h=(r&t.childLanes)!==0,Nt||h){if(l=nt,l!==null&&(v=Nl(l,r),v!==0&&v!==f.retryLane))throw f.retryLane=v,Ca(t,v),dn(l,t,v),Yh;gu(),n=S0(t,n,r)}else t=f.treeContext,it=Vn(v.nextSibling),Bt=n,Le=!0,wi=null,Mn=!1,t!==null&&hg(n,t),n=au(n,l),n.flags|=4096;return n}return t=Us(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ru(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Qh(t,n,r,l,h){return Da(n),r=kh(t,n,r,l,void 0,h),l=Ch(),t!==null&&!Nt?(jh(t,n,h),Gs(t,n,h)):(Le&&l&&ch(n),n.flags|=1,Ht(t,n,r,h),n.child)}function A0(t,n,r,l,h,f){return Da(n),n.updateQueue=null,r=jg(n,l,r,h),Cg(t),l=Ch(),t!==null&&!Nt?(jh(t,n,f),Gs(t,n,f)):(Le&&l&&ch(n),n.flags|=1,Ht(t,n,r,f),n.child)}function k0(t,n,r,l,h){if(Da(n),n.stateNode===null){var f=wr,v=r.contextType;typeof v=="object"&&v!==null&&(f=qt(v)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Gh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},xh(n),v=r.contextType,f.context=typeof v=="object"&&v!==null?qt(v):wr,f.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Fh(n,r,v,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Gh.enqueueReplaceState(f,f.state,null),Wl(n,l,f,h),Jl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var w=n.memoizedProps,C=Ua(r,w);f.props=C;var G=f.context,X=r.contextType;v=wr,typeof X=="object"&&X!==null&&(v=qt(X));var W=r.getDerivedStateFromProps;X=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",w=n.pendingProps!==w,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w||G!==v)&&m0(n,f,l,v),Ni=!1;var K=n.memoizedState;f.state=K,Wl(n,l,f,h),Jl(),G=n.memoizedState,w||K!==G||Ni?(typeof W=="function"&&(Fh(n,r,W,l),G=n.memoizedState),(C=Ni||f0(n,r,C,l,K,G,v))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=G),f.props=l,f.state=G,f.context=v,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,_h(t,n),v=n.memoizedProps,X=Ua(r,v),f.props=X,W=n.pendingProps,K=f.context,G=r.contextType,C=wr,typeof G=="object"&&G!==null&&(C=qt(G)),w=r.getDerivedStateFromProps,(G=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==W||K!==C)&&m0(n,f,l,C),Ni=!1,K=n.memoizedState,f.state=K,Wl(n,l,f,h),Jl();var Q=n.memoizedState;v!==W||K!==Q||Ni||t!==null&&t.dependencies!==null&&Bc(t.dependencies)?(typeof w=="function"&&(Fh(n,r,w,l),Q=n.memoizedState),(X=Ni||f0(n,r,X,l,K,Q,C)||t!==null&&t.dependencies!==null&&Bc(t.dependencies))?(G||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),f.props=l,f.state=Q,f.context=C,l=X):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ru(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=za(n,t.child,null,h),n.child=za(n,null,r,h)):Ht(t,n,r,h),n.memoizedState=f.state,t=n.child):t=Gs(t,n,h),t}function C0(t,n,r,l){return Ra(),n.flags|=256,Ht(t,n,r,l),n.child}var $h={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xh(t){return{baseLanes:t,cachePool:bg()}}function Zh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=_n),t}function j0(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Le){if(h?ki(n):Ci(),(t=it)?(t=Ly(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:_i!==null?{id:_s,overflow:ws}:null,retryLane:536870912,hydrationErrors:null},r=cg(t),r.return=n,n.child=r,Bt=n,it=null)):t=null,t===null)throw Ti(n);return Mf(t)?n.lanes=32:n.lanes=536870912,null}var w=l.children;return l=l.fallback,h?(Ci(),h=n.mode,w=lu({mode:"hidden",children:w},h),l=ja(l,h,r,null),w.return=n,l.return=n,w.sibling=l,n.child=w,l=n.child,l.memoizedState=Xh(r),l.childLanes=Zh(t,v,r),n.memoizedState=$h,io(null,l)):(ki(n),Jh(n,w))}var C=t.memoizedState;if(C!==null&&(w=C.dehydrated,w!==null)){if(f)n.flags&256?(ki(n),n.flags&=-257,n=Wh(t,n,r)):n.memoizedState!==null?(Ci(),n.child=t.child,n.flags|=128,n=null):(Ci(),w=l.fallback,h=n.mode,l=lu({mode:"visible",children:l.children},h),w=ja(w,h,r,null),w.flags|=2,l.return=n,w.return=n,l.sibling=w,n.child=l,za(n,t.child,null,r),l=n.child,l.memoizedState=Xh(r),l.childLanes=Zh(t,v,r),n.memoizedState=$h,n=io(null,l));else if(ki(n),Mf(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var G=v.dgst;v=G,l=Error(a(419)),l.stack="",l.digest=v,Kl({value:l,source:null,stack:null}),n=Wh(t,n,r)}else if(Nt||Sr(t,n,r,!1),v=(r&t.childLanes)!==0,Nt||v){if(v=nt,v!==null&&(l=Nl(v,r),l!==0&&l!==C.retryLane))throw C.retryLane=l,Ca(t,l),dn(v,t,l),Yh;Df(w)||gu(),n=Wh(t,n,r)}else Df(w)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,it=Vn(w.nextSibling),Bt=n,Le=!0,wi=null,Mn=!1,t!==null&&hg(n,t),n=Jh(n,l.children),n.flags|=4096);return n}return h?(Ci(),w=l.fallback,h=n.mode,C=t.child,G=C.sibling,l=Us(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,G!==null?w=Us(G,w):(w=ja(w,h,r,null),w.flags|=2),w.return=n,l.return=n,l.sibling=w,n.child=l,io(null,l),l=n.child,w=t.child.memoizedState,w===null?w=Xh(r):(h=w.cachePool,h!==null?(C=Tt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=bg(),w={baseLanes:w.baseLanes|r,cachePool:h}),l.memoizedState=w,l.childLanes=Zh(t,v,r),n.memoizedState=$h,io(t.child,l)):(ki(n),r=t.child,t=r.sibling,r=Us(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=r,n.memoizedState=null,r)}function Jh(t,n){return n=lu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function lu(t,n){return t=yn(22,t,null,n),t.lanes=0,t}function Wh(t,n,r){return za(n,t.child,null,r),t=Jh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function R0(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),mh(t.return,n,r)}function ef(t,n,r,l,h,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=r,v.tailMode=h,v.treeForkCount=f)}function I0(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var v=pt.current,w=(v&2)!==0;if(w?(v=v&1|2,n.flags|=128):v&=1,re(pt,v),Ht(t,n,l,r),l=Le?Gl:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&R0(t,r,n);else if(t.tag===19)R0(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&$c(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),ef(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&$c(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}ef(n,!0,r,null,f,l);break;case"together":ef(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Gs(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ii|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Sr(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Us(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Us(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function tf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Bc(t)))}function mw(t,n,r){switch(n.tag){case 3:Rt(n,n.stateNode.containerInfo),Ei(n,Tt,t.memoizedState.cache),Ra();break;case 27:case 5:da(n);break;case 4:Rt(n,n.stateNode.containerInfo);break;case 10:Ei(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Sh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ki(n),n.flags|=128,null):(r&n.child.childLanes)!==0?j0(t,n,r):(ki(n),t=Gs(t,n,r),t!==null?t.sibling:null);ki(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Sr(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return I0(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(pt,pt.current),l)break;return null;case 22:return n.lanes=0,E0(t,n,r,n.pendingProps);case 24:Ei(n,Tt,t.memoizedState.cache)}return Gs(t,n,r)}function D0(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Nt=!0;else{if(!tf(t,r)&&(n.flags&128)===0)return Nt=!1,mw(t,n,r);Nt=(t.flags&131072)!==0}else Nt=!1,Le&&(n.flags&1048576)!==0&&dg(n,Gl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Oa(n.elementType),n.type=t,typeof t=="function")rh(t)?(l=Ua(t,l),n.tag=1,n=k0(null,n,t,l,r)):(n.tag=0,n=Qh(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===ae){n.tag=11,n=_0(null,n,t,l,r);break e}else if(h===j){n.tag=14,n=w0(null,n,t,l,r);break e}}throw n=xe(t)||t,Error(a(306,n,""))}}return n;case 0:return Qh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Ua(l,n.pendingProps),k0(t,n,l,h,r);case 3:e:{if(Rt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,_h(t,n),Wl(n,l,null,r);var v=n.memoizedState;if(l=v.cache,Ei(n,Tt,l),l!==f.cache&&ph(n,[Tt],r,!0),Jl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=C0(t,n,l,r);break e}else if(l!==h){h=Rn(Error(a(424)),n),Kl(h),n=C0(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=Vn(t.firstChild),Bt=n,Le=!0,wi=null,Mn=!0,r=Eg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ra(),l===h){n=Gs(t,n,r);break e}Ht(t,n,l,r)}n=n.child}return n;case 26:return ru(t,n),t===null?(r=Fy(n.type,null,n.pendingProps,null))?n.memoizedState=r:Le||(r=n.type,t=n.pendingProps,l=Tu(Ce.current).createElement(r),l[xt]=n,l[Ot]=t,Ft(l,r,t),_t(l),n.stateNode=l):n.memoizedState=Fy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return da(n),t===null&&Le&&(l=n.stateNode=By(n.type,n.pendingProps,Ce.current),Bt=n,Mn=!0,h=it,zi(n.type)?(Of=h,it=Vn(l.firstChild)):it=h),Ht(t,n,n.pendingProps.children,r),ru(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Le&&((h=l=it)&&(l=Fw(l,n.type,n.pendingProps,Mn),l!==null?(n.stateNode=l,Bt=n,it=Vn(l.firstChild),Mn=!1,h=!0):h=!1),h||Ti(n)),da(n),h=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,jf(h,f)?l=null:v!==null&&jf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=kh(t,n,aw,null,null,r),xo._currentValue=h),ru(t,n),Ht(t,n,l,r),n.child;case 6:return t===null&&Le&&((t=r=it)&&(r=Gw(r,n.pendingProps,Mn),r!==null?(n.stateNode=r,Bt=n,it=null,t=!0):t=!1),t||Ti(n)),null;case 13:return j0(t,n,r);case 4:return Rt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=za(n,null,l,r):Ht(t,n,l,r),n.child;case 11:return _0(t,n,n.type,n.pendingProps,r);case 7:return Ht(t,n,n.pendingProps,r),n.child;case 8:return Ht(t,n,n.pendingProps.children,r),n.child;case 12:return Ht(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Ei(n,n.type,l.value),Ht(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Da(n),h=qt(h),l=l(h),n.flags|=1,Ht(t,n,l,r),n.child;case 14:return w0(t,n,n.type,n.pendingProps,r);case 15:return T0(t,n,n.type,n.pendingProps,r);case 19:return I0(t,n,r);case 31:return fw(t,n,r);case 22:return E0(t,n,r,n.pendingProps);case 24:return Da(n),l=qt(Tt),t===null?(h=bh(),h===null&&(h=nt,f=gh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},xh(n),Ei(n,Tt,h)):((t.lanes&r)!==0&&(_h(t,n),Wl(n,null,null,r),Jl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ei(n,Tt,l)):(l=f.cache,Ei(n,Tt,l),l!==h.cache&&ph(n,[Tt],r,!0))),Ht(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ks(t){t.flags|=4}function nf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(ry())t.flags|=8192;else throw Va=Gc,vh}else t.flags&=-16777217}function M0(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!$y(n))if(ry())t.flags|=8192;else throw Va=Gc,vh}function ou(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?mc():536870912,t.lanes|=n,Lr|=n)}function ao(t,n){if(!Le)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function pw(t,n,r){var l=n.pendingProps;switch(uh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(n),null;case 1:return at(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),qs(Tt),lt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Nr(n)?Ks(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hh())),at(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Ks(n),f!==null?(at(n),M0(n,f)):(at(n),nf(n,h,null,l,r))):f?f!==t.memoizedState?(Ks(n),at(n),M0(n,f)):(at(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ks(n),at(n),nf(n,h,t,l,r)),null;case 27:if(sr(n),r=Ce.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ks(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return at(n),null}t=ue.current,Nr(n)?fg(n):(t=By(h,l,r),n.stateNode=t,Ks(n))}return at(n),null;case 5:if(sr(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ks(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return at(n),null}if(f=ue.current,Nr(n))fg(n);else{var v=Tu(Ce.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}f[xt]=n,f[Ot]=l;e:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break e;for(;v.sibling===null;){if(v.return===null||v.return===n)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=f;e:switch(Ft(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ks(n)}}return at(n),nf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ks(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ce.current,Nr(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[xt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||jy(t.nodeValue,r)),t||Ti(n,!0)}else t=Tu(t).createTextNode(l),t[xt]=n,n.stateNode=t}return at(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Nr(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[xt]=n}else Ra(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;at(n),t=!1}else r=hh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return at(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Nr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[xt]=n}else Ra(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;at(n),h=!1}else h=hh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),ou(n,n.updateQueue),at(n),null);case 4:return lt(),t===null&&Nf(n.stateNode.containerInfo),at(n),null;case 10:return qs(n.type),at(n),null;case 19:if(ee(pt),l=n.memoizedState,l===null)return at(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)ao(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=$c(t),f!==null){for(n.flags|=128,ao(l,!1),t=f.updateQueue,n.updateQueue=t,ou(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)og(r,t),r=r.sibling;return re(pt,pt.current&1|2),Le&&Ps(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&en()>fu&&(n.flags|=128,h=!0,ao(l,!1),n.lanes=4194304)}else{if(!h)if(t=$c(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ou(n,t),ao(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Le)return at(n),null}else 2*en()-l.renderingStartTime>fu&&r!==536870912&&(n.flags|=128,h=!0,ao(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,r=pt.current,re(pt,h?r&1|2:r&1),Le&&Ps(n,l.treeForkCount),t):(at(n),null);case 22:case 23:return vn(n),Nh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(at(n),n.subtreeFlags&6&&(n.flags|=8192)):at(n),r=n.updateQueue,r!==null&&ou(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&ee(Ma),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),qs(Tt),at(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function gw(t,n){switch(uh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return qs(Tt),lt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return sr(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(a(340));Ra()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(vn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ra()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ee(pt),null;case 4:return lt(),null;case 10:return qs(n.type),null;case 22:case 23:return vn(n),Nh(),t!==null&&ee(Ma),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return qs(Tt),null;case 25:return null;default:return null}}function O0(t,n){switch(uh(n),n.tag){case 3:qs(Tt),lt();break;case 26:case 27:case 5:sr(n);break;case 4:lt();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:ee(pt);break;case 10:qs(n.type);break;case 22:case 23:vn(n),Nh(),t!==null&&ee(Ma);break;case 24:qs(Tt)}}function ro(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,v=r.inst;l=f(),v.destroy=l}r=r.next}while(r!==h)}}catch(w){Ze(n,n.return,w)}}function ji(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,h=n;var C=r,G=w;try{G()}catch(X){Ze(h,C,X)}}}l=l.next}while(l!==f)}}catch(X){Ze(n,n.return,X)}}function V0(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Sg(n,r)}catch(l){Ze(t,t.return,l)}}}function z0(t,n,r){r.props=Ua(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ze(t,n,l)}}function lo(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){Ze(t,n,h)}}function Ts(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Ze(t,n,h)}else r.current=null}function L0(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Ze(t,t.return,h)}}function sf(t,n,r){try{var l=t.stateNode;Lw(l,t.type,r,n),l[Ot]=n}catch(h){Ze(t,t.return,h)}}function U0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&zi(t.type)||t.tag===4}function af(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||U0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&zi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Gn));else if(l!==4&&(l===27&&zi(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(rf(t,n,r),t=t.sibling;t!==null;)rf(t,n,r),t=t.sibling}function cu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&zi(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(cu(t,n,r),t=t.sibling;t!==null;)cu(t,n,r),t=t.sibling}function P0(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ft(n,l,r),n[xt]=t,n[Ot]=r}catch(f){Ze(t,t.return,f)}}var Ys=!1,St=!1,lf=!1,B0=typeof WeakSet=="function"?WeakSet:Set,zt=null;function yw(t,n){if(t=t.containerInfo,kf=ju,t=Wp(t),Wd(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var v=0,w=-1,C=-1,G=0,X=0,W=t,K=null;t:for(;;){for(var Q;W!==r||h!==0&&W.nodeType!==3||(w=v+h),W!==f||l!==0&&W.nodeType!==3||(C=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(Q=W.firstChild)!==null;)K=W,W=Q;for(;;){if(W===t)break t;if(K===r&&++G===h&&(w=v),K===f&&++X===l&&(C=v),(Q=W.nextSibling)!==null)break;W=K,K=W.parentNode}W=Q}r=w===-1||C===-1?null:{start:w,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(Cf={focusedElem:t,selectionRange:r},ju=!1,zt=n;zt!==null;)if(n=zt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,zt=t;else for(;zt!==null;){switch(n=zt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var he=Ua(r.type,h);t=l.getSnapshotBeforeUpdate(he,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Ze(r,r.return,ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)If(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":If(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,zt=t;break}zt=n.return}}function q0(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:$s(t,r),l&4&&ro(5,r);break;case 1:if($s(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(v){Ze(r,r.return,v)}else{var h=Ua(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ze(r,r.return,v)}}l&64&&V0(r),l&512&&lo(r,r.return);break;case 3:if($s(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Sg(t,n)}catch(v){Ze(r,r.return,v)}}break;case 27:n===null&&l&4&&P0(r);case 26:case 5:$s(t,r),n===null&&l&4&&L0(r),l&512&&lo(r,r.return);break;case 12:$s(t,r);break;case 31:$s(t,r),l&4&&G0(t,r);break;case 13:$s(t,r),l&4&&K0(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Sw.bind(null,r),Kw(t,r))));break;case 22:if(l=r.memoizedState!==null||Ys,!l){n=n!==null&&n.memoizedState!==null||St,h=Ys;var f=St;Ys=l,(St=n)&&!f?Xs(t,r,(r.subtreeFlags&8772)!==0):$s(t,r),Ys=h,St=f}break;case 30:break;default:$s(t,r)}}function H0(t){var n=t.alternate;n!==null&&(t.alternate=null,H0(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&or(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,ln=!1;function Qs(t,n,r){for(r=r.child;r!==null;)F0(t,n,r),r=r.sibling}function F0(t,n,r){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Bn,r)}catch{}switch(r.tag){case 26:St||Ts(r,n),Qs(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:St||Ts(r,n);var l=ct,h=ln;zi(r.type)&&(ct=r.stateNode,ln=!1),Qs(t,n,r),yo(r.stateNode),ct=l,ln=h;break;case 5:St||Ts(r,n);case 6:if(l=ct,h=ln,ct=null,Qs(t,n,r),ct=l,ln=h,ct!==null)if(ln)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(r.stateNode)}catch(f){Ze(r,n,f)}else try{ct.removeChild(r.stateNode)}catch(f){Ze(r,n,f)}break;case 18:ct!==null&&(ln?(t=ct,Vy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Kr(t)):Vy(ct,r.stateNode));break;case 4:l=ct,h=ln,ct=r.stateNode.containerInfo,ln=!0,Qs(t,n,r),ct=l,ln=h;break;case 0:case 11:case 14:case 15:ji(2,r,n),St||ji(4,r,n),Qs(t,n,r);break;case 1:St||(Ts(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&z0(r,n,l)),Qs(t,n,r);break;case 21:Qs(t,n,r);break;case 22:St=(l=St)||r.memoizedState!==null,Qs(t,n,r),St=l;break;default:Qs(t,n,r)}}function G0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Kr(t)}catch(r){Ze(n,n.return,r)}}}function K0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Kr(t)}catch(r){Ze(n,n.return,r)}}function bw(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new B0),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new B0),n;default:throw Error(a(435,t.tag))}}function uu(t,n){var r=bw(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=Aw.bind(null,t,l);l.then(h,h)}})}function on(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,v=n,w=v;e:for(;w!==null;){switch(w.tag){case 27:if(zi(w.type)){ct=w.stateNode,ln=!1;break e}break;case 5:ct=w.stateNode,ln=!1;break e;case 3:case 4:ct=w.stateNode.containerInfo,ln=!0;break e}w=w.return}if(ct===null)throw Error(a(160));F0(f,v,h),ct=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Y0(n,t),n=n.sibling}var Zn=null;function Y0(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),cn(t),l&4&&(ji(3,t,t.return),ro(3,t),ji(5,t,t.return));break;case 1:on(n,t),cn(t),l&512&&(St||r===null||Ts(r,r.return)),l&64&&Ys&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Zn;if(on(n,t),cn(t),l&512&&(St||r===null||Ts(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[cs]||f[xt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ft(f,l,r),f[xt]=t,_t(f),l=f;break e;case"link":var v=Yy("link","href",h).get(l+(r.href||""));if(v){for(var w=0;w<v.length;w++)if(f=v[w],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(w,1);break t}}f=h.createElement(l),Ft(f,l,r),h.head.appendChild(f);break;case"meta":if(v=Yy("meta","content",h).get(l+(r.content||""))){for(w=0;w<v.length;w++)if(f=v[w],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(w,1);break t}}f=h.createElement(l),Ft(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[xt]=t,_t(f),l=f}t.stateNode=l}else Qy(h,t.type,t.stateNode);else t.stateNode=Ky(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Qy(h,t.type,t.stateNode):Ky(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&sf(t,t.memoizedProps,r.memoizedProps)}break;case 27:on(n,t),cn(t),l&512&&(St||r===null||Ts(r,r.return)),r!==null&&l&4&&sf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(on(n,t),cn(t),l&512&&(St||r===null||Ts(r,r.return)),t.flags&32){h=t.stateNode;try{rn(h,"")}catch(he){Ze(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,sf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(lf=!0);break;case 6:if(on(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(he){Ze(t,t.return,he)}}break;case 3:if(Su=null,h=Zn,Zn=Eu(n.containerInfo),on(n,t),Zn=h,cn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Kr(n.containerInfo)}catch(he){Ze(t,t.return,he)}lf&&(lf=!1,Q0(t));break;case 4:l=Zn,Zn=Eu(t.stateNode.containerInfo),on(n,t),cn(t),Zn=l;break;case 12:on(n,t),cn(t);break;case 31:on(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,uu(t,l)));break;case 13:on(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(hu=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,uu(t,l)));break;case 22:h=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,G=Ys,X=St;if(Ys=G||h,St=X||C,on(n,t),St=X,Ys=G,cn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||Ys||St||Pa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=C.stateNode;var W=C.memoizedProps.style,K=W!=null&&W.hasOwnProperty("display")?W.display:null;w.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(he){Ze(C,C.return,he)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(he){Ze(C,C.return,he)}}}else if(n.tag===18){if(r===null){C=n;try{var Q=C.stateNode;h?zy(Q,!0):zy(C.stateNode,!1)}catch(he){Ze(C,C.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,uu(t,r))));break;case 19:on(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,uu(t,l)));break;case 30:break;case 21:break;default:on(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(U0(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=af(t);cu(t,f,h);break;case 5:var v=r.stateNode;r.flags&32&&(rn(v,""),r.flags&=-33);var w=af(t);cu(t,w,v);break;case 3:case 4:var C=r.stateNode.containerInfo,G=af(t);rf(t,G,C);break;default:throw Error(a(161))}}catch(X){Ze(t,t.return,X)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Q0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Q0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function $s(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)q0(t,n.alternate,n),n=n.sibling}function Pa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ji(4,n,n.return),Pa(n);break;case 1:Ts(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&z0(n,n.return,r),Pa(n);break;case 27:yo(n.stateNode);case 26:case 5:Ts(n,n.return),Pa(n);break;case 22:n.memoizedState===null&&Pa(n);break;case 30:Pa(n);break;default:Pa(n)}t=t.sibling}}function Xs(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:Xs(h,f,r),ro(4,f);break;case 1:if(Xs(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){Ze(l,l.return,G)}if(l=f,h=l.updateQueue,h!==null){var w=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Ng(C[h],w)}catch(G){Ze(l,l.return,G)}}r&&v&64&&V0(f),lo(f,f.return);break;case 27:P0(f);case 26:case 5:Xs(h,f,r),r&&l===null&&v&4&&L0(f),lo(f,f.return);break;case 12:Xs(h,f,r);break;case 31:Xs(h,f,r),r&&v&4&&G0(h,f);break;case 13:Xs(h,f,r),r&&v&4&&K0(h,f);break;case 22:f.memoizedState===null&&Xs(h,f,r),lo(f,f.return);break;case 30:break;default:Xs(h,f,r)}n=n.sibling}}function of(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Yl(r))}function cf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Yl(t))}function Jn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)$0(t,n,r,l),n=n.sibling}function $0(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,r,l),h&2048&&ro(9,n);break;case 1:Jn(t,n,r,l);break;case 3:Jn(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Yl(t)));break;case 12:if(h&2048){Jn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,w=f.onPostCommit;typeof w=="function"&&w(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ze(n,n.return,C)}}else Jn(t,n,r,l);break;case 31:Jn(t,n,r,l);break;case 13:Jn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,r,l):oo(t,n):f._visibility&2?Jn(t,n,r,l):(f._visibility|=2,Or(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&of(v,n);break;case 24:Jn(t,n,r,l),h&2048&&cf(n.alternate,n);break;default:Jn(t,n,r,l)}}function Or(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,v=n,w=r,C=l,G=v.flags;switch(v.tag){case 0:case 11:case 15:Or(f,v,w,C,h),ro(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Or(f,v,w,C,h):oo(f,v):(X._visibility|=2,Or(f,v,w,C,h)),h&&G&2048&&of(v.alternate,v);break;case 24:Or(f,v,w,C,h),h&&G&2048&&cf(v.alternate,v);break;default:Or(f,v,w,C,h)}n=n.sibling}}function oo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:oo(r,l),h&2048&&of(l.alternate,l);break;case 24:oo(r,l),h&2048&&cf(l.alternate,l);break;default:oo(r,l)}n=n.sibling}}var co=8192;function Vr(t,n,r){if(t.subtreeFlags&co)for(t=t.child;t!==null;)X0(t,n,r),t=t.sibling}function X0(t,n,r){switch(t.tag){case 26:Vr(t,n,r),t.flags&co&&t.memoizedState!==null&&iT(r,Zn,t.memoizedState,t.memoizedProps);break;case 5:Vr(t,n,r);break;case 3:case 4:var l=Zn;Zn=Eu(t.stateNode.containerInfo),Vr(t,n,r),Zn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=co,co=16777216,Vr(t,n,r),co=l):Vr(t,n,r));break;default:Vr(t,n,r)}}function Z0(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function uo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];zt=l,W0(l,t)}Z0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)J0(t),t=t.sibling}function J0(t){switch(t.tag){case 0:case 11:case 15:uo(t),t.flags&2048&&ji(9,t,t.return);break;case 3:uo(t);break;case 12:uo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,du(t)):uo(t);break;default:uo(t)}}function du(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];zt=l,W0(l,t)}Z0(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ji(8,n,n.return),du(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,du(n));break;default:du(n)}t=t.sibling}}function W0(t,n){for(;zt!==null;){var r=zt;switch(r.tag){case 0:case 11:case 15:ji(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Yl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,zt=l;else e:for(r=t;zt!==null;){l=zt;var h=l.sibling,f=l.return;if(H0(l),l===r){zt=null;break e}if(h!==null){h.return=f,zt=h;break e}zt=f}}}var vw={getCacheForType:function(t){var n=qt(Tt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return qt(Tt).controller.signal}},xw=typeof WeakMap=="function"?WeakMap:Map,Ke=0,nt=null,Re=null,De=0,Xe=0,xn=null,Ri=!1,zr=!1,uf=!1,Zs=0,ht=0,Ii=0,Ba=0,df=0,_n=0,Lr=0,ho=null,un=null,hf=!1,hu=0,ey=0,fu=1/0,mu=null,Di=null,Dt=0,Mi=null,Ur=null,Js=0,ff=0,mf=null,ty=null,fo=0,pf=null;function wn(){return(Ke&2)!==0&&De!==0?De&-De:B.T!==null?_f():pc()}function ny(){if(_n===0)if((De&536870912)===0||Le){var t=ma;ma<<=1,(ma&3932160)===0&&(ma=262144),_n=t}else _n=536870912;return t=bn.current,t!==null&&(t.flags|=32),_n}function dn(t,n,r){(t===nt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Pr(t,0),Oi(t,De,_n,!1)),pa(t,r),((Ke&2)===0||t!==nt)&&(t===nt&&((Ke&2)===0&&(Ba|=r),ht===4&&Oi(t,De,_n,!1)),Es(t))}function sy(t,n,r){if((Ke&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||qn(t,n),h=l?Tw(t,n):yf(t,n,!0),f=l;do{if(h===0){zr&&!l&&Oi(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!_w(r)){h=yf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;e:{var w=t;h=ho;var C=w.current.memoizedState.isDehydrated;if(C&&(Pr(w,v).flags|=256),v=yf(w,v,!1),v!==2){if(uf&&!C){w.errorRecoveryDisabledLanes|=f,Ba|=f,h=4;break e}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){Pr(t,0),Oi(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Oi(l,n,_n,!Ri);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=hu+300-en(),10<h)){if(Oi(l,n,_n,!Ri),rs(l,0,!0)!==0)break e;Js=n,l.timeoutHandle=My(iy.bind(null,l,r,un,mu,hf,n,_n,Ba,Lr,Ri,f,"Throttled",-0,0),h);break e}iy(l,r,un,mu,hf,n,_n,Ba,Lr,Ri,f,null,-0,0)}}break}while(!0);Es(t)}function iy(t,n,r,l,h,f,v,w,C,G,X,W,K,Q){if(t.timeoutHandle=-1,W=n.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},X0(n,f,W);var he=(f&62914560)===f?hu-en():(f&4194048)===f?ey-en():0;if(he=aT(W,he),he!==null){Js=f,t.cancelPendingCommit=he(hy.bind(null,t,n,f,r,l,h,v,w,C,X,W,null,K,Q)),Oi(t,f,v,!G);return}}hy(t,n,f,r,l,h,v,w,C)}function _w(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Oi(t,n,r,l){n&=~df,n&=~Ba,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-ft(h),v=1<<f;l[f]=-1,h&=~v}r!==0&&ga(t,r,n)}function pu(){return(Ke&6)===0?(mo(0),!1):!0}function gf(){if(Re!==null){if(Xe===0)var t=Re.return;else t=Re,Bs=Ia=null,Rh(t),jr=null,$l=0,t=Re;for(;t!==null;)O0(t.alternate,t),t=t.return;Re=null}}function Pr(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Bw(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Js=0,gf(),nt=t,Re=r=Us(t.current,null),De=n,Xe=0,xn=null,Ri=!1,zr=qn(t,n),uf=!1,Lr=_n=df=Ba=Ii=ht=0,un=ho=null,hf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-ft(l),f=1<<h;n|=t[h],l&=~f}return Zs=n,Vc(),r}function ay(t,n){ke=null,B.H=so,n===Cr||n===Fc?(n=_g(),Xe=3):n===vh?(n=_g(),Xe=4):Xe=n===Yh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,Re===null&&(ht=1,iu(t,Rn(n,t.current)))}function ry(){var t=bn.current;return t===null?!0:(De&4194048)===De?On===null:(De&62914560)===De||(De&536870912)!==0?t===On:!1}function ly(){var t=B.H;return B.H=so,t===null?so:t}function oy(){var t=B.A;return B.A=vw,t}function gu(){ht=4,Ri||(De&4194048)!==De&&bn.current!==null||(zr=!0),(Ii&134217727)===0&&(Ba&134217727)===0||nt===null||Oi(nt,De,_n,!1)}function yf(t,n,r){var l=Ke;Ke|=2;var h=ly(),f=oy();(nt!==t||De!==n)&&(mu=null,Pr(t,n)),n=!1;var v=ht;e:do try{if(Xe!==0&&Re!==null){var w=Re,C=xn;switch(Xe){case 8:gf(),v=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var G=Xe;if(Xe=0,xn=null,Br(t,w,C,G),r&&zr){v=0;break e}break;default:G=Xe,Xe=0,xn=null,Br(t,w,C,G)}}ww(),v=ht;break}catch(X){ay(t,X)}while(!0);return n&&t.shellSuspendCounter++,Bs=Ia=null,Ke=l,B.H=h,B.A=f,Re===null&&(nt=null,De=0,Vc()),v}function ww(){for(;Re!==null;)cy(Re)}function Tw(t,n){var r=Ke;Ke|=2;var l=ly(),h=oy();nt!==t||De!==n?(mu=null,fu=en()+500,Pr(t,n)):zr=qn(t,n);e:do try{if(Xe!==0&&Re!==null){n=Re;var f=xn;t:switch(Xe){case 1:Xe=0,xn=null,Br(t,n,f,1);break;case 2:case 9:if(vg(f)){Xe=0,xn=null,uy(n);break}n=function(){Xe!==2&&Xe!==9||nt!==t||(Xe=7),Es(t)},f.then(n,n);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:vg(f)?(Xe=0,xn=null,uy(n)):(Xe=0,xn=null,Br(t,n,f,7));break;case 5:var v=null;switch(Re.tag){case 26:v=Re.memoizedState;case 5:case 27:var w=Re;if(v?$y(v):w.stateNode.complete){Xe=0,xn=null;var C=w.sibling;if(C!==null)Re=C;else{var G=w.return;G!==null?(Re=G,yu(G)):Re=null}break t}}Xe=0,xn=null,Br(t,n,f,5);break;case 6:Xe=0,xn=null,Br(t,n,f,6);break;case 8:gf(),ht=6;break e;default:throw Error(a(462))}}Ew();break}catch(X){ay(t,X)}while(!0);return Bs=Ia=null,B.H=l,B.A=h,Ke=r,Re!==null?0:(nt=null,De=0,Vc(),ht)}function Ew(){for(;Re!==null&&!Kd();)cy(Re)}function cy(t){var n=D0(t.alternate,t,Zs);t.memoizedProps=t.pendingProps,n===null?yu(t):Re=n}function uy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=A0(r,n,n.pendingProps,n.type,void 0,De);break;case 11:n=A0(r,n,n.pendingProps,n.type.render,n.ref,De);break;case 5:Rh(n);default:O0(r,n),n=Re=og(n,Zs),n=D0(r,n,Zs)}t.memoizedProps=t.pendingProps,n===null?yu(t):Re=n}function Br(t,n,r,l){Bs=Ia=null,Rh(n),jr=null,$l=0;var h=n.return;try{if(hw(t,h,n,r,De)){ht=1,iu(t,Rn(r,t.current)),Re=null;return}}catch(f){if(h!==null)throw Re=h,f;ht=1,iu(t,Rn(r,t.current)),Re=null;return}n.flags&32768?(Le||l===1?t=!0:zr||(De&536870912)!==0?t=!1:(Ri=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),dy(n,t)):yu(n)}function yu(t){var n=t;do{if((n.flags&32768)!==0){dy(n,Ri);return}t=n.return;var r=pw(n.alternate,n,Zs);if(r!==null){Re=r;return}if(n=n.sibling,n!==null){Re=n;return}Re=n=t}while(n!==null);ht===0&&(ht=5)}function dy(t,n){do{var r=gw(t.alternate,t);if(r!==null){r.flags&=32767,Re=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Re=t;return}Re=t=r}while(t!==null);ht=6,Re=null}function hy(t,n,r,l,h,f,v,w,C){t.cancelPendingCommit=null;do bu();while(Dt!==0);if((Ke&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=ih,$d(t,r,f,v,w,C),t===nt&&(Re=nt=null,De=0),Ur=n,Mi=t,Js=r,ff=f,mf=h,ty=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,kw(di,function(){return yy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,h=se.p,se.p=2,v=Ke,Ke|=4;try{yw(t,n,r)}finally{Ke=v,se.p=h,B.T=l}}Dt=1,fy(),my(),py()}}function fy(){if(Dt===1){Dt=0;var t=Mi,n=Ur,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=B.T,B.T=null;var l=se.p;se.p=2;var h=Ke;Ke|=4;try{Y0(n,t);var f=Cf,v=Wp(t.containerInfo),w=f.focusedElem,C=f.selectionRange;if(v!==w&&w&&w.ownerDocument&&Jp(w.ownerDocument.documentElement,w)){if(C!==null&&Wd(w)){var G=C.start,X=C.end;if(X===void 0&&(X=G),"selectionStart"in w)w.selectionStart=G,w.selectionEnd=Math.min(X,w.value.length);else{var W=w.ownerDocument||document,K=W&&W.defaultView||window;if(K.getSelection){var Q=K.getSelection(),he=w.textContent.length,ve=Math.min(C.start,he),tt=C.end===void 0?ve:Math.min(C.end,he);!Q.extend&&ve>tt&&(v=tt,tt=ve,ve=v);var U=Zp(w,ve),M=Zp(w,tt);if(U&&M&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var F=W.createRange();F.setStart(U.node,U.offset),Q.removeAllRanges(),ve>tt?(Q.addRange(F),Q.extend(M.node,M.offset)):(F.setEnd(M.node,M.offset),Q.addRange(F))}}}}for(W=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&W.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<W.length;w++){var J=W[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}ju=!!kf,Cf=kf=null}finally{Ke=h,se.p=l,B.T=r}}t.current=n,Dt=2}}function my(){if(Dt===2){Dt=0;var t=Mi,n=Ur,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=B.T,B.T=null;var l=se.p;se.p=2;var h=Ke;Ke|=4;try{q0(t,n.alternate,n)}finally{Ke=h,se.p=l,B.T=r}}Dt=3}}function py(){if(Dt===4||Dt===3){Dt=0,oc();var t=Mi,n=Ur,r=Js,l=ty;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Dt=5:(Dt=0,Ur=Mi=null,gy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Di=null),Os(r),n=n.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Bn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=B.T,h=se.p,se.p=2,B.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var w=l[v];f(w.value,{componentStack:w.stack})}}finally{B.T=n,se.p=h}}(Js&3)!==0&&bu(),Es(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===pf?fo++:(fo=0,pf=t):fo=0,mo(0)}}function gy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Yl(n)))}function bu(){return fy(),my(),py(),yy()}function yy(){if(Dt!==5)return!1;var t=Mi,n=ff;ff=0;var r=Os(Js),l=B.T,h=se.p;try{se.p=32>r?32:r,B.T=null,r=mf,mf=null;var f=Mi,v=Js;if(Dt=0,Ur=Mi=null,Js=0,(Ke&6)!==0)throw Error(a(331));var w=Ke;if(Ke|=4,J0(f.current),$0(f,f.current,v,r),Ke=w,mo(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Bn,f)}catch{}return!0}finally{se.p=h,B.T=l,gy(t,n)}}function by(t,n,r){n=Rn(r,n),n=Kh(t.stateNode,n,2),t=Ai(t,n,2),t!==null&&(pa(t,2),Es(t))}function Ze(t,n,r){if(t.tag===3)by(t,t,r);else for(;n!==null;){if(n.tag===3){by(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Di===null||!Di.has(l))){t=Rn(r,t),r=v0(2),l=Ai(n,r,2),l!==null&&(x0(r,l,n,t),pa(l,2),Es(l));break}}n=n.return}}function bf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new xw;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(uf=!0,h.add(r),t=Nw.bind(null,t,n,r),n.then(t,t))}function Nw(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,nt===t&&(De&r)===r&&(ht===4||ht===3&&(De&62914560)===De&&300>en()-hu?(Ke&2)===0&&Pr(t,0):df|=r,Lr===De&&(Lr=0)),Es(t)}function vy(t,n){n===0&&(n=mc()),t=Ca(t,n),t!==null&&(pa(t,n),Es(t))}function Sw(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),vy(t,r)}function Aw(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),vy(t,r)}function kw(t,n){return It(t,n)}var vu=null,qr=null,vf=!1,xu=!1,xf=!1,Vi=0;function Es(t){t!==qr&&t.next===null&&(qr===null?vu=qr=t:qr=qr.next=t),xu=!0,vf||(vf=!0,jw())}function mo(t,n){if(!xf&&xu){xf=!0;do for(var r=!1,l=vu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,w=l.pingedLanes;f=(1<<31-ft(42|t)+1)-1,f&=h&~(v&~w),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Ty(l,f))}else f=De,f=rs(l,l===nt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||qn(l,f)||(r=!0,Ty(l,f));l=l.next}while(r);xf=!1}}function Cw(){xy()}function xy(){xu=vf=!1;var t=0;Vi!==0&&Pw()&&(t=Vi);for(var n=en(),r=null,l=vu;l!==null;){var h=l.next,f=_y(l,n);f===0?(l.next=null,r===null?vu=h:r.next=h,h===null&&(qr=r)):(r=l,(t!==0||(f&3)!==0)&&(xu=!0)),l=h}Dt!==0&&Dt!==5||mo(t),Vi!==0&&(Vi=0)}function _y(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-ft(f),w=1<<v,C=h[v];C===-1?((w&r)===0||(w&l)!==0)&&(h[v]=Qd(w,n)):C<=n&&(t.expiredLanes|=w),f&=~w}if(n=nt,r=De,r=rs(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ui(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||qn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&ui(l),Os(r)){case 2:case 8:r=Tl;break;case 32:r=di;break;case 268435456:r=cc;break;default:r=di}return l=wy.bind(null,t),r=It(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&ui(l),t.callbackPriority=2,t.callbackNode=null,2}function wy(t,n){if(Dt!==0&&Dt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(bu()&&t.callbackNode!==r)return null;var l=De;return l=rs(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(sy(t,l,n),_y(t,en()),t.callbackNode!=null&&t.callbackNode===r?wy.bind(null,t):null)}function Ty(t,n){if(bu())return null;sy(t,n,!0)}function jw(){qw(function(){(Ke&6)!==0?It(wl,Cw):xy()})}function _f(){if(Vi===0){var t=Ar;t===0&&(t=is,is<<=1,(is&261888)===0&&(is=256)),Vi=t}return Vi}function Ey(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:hr(""+t)}function Ny(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function Rw(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=Ey((h[Ot]||null).action),v=l.submitter;v&&(n=(n=v[Ot]||null)?Ey(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var w=new ys("action","action",null,l,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vi!==0){var C=v?Ny(h,v):new FormData(h);Ph(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(w.preventDefault(),C=v?Ny(h,v):new FormData(h),Ph(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var wf=0;wf<sh.length;wf++){var Tf=sh[wf],Iw=Tf.toLowerCase(),Dw=Tf[0].toUpperCase()+Tf.slice(1);Xn(Iw,"on"+Dw)}Xn(ng,"onAnimationEnd"),Xn(sg,"onAnimationIteration"),Xn(ig,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn($1,"onTransitionRun"),Xn(X1,"onTransitionStart"),Xn(Z1,"onTransitionCancel"),Xn(ag,"onTransitionEnd"),fs("onMouseEnter",["mouseout","mouseover"]),fs("onMouseLeave",["mouseout","mouseover"]),fs("onPointerEnter",["pointerout","pointerover"]),fs("onPointerLeave",["pointerout","pointerover"]),hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hs("onBeforeInput",["compositionend","keypress","textInput","paste"]),hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(po));function Sy(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var w=l[v],C=w.instance,G=w.currentTarget;if(w=w.listener,C!==f&&h.isPropagationStopped())break e;f=w,h.currentTarget=G;try{f(h)}catch(X){Oc(X)}h.currentTarget=null,f=C}else for(v=0;v<l.length;v++){if(w=l[v],C=w.instance,G=w.currentTarget,w=w.listener,C!==f&&h.isPropagationStopped())break e;f=w,h.currentTarget=G;try{f(h)}catch(X){Oc(X)}h.currentTarget=null,f=C}}}}function Ie(t,n){var r=n[lr];r===void 0&&(r=n[lr]=new Set);var l=t+"__bubble";r.has(l)||(Ay(n,t,2,!1),r.add(l))}function Ef(t,n,r){var l=0;n&&(l|=4),Ay(r,t,l,n)}var _u="_reactListening"+Math.random().toString(36).slice(2);function Nf(t){if(!t[_u]){t[_u]=!0,Sl.forEach(function(r){r!=="selectionchange"&&(Mw.has(r)||Ef(r,!1,t),Ef(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[_u]||(n[_u]=!0,Ef("selectionchange",!1,n))}}function Ay(t,n,r,l){switch(nb(n)){case 2:var h=oT;break;case 8:h=cT;break;default:h=Pf}r=h.bind(null,n,r,t),h=void 0,!_a||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function Sf(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var w=l.stateNode.containerInfo;if(w===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;w!==null;){if(v=us(w),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=f=v;continue e}w=w.parentNode}}l=l.return}yi(function(){var G=f,X=An(r),W=[];e:{var K=rg.get(t);if(K!==void 0){var Q=ys,he=t;switch(t){case"keypress":if(Ta(r)===0)break e;case"keydown":case"keyup":Q=Ic;break;case"focusin":he="focus",Q=Na;break;case"focusout":he="blur",Q=Na;break;case"beforeblur":case"afterblur":Q=Na;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=p;break;case ng:case sg:case ig:Q=Nc;break;case ag:Q=E;break;case"scroll":case"scrollend":Q=Ll;break;case"wheel":Q=Y;break;case"copy":case"cut":case"paste":Q=Sc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ls;break;case"toggle":case"beforetoggle":Q=Ae}var ve=(n&4)!==0,tt=!ve&&(t==="scroll"||t==="scrollend"),U=ve?K!==null?K+"Capture":null:K;ve=[];for(var M=G,F;M!==null;){var J=M;if(F=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||F===null||U===null||(J=Kn(M,U),J!=null&&ve.push(go(M,J,F))),tt)break;M=M.return}0<ve.length&&(K=new Q(K,he,null,r,X),W.push({event:K,listeners:ve}))}}if((n&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",K&&r!==Ol&&(he=r.relatedTarget||r.fromElement)&&(us(he)||he[os]))break e;if((Q||K)&&(K=X.window===X?X:(K=X.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(he=r.relatedTarget||r.toElement,Q=G,he=he?us(he):null,he!==null&&(tt=u(he),ve=he.tag,he!==tt||ve!==5&&ve!==27&&ve!==6)&&(he=null)):(Q=null,he=G),Q!==he)){if(ve=Ul,J="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Ls,J="onPointerLeave",U="onPointerEnter",M="pointer"),tt=Q==null?K:mn(Q),F=he==null?K:mn(he),K=new ve(J,M+"leave",Q,r,X),K.target=tt,K.relatedTarget=F,J=null,us(X)===G&&(ve=new ve(U,M+"enter",he,r,X),ve.target=F,ve.relatedTarget=tt,J=ve),tt=J,Q&&he)t:{for(ve=Ow,U=Q,M=he,F=0,J=U;J;J=ve(J))F++;J=0;for(var pe=M;pe;pe=ve(pe))J++;for(;0<F-J;)U=ve(U),F--;for(;0<J-F;)M=ve(M),J--;for(;F--;){if(U===M||M!==null&&U===M.alternate){ve=U;break t}U=ve(U),M=ve(M)}ve=null}else ve=null;Q!==null&&ky(W,K,Q,ve,!1),he!==null&&tt!==null&&ky(W,tt,he,ve,!0)}}e:{if(K=G?mn(G):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var qe=Gp;else if(Hp(K))if(Kp)qe=K1;else{qe=F1;var fe=H1}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&dr(G.elementType)&&(qe=Gp):qe=G1;if(qe&&(qe=qe(t,G))){Fp(W,qe,r,X);break e}fe&&fe(t,K,G),t==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&Il(K,"number",K.value)}switch(fe=G?mn(G):window,t){case"focusin":(Hp(fe)||fe.contentEditable==="true")&&(vr=fe,eh=G,Fl=null);break;case"focusout":Fl=eh=vr=null;break;case"mousedown":th=!0;break;case"contextmenu":case"mouseup":case"dragend":th=!1,eg(W,r,X);break;case"selectionchange":if(Q1)break;case"keydown":case"keyup":eg(W,r,X)}var je;if(Ge)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else br?Sa(t,r)&&(Me="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Me="onCompositionStart");Me&&(xs&&r.locale!=="ko"&&(br||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&br&&(je=zl()):(gs=X,Vl="value"in gs?gs.value:gs.textContent,br=!0)),fe=wu(G,Me),0<fe.length&&(Me=new vs(Me,t,null,r,X),W.push({event:Me,listeners:fe}),je?Me.data=je:(je=yr(r),je!==null&&(Me.data=je)))),(je=Cn?U1(t,r):P1(t,r))&&(Me=wu(G,"onBeforeInput"),0<Me.length&&(fe=new vs("onBeforeInput","beforeinput",null,r,X),W.push({event:fe,listeners:Me}),fe.data=je)),Rw(W,t,G,r,X)}Sy(W,n)})}function go(t,n,r){return{instance:t,listener:n,currentTarget:r}}function wu(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Kn(t,r),h!=null&&l.unshift(go(t,h,f)),h=Kn(t,n),h!=null&&l.push(go(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Ow(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ky(t,n,r,l,h){for(var f=n._reactName,v=[];r!==null&&r!==l;){var w=r,C=w.alternate,G=w.stateNode;if(w=w.tag,C!==null&&C===l)break;w!==5&&w!==26&&w!==27||G===null||(C=G,h?(G=Kn(r,f),G!=null&&v.unshift(go(r,G,C))):h||(G=Kn(r,f),G!=null&&v.push(go(r,G,C)))),r=r.return}v.length!==0&&t.push({event:n,listeners:v})}var Vw=/\r\n?/g,zw=/\u0000|\uFFFD/g;function Cy(t){return(typeof t=="string"?t:""+t).replace(Vw,`
`).replace(zw,"")}function jy(t,n){return n=Cy(n),Cy(t)===n}function et(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||rn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&rn(t,""+l);break;case"className":pn(t,"class",l);break;case"tabIndex":pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,r,l);break;case"style":Ml(t,l,f);break;case"data":if(n!=="object"){pn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=hr(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&et(t,n,"name",h.name,h,null),et(t,n,"formEncType",h.formEncType,h,null),et(t,n,"formMethod",h.formMethod,h,null),et(t,n,"formTarget",h.formTarget,h,null)):(et(t,n,"encType",h.encType,h,null),et(t,n,"method",h.method,h,null),et(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=hr(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"onScroll":l!=null&&Ie("scroll",t);break;case"onScrollEnd":l!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=hr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),cr(t,"popover",l);break;case"xlinkActuate":wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":cr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=wc.get(r)||r,cr(t,r,l))}}function Af(t,n,r,l,h,f){switch(r){case"style":Ml(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?rn(t,l):(typeof l=="number"||typeof l=="bigint")&&rn(t,""+l);break;case"onScroll":l!=null&&Ie("scroll",t);break;case"onScrollEnd":l!=null&&Ie("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Al.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Ot]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):cr(t,r,l)}}}function Ft(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var v=r[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:et(t,n,f,v,r,null)}}h&&et(t,n,"srcSet",r.srcSet,r,null),l&&et(t,n,"src",r.src,r,null);return;case"input":Ie("invalid",t);var w=f=v=h=null,C=null,G=null;for(l in r)if(r.hasOwnProperty(l)){var X=r[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":C=X;break;case"defaultChecked":G=X;break;case"value":f=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,n));break;default:et(t,n,l,X,r,null)}}vc(t,f,w,C,G,v,h,!1);return;case"select":Ie("invalid",t),l=v=f=null;for(h in r)if(r.hasOwnProperty(h)&&(w=r[h],w!=null))switch(h){case"value":f=w;break;case"defaultValue":v=w;break;case"multiple":l=w;default:et(t,n,h,w,r,null)}n=f,r=v,t.multiple=!!l,n!=null?fi(t,!!l,n,!1):r!=null&&fi(t,!!l,r,!0);return;case"textarea":Ie("invalid",t),f=h=l=null;for(v in r)if(r.hasOwnProperty(v)&&(w=r[v],w!=null))switch(v){case"value":l=w;break;case"defaultValue":h=w;break;case"children":f=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:et(t,n,v,w,r,null)}mi(t,l,h,f);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(l=r[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,n,C,l,r,null)}return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(l=0;l<po.length;l++)Ie(po[l],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in r)if(r.hasOwnProperty(G)&&(l=r[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:et(t,n,G,l,r,null)}return;default:if(dr(n)){for(X in r)r.hasOwnProperty(X)&&(l=r[X],l!==void 0&&Af(t,n,X,l,r,void 0));return}}for(w in r)r.hasOwnProperty(w)&&(l=r[w],l!=null&&et(t,n,w,l,r,null))}function Lw(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,w=null,C=null,G=null,X=null;for(Q in r){var W=r[Q];if(r.hasOwnProperty(Q)&&W!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":C=W;default:l.hasOwnProperty(Q)||et(t,n,Q,null,l,W)}}for(var K in l){var Q=l[K];if(W=r[K],l.hasOwnProperty(K)&&(Q!=null||W!=null))switch(K){case"type":f=Q;break;case"name":h=Q;break;case"checked":G=Q;break;case"defaultChecked":X=Q;break;case"value":v=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:Q!==W&&et(t,n,K,Q,l,W)}}ur(t,v,w,C,G,X,f,h);return;case"select":Q=v=w=K=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":Q=C;default:l.hasOwnProperty(f)||et(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=r[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":K=f;break;case"defaultValue":w=f;break;case"multiple":v=f;default:f!==C&&et(t,n,h,f,l,C)}n=w,r=v,l=Q,K!=null?fi(t,!!r,K,!1):!!l!=!!r&&(n!=null?fi(t,!!r,n,!0):fi(t,!!r,r?[]:"",!1));return;case"textarea":Q=K=null;for(w in r)if(h=r[w],r.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:et(t,n,w,null,l,h)}for(v in l)if(h=l[v],f=r[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":K=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&et(t,n,v,h,l,f)}xc(t,K,Q);return;case"option":for(var he in r)if(K=r[he],r.hasOwnProperty(he)&&K!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:et(t,n,he,null,l,K)}for(C in l)if(K=l[C],Q=r[C],l.hasOwnProperty(C)&&K!==Q&&(K!=null||Q!=null))switch(C){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:et(t,n,C,K,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in r)K=r[ve],r.hasOwnProperty(ve)&&K!=null&&!l.hasOwnProperty(ve)&&et(t,n,ve,null,l,K);for(G in l)if(K=l[G],Q=r[G],l.hasOwnProperty(G)&&K!==Q&&(K!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:et(t,n,G,K,l,Q)}return;default:if(dr(n)){for(var tt in r)K=r[tt],r.hasOwnProperty(tt)&&K!==void 0&&!l.hasOwnProperty(tt)&&Af(t,n,tt,void 0,l,K);for(X in l)K=l[X],Q=r[X],!l.hasOwnProperty(X)||K===Q||K===void 0&&Q===void 0||Af(t,n,X,K,l,Q);return}}for(var U in r)K=r[U],r.hasOwnProperty(U)&&K!=null&&!l.hasOwnProperty(U)&&et(t,n,U,null,l,K);for(W in l)K=l[W],Q=r[W],!l.hasOwnProperty(W)||K===Q||K==null&&Q==null||et(t,n,W,K,l,Q)}function Ry(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Uw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,v=h.initiatorType,w=h.duration;if(f&&w&&Ry(v)){for(v=0,w=h.responseEnd,l+=1;l<r.length;l++){var C=r[l],G=C.startTime;if(G>w)break;var X=C.transferSize,W=C.initiatorType;X&&Ry(W)&&(C=C.responseEnd,v+=X*(C<w?1:(w-G)/(C-G)))}if(--l,n+=8*(f+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var kf=null,Cf=null;function Tu(t){return t.nodeType===9?t:t.ownerDocument}function Iy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function jf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Rf=null;function Pw(){var t=window.event;return t&&t.type==="popstate"?t===Rf?!1:(Rf=t,!0):(Rf=null,!1)}var My=typeof setTimeout=="function"?setTimeout:void 0,Bw=typeof clearTimeout=="function"?clearTimeout:void 0,Oy=typeof Promise=="function"?Promise:void 0,qw=typeof queueMicrotask=="function"?queueMicrotask:typeof Oy<"u"?function(t){return Oy.resolve(null).then(t).catch(Hw)}:My;function Hw(t){setTimeout(function(){throw t})}function zi(t){return t==="head"}function Vy(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Kr(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")yo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,yo(r);for(var f=r.firstChild;f;){var v=f.nextSibling,w=f.nodeName;f[cs]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=v}}else r==="body"&&yo(t.ownerDocument.body);r=h}while(r);Kr(n)}function zy(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function If(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":If(r),or(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Fw(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[cs])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function Gw(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Vn(t.nextSibling),t===null))return null;return t}function Ly(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Vn(t.nextSibling),t===null))return null;return t}function Df(t){return t.data==="$?"||t.data==="$~"}function Mf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Kw(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Vn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Of=null;function Uy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Vn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function Py(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function By(t,n,r){switch(n=Tu(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function yo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);or(t)}var zn=new Map,qy=new Set;function Eu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ws=se.d;se.d={f:Yw,r:Qw,D:$w,C:Xw,L:Zw,m:Jw,X:eT,S:Ww,M:tT};function Yw(){var t=Ws.f(),n=pu();return t||n}function Qw(t){var n=Sn(t);n!==null&&n.tag===5&&n.type==="form"?a0(n):Ws.r(t)}var Hr=typeof document>"u"?null:document;function Hy(t,n,r){var l=Hr;if(l&&typeof n=="string"&&n){var h=an(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),qy.has(h)||(qy.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ft(n,"link",t),_t(n),l.head.appendChild(n)))}}function $w(t){Ws.D(t),Hy("dns-prefetch",t,null)}function Xw(t,n){Ws.C(t,n),Hy("preconnect",t,n)}function Zw(t,n,r){Ws.L(t,n,r);var l=Hr;if(l&&t&&n){var h='link[rel="preload"][as="'+an(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+an(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+an(r.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var f=h;switch(n){case"style":f=Fr(t);break;case"script":f=Gr(t)}zn.has(f)||(t=N({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),zn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(bo(f))||n==="script"&&l.querySelector(vo(f))||(n=l.createElement("link"),Ft(n,"link",t),_t(n),l.head.appendChild(n)))}}function Jw(t,n){Ws.m(t,n);var r=Hr;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Gr(t)}if(!zn.has(f)&&(t=N({rel:"modulepreload",href:t},n),zn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(vo(f)))return}l=r.createElement("link"),Ft(l,"link",t),_t(l),r.head.appendChild(l)}}}function Ww(t,n,r){Ws.S(t,n,r);var l=Hr;if(l&&t){var h=ds(l).hoistableStyles,f=Fr(t);n=n||"default";var v=h.get(f);if(!v){var w={loading:0,preload:null};if(v=l.querySelector(bo(f)))w.loading=5;else{t=N({rel:"stylesheet",href:t,"data-precedence":n},r),(r=zn.get(f))&&Vf(t,r);var C=v=l.createElement("link");_t(C),Ft(C,"link",t),C._p=new Promise(function(G,X){C.onload=G,C.onerror=X}),C.addEventListener("load",function(){w.loading|=1}),C.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Nu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:w},h.set(f,v)}}}function eT(t,n){Ws.X(t,n);var r=Hr;if(r&&t){var l=ds(r).hoistableScripts,h=Gr(t),f=l.get(h);f||(f=r.querySelector(vo(h)),f||(t=N({src:t,async:!0},n),(n=zn.get(h))&&zf(t,n),f=r.createElement("script"),_t(f),Ft(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function tT(t,n){Ws.M(t,n);var r=Hr;if(r&&t){var l=ds(r).hoistableScripts,h=Gr(t),f=l.get(h);f||(f=r.querySelector(vo(h)),f||(t=N({src:t,async:!0,type:"module"},n),(n=zn.get(h))&&zf(t,n),f=r.createElement("script"),_t(f),Ft(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Fy(t,n,r,l){var h=(h=Ce.current)?Eu(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Fr(r.href),r=ds(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Fr(r.href);var f=ds(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(bo(t)))&&!f._p&&(v.instance=f,v.state.loading=5),zn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},zn.set(t,r),f||nT(h,t,r,v.state))),n&&l===null)throw Error(a(528,""));return v}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Gr(r),r=ds(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Fr(t){return'href="'+an(t)+'"'}function bo(t){return'link[rel="stylesheet"]['+t+"]"}function Gy(t){return N({},t,{"data-precedence":t.precedence,precedence:null})}function nT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ft(n,"link",r),_t(n),t.head.appendChild(n))}function Gr(t){return'[src="'+an(t)+'"]'}function vo(t){return"script[async]"+t}function Ky(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+an(r.href)+'"]');if(l)return n.instance=l,_t(l),l;var h=N({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),_t(l),Ft(l,"style",h),Nu(l,r.precedence,t),n.instance=l;case"stylesheet":h=Fr(r.href);var f=t.querySelector(bo(h));if(f)return n.state.loading|=4,n.instance=f,_t(f),f;l=Gy(r),(h=zn.get(h))&&Vf(l,h),f=(t.ownerDocument||t).createElement("link"),_t(f);var v=f;return v._p=new Promise(function(w,C){v.onload=w,v.onerror=C}),Ft(f,"link",l),n.state.loading|=4,Nu(f,r.precedence,t),n.instance=f;case"script":return f=Gr(r.src),(h=t.querySelector(vo(f)))?(n.instance=h,_t(h),h):(l=r,(h=zn.get(f))&&(l=N({},r),zf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),_t(h),Ft(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Nu(l,r.precedence,t));return n.instance}function Nu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var w=l[v];if(w.dataset.precedence===n)f=w;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function zf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Su=null;function Yy(t,n,r){if(Su===null){var l=new Map,h=Su=new Map;h.set(r,l)}else h=Su,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[cs]||f[xt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var w=l.get(v);w?w.push(f):l.set(v,[f])}}return l}function Qy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function sT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function $y(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function iT(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Fr(l.href),f=n.querySelector(bo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Au.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,_t(f);return}f=n.ownerDocument||n,l=Gy(l),(h=zn.get(h))&&Vf(l,h),f=f.createElement("link"),_t(f);var v=f;v._p=new Promise(function(w,C){v.onload=w,v.onerror=C}),Ft(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Au.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Lf=0;function aT(t,n){return t.stylesheets&&t.count===0&&Cu(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Cu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Lf===0&&(Lf=62500*Uw());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Cu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Lf?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Au(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ku=null;function Cu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ku=new Map,n.forEach(rT,t),ku=null,Au.call(t))}function rT(t,n){if(!(n.state.loading&4)){var r=ku.get(t);if(r)var l=r.get(null);else{r=new Map,ku.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=r.get(v)||l,f===l&&r.set(null,h),r.set(v,h),this.count++,l=Au.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var xo={$$typeof:I,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function lT(t,n,r,l,h,f,v,w,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ls(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ls(0),this.hiddenUpdates=ls(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Xy(t,n,r,l,h,f,v,w,C,G,X,W){return t=new lT(t,n,r,v,C,G,X,W,w),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),t.current=f,f.stateNode=t,n=gh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},xh(f),t}function Zy(t){return t?(t=wr,t):wr}function Jy(t,n,r,l,h,f){h=Zy(h),l.context===null?l.context=h:l.pendingContext=h,l=Si(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Ai(t,l,n),r!==null&&(dn(r,t,n),Zl(r,t,n))}function Wy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Uf(t,n){Wy(t,n),(t=t.alternate)&&Wy(t,n)}function eb(t){if(t.tag===13||t.tag===31){var n=Ca(t,67108864);n!==null&&dn(n,t,67108864),Uf(t,67108864)}}function tb(t){if(t.tag===13||t.tag===31){var n=wn();n=ya(n);var r=Ca(t,n);r!==null&&dn(r,t,n),Uf(t,n)}}var ju=!0;function oT(t,n,r,l){var h=B.T;B.T=null;var f=se.p;try{se.p=2,Pf(t,n,r,l)}finally{se.p=f,B.T=h}}function cT(t,n,r,l){var h=B.T;B.T=null;var f=se.p;try{se.p=8,Pf(t,n,r,l)}finally{se.p=f,B.T=h}}function Pf(t,n,r,l){if(ju){var h=Bf(l);if(h===null)Sf(t,n,l,Ru,r),sb(t,l);else if(dT(h,t,n,r,l))l.stopPropagation();else if(sb(t,l),n&4&&-1<uT.indexOf(t)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=as(f.pendingLanes);if(v!==0){var w=f;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var C=1<<31-ft(v);w.entanglements[1]|=C,v&=~C}Es(f),(Ke&6)===0&&(fu=en()+500,mo(0))}}break;case 31:case 13:w=Ca(f,2),w!==null&&dn(w,f,2),pu(),Uf(f,2)}if(f=Bf(l),f===null&&Sf(t,n,l,Ru,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else Sf(t,n,l,null,r)}}function Bf(t){return t=An(t),qf(t)}var Ru=null;function qf(t){if(Ru=null,t=us(t),t!==null){var n=u(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=m(n),t!==null)return t;t=null}else if(r===31){if(t=b(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ru=t,null}function nb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fa()){case wl:return 2;case Tl:return 8;case di:case Yd:return 32;case cc:return 268435456;default:return 32}default:return 32}}var Hf=!1,Li=null,Ui=null,Pi=null,_o=new Map,wo=new Map,Bi=[],uT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sb(t,n){switch(t){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":_o.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":wo.delete(n.pointerId)}}function To(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&eb(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function dT(t,n,r,l,h){switch(n){case"focusin":return Li=To(Li,t,n,r,l,h),!0;case"dragenter":return Ui=To(Ui,t,n,r,l,h),!0;case"mouseover":return Pi=To(Pi,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return _o.set(f,To(_o.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,wo.set(f,To(wo.get(f)||null,t,n,r,l,h)),!0}return!1}function ib(t){var n=us(t.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=m(r),n!==null){t.blockedOn=n,Hn(t.priority,function(){tb(r)});return}}else if(n===31){if(n=b(r),n!==null){t.blockedOn=n,Hn(t.priority,function(){tb(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Iu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Bf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Ol=l,r.target.dispatchEvent(l),Ol=null}else return n=Sn(r),n!==null&&eb(n),t.blockedOn=r,!1;n.shift()}return!0}function ab(t,n,r){Iu(t)&&r.delete(n)}function hT(){Hf=!1,Li!==null&&Iu(Li)&&(Li=null),Ui!==null&&Iu(Ui)&&(Ui=null),Pi!==null&&Iu(Pi)&&(Pi=null),_o.forEach(ab),wo.forEach(ab)}function Du(t,n){t.blockedOn===n&&(t.blockedOn=null,Hf||(Hf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,hT)))}var Mu=null;function rb(t){Mu!==t&&(Mu=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Mu===t&&(Mu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(qf(l||r)===null)continue;break}var f=Sn(r);f!==null&&(t.splice(n,3),n-=3,Ph(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Kr(t){function n(C){return Du(C,t)}Li!==null&&Du(Li,t),Ui!==null&&Du(Ui,t),Pi!==null&&Du(Pi,t),_o.forEach(n),wo.forEach(n);for(var r=0;r<Bi.length;r++){var l=Bi[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Bi.length&&(r=Bi[0],r.blockedOn===null);)ib(r),r.blockedOn===null&&Bi.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],v=h[Ot]||null;if(typeof f=="function")v||rb(r);else if(v){var w=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[Ot]||null)w=v.formAction;else if(qf(h)!==null)continue}else w=v.action;typeof w=="function"?r[l+1]=w:(r.splice(l,3),l-=3),rb(r)}}}function lb(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ff(t){this._internalRoot=t}Ou.prototype.render=Ff.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=wn();Jy(r,l,t,n,null,null)},Ou.prototype.unmount=Ff.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Jy(t.current,2,null,t,null,null),pu(),n[os]=null}};function Ou(t){this._internalRoot=t}Ou.prototype.unstable_scheduleHydration=function(t){if(t){var n=pc();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Bi.length&&n!==0&&n<Bi[r].priority;r++);Bi.splice(r,0,t),r===0&&ib(t)}};var ob=e.version;if(ob!=="19.2.1")throw Error(a(527,ob,"19.2.1"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var fT={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{Bn=Vu.inject(fT),Ut=Vu}catch{}}return No.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=p0,f=g0,v=y0;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=Xy(t,1,!1,null,null,r,l,null,h,f,v,lb),t[os]=n.current,Nf(t),new Ff(n)},No.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=p0,v=g0,w=y0,C=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=Xy(t,1,!0,n,r??null,l,h,C,f,v,w,lb),n.context=Zy(null),r=n.current,l=wn(),l=ya(l),h=Si(l),h.callback=null,Ai(r,h,l),r=l,n.current.lanes=r,pa(n,r),Es(n),t[os]=n.current,Nf(t),new Ou(n)},No.version="19.2.1",No}var bb;function ET(){if(bb)return Yf.exports;bb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Yf.exports=TT(),Yf.exports}var NT=ET();const ST=ix(NT),AT=()=>{};var vb={};const ax=function(i){const e=[];let s=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[s++]=o:o<2048?(e[s++]=o>>6|192,e[s++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[s++]=o>>18|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128,e[s++]=o&63|128):(e[s++]=o>>12|224,e[s++]=o>>6&63|128,e[s++]=o&63|128)}return e},kT=function(i){const e=[];let s=0,a=0;for(;s<i.length;){const o=i[s++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[s++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[s++],m=i[s++],b=i[s++],g=((o&7)<<18|(u&63)<<12|(m&63)<<6|b&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const u=i[s++],m=i[s++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|m&63)}}return e.join("")},rx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],m=o+1<i.length,b=m?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,_=u>>2,N=(u&3)<<4|b>>4;let k=(b&15)<<2|y>>6,q=y&63;g||(q=64,m||(k=64)),a.push(s[_],s[N],s[k],s[q])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(ax(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):kT(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=s[i.charAt(o++)],b=o<i.length?s[i.charAt(o)]:0;++o;const y=o<i.length?s[i.charAt(o)]:64;++o;const N=o<i.length?s[i.charAt(o)]:64;if(++o,u==null||b==null||y==null||N==null)throw new CT;const k=u<<2|b>>4;if(a.push(k),y!==64){const q=b<<4&240|y>>2;if(a.push(q),N!==64){const Z=y<<6&192|N;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class CT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jT=function(i){const e=ax(i);return rx.encodeByteArray(e,!0)},ed=function(i){return jT(i).replace(/\./g,"")},lx=function(i){try{return rx.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function RT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const IT=()=>RT().__FIREBASE_DEFAULTS__,DT=()=>{if(typeof process>"u"||typeof vb>"u")return;const i=vb.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},MT=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&lx(i[1]);return e&&JSON.parse(e)},_d=()=>{try{return AT()||IT()||DT()||MT()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},ox=i=>_d()?.emulatorHosts?.[i],OT=i=>{const e=ox(i);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),a]:[e.substring(0,s),a]},cx=()=>_d()?.config,ux=i=>_d()?.[`_${i}`];class VT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,a)=>{s?this.reject(s):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,a))}}}function hl(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dx(i){return(await fetch(i,{credentials:"include"})).ok}function zT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[ed(JSON.stringify(s)),ed(JSON.stringify(m)),""].join(".")}const jo={};function LT(){const i={prod:[],emulator:[]};for(const e of Object.keys(jo))jo[e]?i.emulator.push(e):i.prod.push(e);return i}function UT(i){let e=document.getElementById(i),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),s=!0),{created:s,element:e}}let xb=!1;function hx(i,e){if(typeof window>"u"||typeof document>"u"||!hl(window.location.host)||jo[i]===e||jo[i]||xb)return;jo[i]=e;function s(k){return`__firebase__banner__${k}`}const a="__firebase__banner",u=LT().prod.length>0;function m(){const k=document.getElementById(a);k&&k.remove()}function b(k){k.style.display="flex",k.style.background="#7faaf0",k.style.position="fixed",k.style.bottom="5px",k.style.left="5px",k.style.padding=".5em",k.style.borderRadius="5px",k.style.alignItems="center"}function g(k,q){k.setAttribute("width","24"),k.setAttribute("id",q),k.setAttribute("height","24"),k.setAttribute("viewBox","0 0 24 24"),k.setAttribute("fill","none"),k.style.marginLeft="-6px"}function y(){const k=document.createElement("span");return k.style.cursor="pointer",k.style.marginLeft="16px",k.style.fontSize="24px",k.innerHTML=" &times;",k.onclick=()=>{xb=!0,m()},k}function _(k,q){k.setAttribute("id",q),k.innerText="Learn more",k.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",k.setAttribute("target","__blank"),k.style.paddingLeft="5px",k.style.textDecoration="underline"}function N(){const k=UT(a),q=s("text"),Z=document.getElementById(q)||document.createElement("span"),z=s("learnmore"),D=document.getElementById(z)||document.createElement("a"),$=s("preprendIcon"),T=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(k.created){const I=k.element;b(I),_(D,z);const ae=y();g(T,$),I.append(T,Z,D,ae),document.body.appendChild(I)}u?(Z.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function BT(){const i=_d()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HT(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function FT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GT(){const i=Wt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function KT(){return!BT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YT(){try{return typeof indexedDB=="object"}catch{return!1}}function QT(){return new Promise((i,e)=>{try{let s=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(s){e(s)}})}const $T="FirebaseError";class ci extends Error{constructor(e,s,a){super(s),this.code=e,this.customData=a,this.name=$T,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ko.prototype.create)}}class Ko{constructor(e,s,a){this.service=e,this.serviceName=s,this.errors=a}create(e,...s){const a=s[0]||{},o=`${this.service}/${e}`,u=this.errors[e],m=u?XT(u,a):"Error",b=`${this.serviceName}: ${m} (${o}).`;return new ci(o,b,a)}}function XT(i,e){return i.replace(ZT,(s,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const ZT=/\{\$([^}]+)}/g;function JT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Qa(i,e){if(i===e)return!0;const s=Object.keys(i),a=Object.keys(e);for(const o of s){if(!a.includes(o))return!1;const u=i[o],m=e[o];if(_b(u)&&_b(m)){if(!Qa(u,m))return!1}else if(u!==m)return!1}for(const o of a)if(!s.includes(o))return!1;return!0}function _b(i){return i!==null&&typeof i=="object"}function Yo(i){const e=[];for(const[s,a]of Object.entries(i))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function WT(i,e){const s=new e2(i,e);return s.subscribe.bind(s)}class e2{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,a){let o;if(e===void 0&&s===void 0&&a===void 0)throw new Error("Missing Observer.");t2(e,["next","error","complete"])?o=e:o={next:e,error:s,complete:a},o.next===void 0&&(o.next=Zf),o.error===void 0&&(o.error=Zf),o.complete===void 0&&(o.complete=Zf);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function t2(i,e){if(typeof i!="object"||i===null)return!1;for(const s of e)if(s in i&&typeof i[s]=="function")return!0;return!1}function Zf(){}function Yt(i){return i&&i._delegate?i._delegate:i}class $a{constructor(e,s,a){this.name=e,this.instanceFactory=s,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qa="[DEFAULT]";class n2{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const a=new VT;if(this.instancesDeferred.set(s,a),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){const s=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(i2(e))try{this.getOrInitializeService({instanceIdentifier:qa})}catch{}for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qa){return this.instances.has(e)}getOptions(e=qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:s});for(const[u,m]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(u);a===b&&m.resolve(o)}return o}onInit(e,s){const a=this.normalizeInstanceIdentifier(s),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,s){const a=this.onInitCallbacks.get(s);if(a)for(const o of a)try{o(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:s2(e),options:s}),this.instances.set(e,a),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=qa){return this.component?this.component.multipleInstances?e:qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function s2(i){return i===qa?void 0:i}function i2(i){return i.instantiationMode==="EAGER"}class a2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new n2(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Oe||(Oe={}));const r2={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},l2=Oe.INFO,o2={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},c2=(i,e,...s)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=o2[e];if(o)console[o](`[${a}]  ${i.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hm{constructor(e){this.name=e,this._logLevel=l2,this._logHandler=c2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const u2=(i,e)=>e.some(s=>i instanceof s);let wb,Tb;function d2(){return wb||(wb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function h2(){return Tb||(Tb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fx=new WeakMap,cm=new WeakMap,mx=new WeakMap,Jf=new WeakMap,Fm=new WeakMap;function f2(i){const e=new Promise((s,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",m)},u=()=>{s(Zi(i.result)),o()},m=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",m)});return e.then(s=>{s instanceof IDBCursor&&fx.set(s,i)}).catch(()=>{}),Fm.set(e,i),e}function m2(i){if(cm.has(i))return;const e=new Promise((s,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",m),i.removeEventListener("abort",m)},u=()=>{s(),o()},m=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",m),i.addEventListener("abort",m)});cm.set(i,e)}let um={get(i,e,s){if(i instanceof IDBTransaction){if(e==="done")return cm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||mx.get(i);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Zi(i[e])},set(i,e,s){return i[e]=s,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function p2(i){um=i(um)}function g2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const a=i.call(Wf(this),e,...s);return mx.set(a,e.sort?e.sort():[e]),Zi(a)}:h2().includes(i)?function(...e){return i.apply(Wf(this),e),Zi(fx.get(this))}:function(...e){return Zi(i.apply(Wf(this),e))}}function y2(i){return typeof i=="function"?g2(i):(i instanceof IDBTransaction&&m2(i),u2(i,d2())?new Proxy(i,um):i)}function Zi(i){if(i instanceof IDBRequest)return f2(i);if(Jf.has(i))return Jf.get(i);const e=y2(i);return e!==i&&(Jf.set(i,e),Fm.set(e,i)),e}const Wf=i=>Fm.get(i);function b2(i,e,{blocked:s,upgrade:a,blocking:o,terminated:u}={}){const m=indexedDB.open(i,e),b=Zi(m);return a&&m.addEventListener("upgradeneeded",g=>{a(Zi(m.result),g.oldVersion,g.newVersion,Zi(m.transaction),g)}),s&&m.addEventListener("blocked",g=>s(g.oldVersion,g.newVersion,g)),b.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),b}const v2=["get","getKey","getAll","getAllKeys","count"],x2=["put","add","delete","clear"],em=new Map;function Eb(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(em.get(e))return em.get(e);const s=e.replace(/FromIndex$/,""),a=e!==s,o=x2.includes(s);if(!(s in(a?IDBIndex:IDBObjectStore).prototype)||!(o||v2.includes(s)))return;const u=async function(m,...b){const g=this.transaction(m,o?"readwrite":"readonly");let y=g.store;return a&&(y=y.index(b.shift())),(await Promise.all([y[s](...b),o&&g.done]))[0]};return em.set(e,u),u}p2(i=>({...i,get:(e,s,a)=>Eb(e,s)||i.get(e,s,a),has:(e,s)=>!!Eb(e,s)||i.has(e,s)}));class _2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(w2(s)){const a=s.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(s=>s).join(" ")}}function w2(i){return i.getComponent()?.type==="VERSION"}const dm="@firebase/app",Nb="0.14.6";const si=new Hm("@firebase/app"),T2="@firebase/app-compat",E2="@firebase/analytics-compat",N2="@firebase/analytics",S2="@firebase/app-check-compat",A2="@firebase/app-check",k2="@firebase/auth",C2="@firebase/auth-compat",j2="@firebase/database",R2="@firebase/data-connect",I2="@firebase/database-compat",D2="@firebase/functions",M2="@firebase/functions-compat",O2="@firebase/installations",V2="@firebase/installations-compat",z2="@firebase/messaging",L2="@firebase/messaging-compat",U2="@firebase/performance",P2="@firebase/performance-compat",B2="@firebase/remote-config",q2="@firebase/remote-config-compat",H2="@firebase/storage",F2="@firebase/storage-compat",G2="@firebase/firestore",K2="@firebase/ai",Y2="@firebase/firestore-compat",Q2="firebase",$2="12.6.0";const hm="[DEFAULT]",X2={[dm]:"fire-core",[T2]:"fire-core-compat",[N2]:"fire-analytics",[E2]:"fire-analytics-compat",[A2]:"fire-app-check",[S2]:"fire-app-check-compat",[k2]:"fire-auth",[C2]:"fire-auth-compat",[j2]:"fire-rtdb",[R2]:"fire-data-connect",[I2]:"fire-rtdb-compat",[D2]:"fire-fn",[M2]:"fire-fn-compat",[O2]:"fire-iid",[V2]:"fire-iid-compat",[z2]:"fire-fcm",[L2]:"fire-fcm-compat",[U2]:"fire-perf",[P2]:"fire-perf-compat",[B2]:"fire-rc",[q2]:"fire-rc-compat",[H2]:"fire-gcs",[F2]:"fire-gcs-compat",[G2]:"fire-fst",[Y2]:"fire-fst-compat",[K2]:"fire-vertex","fire-js":"fire-js",[Q2]:"fire-js-all"};const td=new Map,Z2=new Map,fm=new Map;function Sb(i,e){try{i.container.addComponent(e)}catch(s){si.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,s)}}function al(i){const e=i.name;if(fm.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;fm.set(e,i);for(const s of td.values())Sb(s,i);for(const s of Z2.values())Sb(s,i);return!0}function Gm(i,e){const s=i.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),i.container.getProvider(e)}function Ln(i){return i==null?!1:i.settings!==void 0}const J2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ji=new Ko("app","Firebase",J2);class W2{constructor(e,s,a){this._isDeleted=!1,this._options={...e},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new $a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}}const fl=$2;function mm(i,e={}){let s=i;typeof e!="object"&&(e={name:e});const a={name:hm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Ji.create("bad-app-name",{appName:String(o)});if(s||(s=cx()),!s)throw Ji.create("no-options");const u=td.get(o);if(u){if(Qa(s,u.options)&&Qa(a,u.config))return u;throw Ji.create("duplicate-app",{appName:o})}const m=new a2(o);for(const g of fm.values())m.addComponent(g);const b=new W2(s,a,m);return td.set(o,b),b}function px(i=hm){const e=td.get(i);if(!e&&i===hm&&cx())return mm();if(!e)throw Ji.create("no-app",{appName:i});return e}function Wi(i,e,s){let a=X2[i]??i;s&&(a+=`-${s}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const m=[`Unable to register library "${a}" with version "${e}":`];o&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&m.push("and"),u&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(m.join(" "));return}al(new $a(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const eE="firebase-heartbeat-database",tE=1,zo="firebase-heartbeat-store";let tm=null;function gx(){return tm||(tm=b2(eE,tE,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(zo)}catch(s){console.warn(s)}}}}).catch(i=>{throw Ji.create("idb-open",{originalErrorMessage:i.message})})),tm}async function nE(i){try{const s=(await gx()).transaction(zo),a=await s.objectStore(zo).get(yx(i));return await s.done,a}catch(e){if(e instanceof ci)si.warn(e.message);else{const s=Ji.create("idb-get",{originalErrorMessage:e?.message});si.warn(s.message)}}}async function Ab(i,e){try{const a=(await gx()).transaction(zo,"readwrite");await a.objectStore(zo).put(e,yx(i)),await a.done}catch(s){if(s instanceof ci)si.warn(s.message);else{const a=Ji.create("idb-set",{originalErrorMessage:s?.message});si.warn(a.message)}}}function yx(i){return`${i.name}!${i.options.appId}`}const sE=1024,iE=30;class aE{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new lE(s),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=kb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>iE){const o=oE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){si.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=kb(),{heartbeatsToSend:s,unsentEntries:a}=rE(this._heartbeatsCache.heartbeats),o=ed(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return si.warn(e),""}}}function kb(){return new Date().toISOString().substring(0,10)}function rE(i,e=sE){const s=[];let a=i.slice();for(const o of i){const u=s.find(m=>m.agent===o.agent);if(u){if(u.dates.push(o.date),Cb(s)>e){u.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),Cb(s)>e){s.pop();break}a=a.slice(1)}return{heartbeatsToSend:s,unsentEntries:a}}class lE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YT()?QT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await nE(this.app);return s?.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Ab(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Ab(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Cb(i){return ed(JSON.stringify({version:2,heartbeats:i})).length}function oE(i){if(i.length===0)return-1;let e=0,s=i[0].date;for(let a=1;a<i.length;a++)i[a].date<s&&(s=i[a].date,e=a);return e}function cE(i){al(new $a("platform-logger",e=>new _2(e),"PRIVATE")),al(new $a("heartbeat",e=>new aE(e),"PRIVATE")),Wi(dm,Nb,i),Wi(dm,Nb,"esm2020"),Wi("fire-js","")}cE("");var uE="firebase",dE="12.6.0";Wi(uE,dE,"app");function bx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hE=bx,vx=new Ko("auth","Firebase",bx());const nd=new Hm("@firebase/auth");function fE(i,...e){nd.logLevel<=Oe.WARN&&nd.warn(`Auth (${fl}): ${i}`,...e)}function Fu(i,...e){nd.logLevel<=Oe.ERROR&&nd.error(`Auth (${fl}): ${i}`,...e)}function ii(i,...e){throw Km(i,...e)}function Ss(i,...e){return Km(i,...e)}function xx(i,e,s){const a={...hE(),[e]:s};return new Ko("auth","Firebase",a).create(e,{appName:i.name})}function ni(i){return xx(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Km(i,...e){if(typeof i!="string"){const s=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(s,...a)}return vx.create(i,...e)}function we(i,e,...s){if(!i)throw Km(e,...s)}function ei(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Fu(e),new Error(e)}function ai(i,e){i||ei(e)}function pm(){return typeof self<"u"&&self.location?.href||""}function mE(){return jb()==="http:"||jb()==="https:"}function jb(){return typeof self<"u"&&self.location?.protocol||null}function pE(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mE()||HT()||"connection"in navigator)?navigator.onLine:!0}function gE(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Qo{constructor(e,s){this.shortDelay=e,this.longDelay=s,ai(s>e,"Short delay should be less than long delay!"),this.isMobile=PT()||FT()}get(){return pE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ym(i,e){ai(i.emulator,"Emulator should always be set here");const{url:s}=i.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}class _x{static initialize(e,s,a){this.fetchImpl=e,s&&(this.headersImpl=s),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const bE=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vE=new Qo(3e4,6e4);function $o(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ml(i,e,s,a,o={}){return wx(i,o,async()=>{let u={},m={};a&&(e==="GET"?m=a:u={body:JSON.stringify(a)});const b=Yo({key:i.config.apiKey,...m}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:g,...u};return qT()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&hl(i.emulatorConfig.host)&&(y.credentials="include"),_x.fetch()(await Tx(i,i.config.apiHost,s,b),y)})}async function wx(i,e,s){i._canInitEmulator=!1;const a={...yE,...e};try{const o=new xE(i),u=await Promise.race([s(),o.promise]);o.clearNetworkTimeout();const m=await u.json();if("needConfirmation"in m)throw zu(i,"account-exists-with-different-credential",m);if(u.ok&&!("errorMessage"in m))return m;{const b=u.ok?m.errorMessage:m.error.message,[g,y]=b.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw zu(i,"credential-already-in-use",m);if(g==="EMAIL_EXISTS")throw zu(i,"email-already-in-use",m);if(g==="USER_DISABLED")throw zu(i,"user-disabled",m);const _=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw xx(i,_,y);ii(i,_)}}catch(o){if(o instanceof ci)throw o;ii(i,"network-request-failed",{message:String(o)})}}async function Qm(i,e,s,a,o={}){const u=await ml(i,e,s,a,o);return"mfaPendingCredential"in u&&ii(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Tx(i,e,s,a){const o=`${e}${s}?${a}`,u=i,m=u.config.emulator?Ym(i.config,o):`${i.config.apiScheme}://${o}`;return bE.includes(s)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(m).toString():m}class xE{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,a)=>{this.timer=setTimeout(()=>a(Ss(this.auth,"network-request-failed")),vE.get())})}}function zu(i,e,s){const a={appName:i.name};s.email&&(a.email=s.email),s.phoneNumber&&(a.phoneNumber=s.phoneNumber);const o=Ss(i,e,a);return o.customData._tokenResponse=s,o}async function _E(i,e){return ml(i,"POST","/v1/accounts:delete",e)}async function sd(i,e){return ml(i,"POST","/v1/accounts:lookup",e)}function Ro(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wE(i,e=!1){const s=Yt(i),a=await s.getIdToken(e),o=$m(a);we(o&&o.exp&&o.auth_time&&o.iat,s.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,m=u?.sign_in_provider;return{claims:o,token:a,authTime:Ro(nm(o.auth_time)),issuedAtTime:Ro(nm(o.iat)),expirationTime:Ro(nm(o.exp)),signInProvider:m||null,signInSecondFactor:u?.sign_in_second_factor||null}}function nm(i){return Number(i)*1e3}function $m(i){const[e,s,a]=i.split(".");if(e===void 0||s===void 0||a===void 0)return Fu("JWT malformed, contained fewer than 3 sections"),null;try{const o=lx(s);return o?JSON.parse(o):(Fu("Failed to decode base64 JWT payload"),null)}catch(o){return Fu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Rb(i){const e=$m(i);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Lo(i,e,s=!1){if(s)return e;try{return await e}catch(a){throw a instanceof ci&&TE(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function TE({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class EE{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class gm{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ro(this.lastLoginAt),this.creationTime=Ro(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function id(i){const e=i.auth,s=await i.getIdToken(),a=await Lo(i,sd(e,{idToken:s}));we(a?.users.length,e,"internal-error");const o=a.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?Ex(o.providerUserInfo):[],m=SE(i.providerData,u),b=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!m?.length,y=b?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:m,metadata:new gm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,_)}async function NE(i){const e=Yt(i);await id(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SE(i,e){return[...i.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Ex(i){return i.map(({providerId:e,...s})=>({providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}))}async function AE(i,e){const s=await wx(i,{},async()=>{const a=Yo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,m=await Tx(i,o,"/v1/token",`key=${u}`),b=await i._getAdditionalHeaders();b["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:b,body:a};return i.emulatorConfig&&hl(i.emulatorConfig.host)&&(g.credentials="include"),_x.fetch()(m,g)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function kE(i,e){return ml(i,"POST","/v2/accounts:revokeToken",$o(i,e))}class tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){we(e.length!==0,"internal-error");const s=Rb(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:a,refreshToken:o,expiresIn:u}=await AE(e,s);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,s,a){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,s){const{refreshToken:a,accessToken:o,expirationTime:u}=s,m=new tl;return a&&(we(typeof a=="string","internal-error",{appName:e}),m.refreshToken=a),o&&(we(typeof o=="string","internal-error",{appName:e}),m.accessToken=o),u&&(we(typeof u=="number","internal-error",{appName:e}),m.expirationTime=u),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tl,this.toJSON())}_performRefresh(){return ei("not implemented")}}function Hi(i,e){we(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:s,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new EE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const s=await Lo(this,this.stsTokenManager.getToken(this.auth,e));return we(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return wE(this,e)}reload(){return NE(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>({...s})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return s.metadata._copy(this.metadata),s}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),s&&await id(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(ni(this.auth));const e=await this.getIdToken();return await Lo(this,_E(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){const a=s.displayName??void 0,o=s.email??void 0,u=s.phoneNumber??void 0,m=s.photoURL??void 0,b=s.tenantId??void 0,g=s._redirectEventId??void 0,y=s.createdAt??void 0,_=s.lastLoginAt??void 0,{uid:N,emailVerified:k,isAnonymous:q,providerData:Z,stsTokenManager:z}=s;we(N&&z,e,"internal-error");const D=tl.fromJSON(this.name,z);we(typeof N=="string",e,"internal-error"),Hi(a,e.name),Hi(o,e.name),we(typeof k=="boolean",e,"internal-error"),we(typeof q=="boolean",e,"internal-error"),Hi(u,e.name),Hi(m,e.name),Hi(b,e.name),Hi(g,e.name),Hi(y,e.name),Hi(_,e.name);const $=new Wn({uid:N,auth:e,email:o,emailVerified:k,displayName:a,isAnonymous:q,photoURL:m,phoneNumber:u,tenantId:b,stsTokenManager:D,createdAt:y,lastLoginAt:_});return Z&&Array.isArray(Z)&&($.providerData=Z.map(T=>({...T}))),g&&($._redirectEventId=g),$}static async _fromIdTokenResponse(e,s,a=!1){const o=new tl;o.updateFromServerResponse(s);const u=new Wn({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await id(u),u}static async _fromGetAccountInfoResponse(e,s,a){const o=s.users[0];we(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Ex(o.providerUserInfo):[],m=!(o.email&&o.passwordHash)&&!u?.length,b=new tl;b.updateFromIdToken(a);const g=new Wn({uid:o.localId,auth:e,stsTokenManager:b,isAnonymous:m}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new gm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const Ib=new Map;function ti(i){ai(i instanceof Function,"Expected a class definition");let e=Ib.get(i);return e?(ai(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Ib.set(i,e),e)}class Nx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}Nx.type="NONE";const Db=Nx;function Gu(i,e,s){return`firebase:${i}:${e}:${s}`}class nl{constructor(e,s,a){this.persistence=e,this.auth=s,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Gu(this.userKey,o.apiKey,u),this.fullPersistenceKey=Gu("persistence",o.apiKey,u),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await sd(this.auth,{idToken:e}).catch(()=>{});return s?Wn._fromGetAccountInfoResponse(this.auth,s,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,a="authUser"){if(!s.length)return new nl(ti(Db),e,a);const o=(await Promise.all(s.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ti(Db);const m=Gu(a,e.config.apiKey,e.name);let b=null;for(const y of s)try{const _=await y._get(m);if(_){let N;if(typeof _=="string"){const k=await sd(e,{idToken:_}).catch(()=>{});if(!k)break;N=await Wn._fromGetAccountInfoResponse(e,k,_)}else N=Wn._fromJSON(e,_);y!==u&&(b=N),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new nl(u,e,a):(u=g[0],b&&await u._set(m,b.toJSON()),await Promise.all(s.map(async y=>{if(y!==u)try{await y._remove(m)}catch{}})),new nl(u,e,a))}}function Mb(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Cx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Sx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rx(e))return"Blackberry";if(Ix(e))return"Webos";if(Ax(e))return"Safari";if((e.includes("chrome/")||kx(e))&&!e.includes("edge/"))return"Chrome";if(jx(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(s);if(a?.length===2)return a[1]}return"Other"}function Sx(i=Wt()){return/firefox\//i.test(i)}function Ax(i=Wt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kx(i=Wt()){return/crios\//i.test(i)}function Cx(i=Wt()){return/iemobile/i.test(i)}function jx(i=Wt()){return/android/i.test(i)}function Rx(i=Wt()){return/blackberry/i.test(i)}function Ix(i=Wt()){return/webos/i.test(i)}function Xm(i=Wt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function CE(i=Wt()){return Xm(i)&&!!window.navigator?.standalone}function jE(){return GT()&&document.documentMode===10}function Dx(i=Wt()){return Xm(i)||jx(i)||Ix(i)||Rx(i)||/windows phone/i.test(i)||Cx(i)}function Mx(i,e=[]){let s;switch(i){case"Browser":s=Mb(Wt());break;case"Worker":s=`${Mb(Wt())}-${i}`;break;default:s=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${fl}/${a}`}class RE{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const a=u=>new Promise((m,b)=>{try{const g=e(u);m(g)}catch(g){b(g)}});a.onAbort=s,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const a of this.queue)await a(e),a.onAbort&&s.push(a.onAbort)}catch(a){s.reverse();for(const o of s)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function IE(i,e={}){return ml(i,"GET","/v2/passwordPolicy",$o(i,e))}const DE=6;class ME{constructor(e){const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=s.minPasswordLength??DE,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=s.meetsMinPasswordLength??!0),s.isValid&&(s.isValid=s.meetsMaxPasswordLength??!0),s.isValid&&(s.isValid=s.containsLowercaseLetter??!0),s.isValid&&(s.isValid=s.containsUppercaseLetter??!0),s.isValid&&(s.isValid=s.containsNumericCharacter??!0),s.isValid&&(s.isValid=s.containsNonAlphanumericCharacter??!0),s}validatePasswordLengthOptions(e,s){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(s.meetsMinPasswordLength=e.length>=a),o&&(s.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(s,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,s,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class OE{constructor(e,s,a,o){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ob(this),this.idTokenSubscription=new Ob(this),this.beforeStateQueue=new RE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=ti(s)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await nl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await sd(this,{idToken:e}),a=await Wn._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(a)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ln(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,m=a?._redirectEventId,b=await this.tryRedirectSignIn(e);(!u||u===m)&&b?.user&&(a=b.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await id(e)}catch(s){if(s?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gE()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(ni(this));const s=e?Yt(e):null;return s&&we(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IE(this),s=new ME(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ko("auth","Firebase",e())}onAuthStateChanged(e,s,a){return this.registerStateListener(this.authStateSubscription,e,s,a)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,a){return this.registerStateListener(this.idTokenSubscription,e,s,a)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(a.tenantId=this.tenantId),await kE(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,s){const a=await this.getOrInitRedirectPersistenceManager(s);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&ti(e)||this._popupRedirectResolver;we(s,this,"argument-error"),this.redirectPersistenceManager=await nl.create(this,[ti(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,a,o){if(this._deleted)return()=>{};const u=typeof s=="function"?s:s.next.bind(s);let m=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(b,this,"internal-error"),b.then(()=>{m||u(this.currentUser)}),typeof s=="function"){const g=e.addObserver(s,a,o);return()=>{m=!0,g()}}else{const g=e.addObserver(s);return()=>{m=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();s&&(e["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&fE(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Xo(i){return Yt(i)}class Ob{constructor(e){this.auth=e,this.observer=null,this.addObserver=WT(s=>this.observer=s)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VE(i){Zm=i}function zE(i){return Zm.loadJS(i)}function LE(){return Zm.gapiScript}function UE(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function PE(i,e){const s=Gm(i,"auth");if(s.isInitialized()){const o=s.getImmediate(),u=s.getOptions();if(Qa(u,e??{}))return o;ii(o,"already-initialized")}return s.initialize({options:e})}function BE(i,e){const s=e?.persistence||[],a=(Array.isArray(s)?s:[s]).map(ti);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e?.popupRedirectResolver)}function qE(i,e,s){const a=Xo(i);we(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=Ox(e),{host:m,port:b}=HE(e),g=b===null?"":`:${b}`,y={url:`${u}//${m}${g}/`},_=Object.freeze({host:m,port:b,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){we(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),we(Qa(y,a.config.emulator)&&Qa(_,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=_,a.settings.appVerificationDisabledForTesting=!0,hl(m)?(dx(`${u}//${m}${g}`),hx("Auth",!0)):FE()}function Ox(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function HE(i){const e=Ox(i),s=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!s)return{host:"",port:null};const a=s[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:Vb(a.substr(u.length+1))}}else{const[u,m]=a.split(":");return{host:u,port:Vb(m)}}}function Vb(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function FE(){function i(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Vx{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return ei("not implemented")}_getIdTokenResponse(e){return ei("not implemented")}_linkToIdToken(e,s){return ei("not implemented")}_getReauthenticationResolver(e){return ei("not implemented")}}async function sl(i,e){return Qm(i,"POST","/v1/accounts:signInWithIdp",$o(i,e))}const GE="http://localhost";class Xa extends Vx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new Xa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):ii("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=s;if(!a||!o)return null;const m=new Xa(a,o);return m.idToken=u.idToken||void 0,m.accessToken=u.accessToken||void 0,m.secret=u.secret,m.nonce=u.nonce,m.pendingToken=u.pendingToken||null,m}_getIdTokenResponse(e){const s=this.buildRequest();return sl(e,s)}_linkToIdToken(e,s){const a=this.buildRequest();return a.idToken=s,sl(e,a)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,sl(e,s)}buildRequest(){const e={requestUri:GE,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=Yo(s)}return e}}class zx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Zo extends zx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ki extends Zo{constructor(){super("facebook.com")}static credential(e){return Xa._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";class Yi extends Zo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return Xa._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:a}=e;if(!s&&!a)return null;try{return Yi.credential(s,a)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";class Qi extends Zo{constructor(){super("github.com")}static credential(e){return Xa._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";class $i extends Zo{constructor(){super("twitter.com")}static credential(e,s){return Xa._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:a}=e;if(!s||!a)return null;try{return $i.credential(s,a)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";async function KE(i,e){return Qm(i,"POST","/v1/accounts:signUp",$o(i,e))}class ri{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,a,o=!1){const u=await Wn._fromIdTokenResponse(e,a,o),m=zb(a);return new ri({user:u,providerId:m,_tokenResponse:a,operationType:s})}static async _forOperation(e,s,a){await e._updateTokensIfNecessary(a,!0);const o=zb(a);return new ri({user:e,providerId:o,_tokenResponse:a,operationType:s})}}function zb(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}async function YE(i){if(Ln(i.app))return Promise.reject(ni(i));const e=Xo(i);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ri({user:e.currentUser,providerId:null,operationType:"signIn"});const s=await KE(e,{returnSecureToken:!0}),a=await ri._fromIdTokenResponse(e,"signIn",s,!0);return await e._updateCurrentUser(a.user),a}class ad extends ci{constructor(e,s,a,o){super(s.code,s.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,ad.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:s.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,s,a,o){return new ad(e,s,a,o)}}function Lx(i,e,s,a){return(e==="reauthenticate"?s._getReauthenticationResolver(i):s._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ad._fromErrorAndOperation(i,u,e,a):u})}async function QE(i,e,s=!1){const a=await Lo(i,e._linkToIdToken(i.auth,await i.getIdToken()),s);return ri._forOperation(i,"link",a)}async function $E(i,e,s=!1){const{auth:a}=i;if(Ln(a.app))return Promise.reject(ni(a));const o="reauthenticate";try{const u=await Lo(i,Lx(a,o,e,i),s);we(u.idToken,a,"internal-error");const m=$m(u.idToken);we(m,a,"internal-error");const{sub:b}=m;return we(i.uid===b,a,"user-mismatch"),ri._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ii(a,"user-mismatch"),u}}async function XE(i,e,s=!1){if(Ln(i.app))return Promise.reject(ni(i));const a="signIn",o=await Lx(i,a,e),u=await ri._fromIdTokenResponse(i,a,o);return s||await i._updateCurrentUser(u.user),u}async function ZE(i,e){return Qm(i,"POST","/v1/accounts:signInWithCustomToken",$o(i,e))}async function JE(i,e){if(Ln(i.app))return Promise.reject(ni(i));const s=Xo(i),a=await ZE(s,{token:e,returnSecureToken:!0}),o=await ri._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(o.user),o}function WE(i,e,s,a){return Yt(i).onIdTokenChanged(e,s,a)}function eN(i,e,s){return Yt(i).beforeAuthStateChanged(e,s)}function tN(i,e,s,a){return Yt(i).onAuthStateChanged(e,s,a)}const rd="__sak";class Ux{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const nN=1e3,sN=10;class Px extends Ux{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Dx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const a=this.storage.getItem(s),o=this.localCache[s];a!==o&&e(s,o,a)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((m,b,g)=>{this.notifyListeners(m,g)});return}const a=e.key;s?this.detachListener():this.stopPolling();const o=()=>{const m=this.storage.getItem(a);!s&&this.localCache[a]===m||this.notifyListeners(a,m)},u=this.storage.getItem(a);jE()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,sN):o()}notifyListeners(e,s){this.localCache[e]=s;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:a}),!0)})},nN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}Px.type="LOCAL";const iN=Px;class Bx extends Ux{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}Bx.type="SESSION";const qx=Bx;function aN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}class wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(o=>o.isListeningto(e));if(s)return s;const a=new wd(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:a,eventType:o,data:u}=s.data,m=this.handlersMap[o];if(!m?.size)return;s.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const b=Array.from(m).map(async y=>y(s.origin,u)),g=await aN(b);s.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wd.receivers=[];function Jm(i="",e=10){let s="";for(let a=0;a<e;a++)s+=Math.floor(Math.random()*10);return i+s}class rN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,m;return new Promise((b,g)=>{const y=Jm("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},a);m={messageChannel:o,onMessage(N){const k=N;if(k.data.eventId===y)switch(k.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),b(k.data.response);break;default:clearTimeout(_),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(m),o.port1.addEventListener("message",m.onMessage),this.target.postMessage({eventType:e,eventId:y,data:s},[o.port2])}).finally(()=>{m&&this.removeMessageHandler(m)})}}function As(){return window}function lN(i){As().location.href=i}function Hx(){return typeof As().WorkerGlobalScope<"u"&&typeof As().importScripts=="function"}async function oN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cN(){return navigator?.serviceWorker?.controller||null}function uN(){return Hx()?self:null}const Fx="firebaseLocalStorageDb",dN=1,ld="firebaseLocalStorage",Gx="fbase_key";class Jo{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function Td(i,e){return i.transaction([ld],e?"readwrite":"readonly").objectStore(ld)}function hN(){const i=indexedDB.deleteDatabase(Fx);return new Jo(i).toPromise()}function ym(){const i=indexedDB.open(Fx,dN);return new Promise((e,s)=>{i.addEventListener("error",()=>{s(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(ld,{keyPath:Gx})}catch(o){s(o)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(ld)?e(a):(a.close(),await hN(),e(await ym()))})})}async function Lb(i,e,s){const a=Td(i,!0).put({[Gx]:e,value:s});return new Jo(a).toPromise()}async function fN(i,e){const s=Td(i,!1).get(e),a=await new Jo(s).toPromise();return a===void 0?null:a.value}function Ub(i,e){const s=Td(i,!0).delete(e);return new Jo(s).toPromise()}const mN=800,pN=3;class Kx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ym(),this.db)}async _withRetries(e){let s=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(s++>pN)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wd._getInstance(uN()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await oN(),!this.activeServiceWorker)return;this.sender=new rN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ym();return await Lb(e,rd,"1"),await Ub(e,rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(a=>Lb(a,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(a=>fN(a,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>Ub(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Td(o,!1).getAll();return new Jo(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),s.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),s.push(o));return s}notifyListeners(e,s){this.localCache[e]=s;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Kx.type="LOCAL";const gN=Kx;new Qo(3e4,6e4);function yN(i,e){return e?ti(e):(we(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Wm extends Vx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sl(e,this._buildIdpRequest())}_linkToIdToken(e,s){return sl(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function bN(i){return XE(i.auth,new Wm(i),i.bypassAuthState)}function vN(i){const{auth:e,user:s}=i;return we(s,e,"internal-error"),$E(s,new Wm(i),i.bypassAuthState)}async function xN(i){const{auth:e,user:s}=i;return we(s,e,"internal-error"),QE(s,new Wm(i),i.bypassAuthState)}class Yx{constructor(e,s,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:a,postBody:o,tenantId:u,error:m,type:b}=e;if(m){this.reject(m);return}const g={auth:this.auth,requestUri:s,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bN;case"linkViaPopup":case"linkViaRedirect":return xN;case"reauthViaPopup":case"reauthViaRedirect":return vN;default:ii(this.auth,"internal-error")}}resolve(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _N=new Qo(2e3,1e4);class Wr extends Yx{constructor(e,s,a,o,u){super(e,s,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Wr.currentPopupAction&&Wr.currentPopupAction.cancel(),Wr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){ai(this.filter.length===1,"Popup operations only handle one event");const e=Jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(Ss(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ss(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ss(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_N.get())};e()}}Wr.currentPopupAction=null;const wN="pendingRedirect",Ku=new Map;class TN extends Yx{constructor(e,s,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,a),this.eventId=null}async execute(){let e=Ku.get(this.auth._key());if(!e){try{const a=await EN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(s){e=()=>Promise.reject(s)}Ku.set(this.auth._key(),e)}return this.bypassAuthState||Ku.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EN(i,e){const s=AN(e),a=SN(i);if(!await a._isAvailable())return!1;const o=await a._get(s)==="true";return await a._remove(s),o}function NN(i,e){Ku.set(i._key(),e)}function SN(i){return ti(i._redirectPersistence)}function AN(i){return Gu(wN,i.config.apiKey,i.name)}async function kN(i,e,s=!1){if(Ln(i.app))return Promise.reject(ni(i));const a=Xo(i),o=yN(a,e),m=await new TN(a,o,s).execute();return m&&!s&&(delete m.user._redirectEventId,await a._persistUserIfCurrent(m.user),await a._setRedirectUser(null,e)),m}const CN=600*1e3;class jN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(s=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RN(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){if(e.error&&!Qx(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";s.onError(Ss(this.auth,a))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const a=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pb(e))}saveEventToCache(e){this.cachedEventUids.add(Pb(e)),this.lastProcessedEventTime=Date.now()}}function Pb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Qx({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function RN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qx(i);default:return!1}}async function IN(i,e={}){return ml(i,"GET","/v1/projects",e)}const DN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MN=/^https?/;async function ON(i){if(i.config.emulator)return;const{authorizedDomains:e}=await IN(i);for(const s of e)try{if(VN(s))return}catch{}ii(i,"unauthorized-domain")}function VN(i){const e=pm(),{protocol:s,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const m=new URL(i);return m.hostname===""&&a===""?s==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&m.hostname===a}if(!MN.test(s))return!1;if(DN.test(i))return a===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const zN=new Qo(3e4,6e4);function Bb(){const i=As().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let s=0;s<i.CP.length;s++)i.CP[s]=null}}function LN(i){return new Promise((e,s)=>{function a(){Bb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bb(),s(Ss(i,"network-request-failed"))},timeout:zN.get()})}if(As().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(As().gapi?.load)a();else{const o=UE("iframefcb");return As()[o]=()=>{gapi.load?a():s(Ss(i,"network-request-failed"))},zE(`${LE()}?onload=${o}`).catch(u=>s(u))}}).catch(e=>{throw Yu=null,e})}let Yu=null;function UN(i){return Yu=Yu||LN(i),Yu}const PN=new Qo(5e3,15e3),BN="__/auth/iframe",qN="emulator/auth/iframe",HN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GN(i){const e=i.config;we(e.authDomain,i,"auth-domain-config-required");const s=e.emulator?Ym(e,qN):`https://${i.config.authDomain}/${BN}`,a={apiKey:e.apiKey,appName:i.name,v:fl},o=FN.get(i.config.apiHost);o&&(a.eid=o);const u=i._getFrameworks();return u.length&&(a.fw=u.join(",")),`${s}?${Yo(a).slice(1)}`}async function KN(i){const e=await UN(i),s=As().gapi;return we(s,i,"internal-error"),e.open({where:document.body,url:GN(i),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HN,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const m=Ss(i,"network-request-failed"),b=As().setTimeout(()=>{u(m)},PN.get());function g(){As().clearTimeout(b),o(a)}a.ping(g).then(g,()=>{u(m)})}))}const YN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QN=500,$N=600,XN="_blank",ZN="http://localhost";class qb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JN(i,e,s,a=QN,o=$N){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),m=Math.max((window.screen.availWidth-a)/2,0).toString();let b="";const g={...YN,width:a.toString(),height:o.toString(),top:u,left:m},y=Wt().toLowerCase();s&&(b=kx(y)?XN:s),Sx(y)&&(e=e||ZN,g.scrollbars="yes");const _=Object.entries(g).reduce((k,[q,Z])=>`${k}${q}=${Z},`,"");if(CE(y)&&b!=="_self")return WN(e||"",b),new qb(null);const N=window.open(e||"",b,_);we(N,i,"popup-blocked");try{N.focus()}catch{}return new qb(N)}function WN(i,e){const s=document.createElement("a");s.href=i,s.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(a)}const eS="__/auth/handler",tS="emulator/auth/handler",nS=encodeURIComponent("fac");async function Hb(i,e,s,a,o,u){we(i.config.authDomain,i,"auth-domain-config-required"),we(i.config.apiKey,i,"invalid-api-key");const m={apiKey:i.config.apiKey,appName:i.name,authType:s,redirectUrl:a,v:fl,eventId:o};if(e instanceof zx){e.setDefaultLanguage(i.languageCode),m.providerId=e.providerId||"",JT(e.getCustomParameters())||(m.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,N]of Object.entries({}))m[_]=N}if(e instanceof Zo){const _=e.getScopes().filter(N=>N!=="");_.length>0&&(m.scopes=_.join(","))}i.tenantId&&(m.tid=i.tenantId);const b=m;for(const _ of Object.keys(b))b[_]===void 0&&delete b[_];const g=await i._getAppCheckToken(),y=g?`#${nS}=${encodeURIComponent(g)}`:"";return`${sS(i)}?${Yo(b).slice(1)}${y}`}function sS({config:i}){return i.emulator?Ym(i,tS):`https://${i.authDomain}/${eS}`}const sm="webStorageSupport";class iS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qx,this._completeRedirectFn=kN,this._overrideRedirectResult=NN}async _openPopup(e,s,a,o){ai(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Hb(e,s,a,pm(),o);return JN(e,u,Jm())}async _openRedirect(e,s,a,o){await this._originValidation(e);const u=await Hb(e,s,a,pm(),o);return lN(u),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:o,promise:u}=this.eventManagers[s];return o?Promise.resolve(o):(ai(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[s]={promise:a},a.catch(()=>{delete this.eventManagers[s]}),a}async initAndGetManager(e){const s=await KN(e),a=new jN(e);return s.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=s,a}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(sm,{type:sm},o=>{const u=o?.[0]?.[sm];u!==void 0&&s(!!u),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=ON(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return Dx()||Ax()||Xm()}}const aS=iS;var Fb="@firebase/auth",Gb="1.11.1";class rS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function lS(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oS(i){al(new $a("auth",(e,{options:s})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:m,authDomain:b}=a.options;we(m&&!m.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:m,authDomain:b,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mx(i)},y=new OE(a,o,u,g);return BE(y,s),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,a)=>{e.getProvider("auth-internal").initialize()})),al(new $a("auth-internal",e=>{const s=Xo(e.getProvider("auth").getImmediate());return(a=>new rS(a))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(Fb,Gb,lS(i)),Wi(Fb,Gb,"esm2020")}const cS=300,uS=ux("authIdTokenMaxAge")||cS;let Kb=null;const dS=i=>async e=>{const s=e&&await e.getIdTokenResult(),a=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(a&&a>uS)return;const o=s?.token;Kb!==o&&(Kb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Yb(i=px()){const e=Gm(i,"auth");if(e.isInitialized())return e.getImmediate();const s=PE(i,{popupRedirectResolver:aS,persistence:[gN,iN,qx]}),a=ux("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const m=dS(u.toString());eN(s,m,()=>m(s.currentUser)),WE(s,b=>m(b))}}const o=ox("auth");return o&&qE(s,`http://${o}`),s}function hS(){return document.getElementsByTagName("head")?.[0]??document}VE({loadJS(i){return new Promise((e,s)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=o=>{const u=Ss("internal-error");u.customData=o,s(u)},a.type="text/javascript",a.charset="UTF-8",hS().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oS("Browser");var Qb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ea,$x;(function(){var i;function e(j,A){function R(){}R.prototype=A.prototype,j.F=A.prototype,j.prototype=new R,j.prototype.constructor=j,j.D=function(L,O,P){for(var S=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)S[xe-2]=arguments[xe];return A.prototype[O].apply(L,S)}}function s(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,s),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(j,A,R){R||(R=0);const L=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)L[O]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(O=0;O<16;++O)L[O]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=j.g[0],R=j.g[1],O=j.g[2];let P=j.g[3],S;S=A+(P^R&(O^P))+L[0]+3614090360&4294967295,A=R+(S<<7&4294967295|S>>>25),S=P+(O^A&(R^O))+L[1]+3905402710&4294967295,P=A+(S<<12&4294967295|S>>>20),S=O+(R^P&(A^R))+L[2]+606105819&4294967295,O=P+(S<<17&4294967295|S>>>15),S=R+(A^O&(P^A))+L[3]+3250441966&4294967295,R=O+(S<<22&4294967295|S>>>10),S=A+(P^R&(O^P))+L[4]+4118548399&4294967295,A=R+(S<<7&4294967295|S>>>25),S=P+(O^A&(R^O))+L[5]+1200080426&4294967295,P=A+(S<<12&4294967295|S>>>20),S=O+(R^P&(A^R))+L[6]+2821735955&4294967295,O=P+(S<<17&4294967295|S>>>15),S=R+(A^O&(P^A))+L[7]+4249261313&4294967295,R=O+(S<<22&4294967295|S>>>10),S=A+(P^R&(O^P))+L[8]+1770035416&4294967295,A=R+(S<<7&4294967295|S>>>25),S=P+(O^A&(R^O))+L[9]+2336552879&4294967295,P=A+(S<<12&4294967295|S>>>20),S=O+(R^P&(A^R))+L[10]+4294925233&4294967295,O=P+(S<<17&4294967295|S>>>15),S=R+(A^O&(P^A))+L[11]+2304563134&4294967295,R=O+(S<<22&4294967295|S>>>10),S=A+(P^R&(O^P))+L[12]+1804603682&4294967295,A=R+(S<<7&4294967295|S>>>25),S=P+(O^A&(R^O))+L[13]+4254626195&4294967295,P=A+(S<<12&4294967295|S>>>20),S=O+(R^P&(A^R))+L[14]+2792965006&4294967295,O=P+(S<<17&4294967295|S>>>15),S=R+(A^O&(P^A))+L[15]+1236535329&4294967295,R=O+(S<<22&4294967295|S>>>10),S=A+(O^P&(R^O))+L[1]+4129170786&4294967295,A=R+(S<<5&4294967295|S>>>27),S=P+(R^O&(A^R))+L[6]+3225465664&4294967295,P=A+(S<<9&4294967295|S>>>23),S=O+(A^R&(P^A))+L[11]+643717713&4294967295,O=P+(S<<14&4294967295|S>>>18),S=R+(P^A&(O^P))+L[0]+3921069994&4294967295,R=O+(S<<20&4294967295|S>>>12),S=A+(O^P&(R^O))+L[5]+3593408605&4294967295,A=R+(S<<5&4294967295|S>>>27),S=P+(R^O&(A^R))+L[10]+38016083&4294967295,P=A+(S<<9&4294967295|S>>>23),S=O+(A^R&(P^A))+L[15]+3634488961&4294967295,O=P+(S<<14&4294967295|S>>>18),S=R+(P^A&(O^P))+L[4]+3889429448&4294967295,R=O+(S<<20&4294967295|S>>>12),S=A+(O^P&(R^O))+L[9]+568446438&4294967295,A=R+(S<<5&4294967295|S>>>27),S=P+(R^O&(A^R))+L[14]+3275163606&4294967295,P=A+(S<<9&4294967295|S>>>23),S=O+(A^R&(P^A))+L[3]+4107603335&4294967295,O=P+(S<<14&4294967295|S>>>18),S=R+(P^A&(O^P))+L[8]+1163531501&4294967295,R=O+(S<<20&4294967295|S>>>12),S=A+(O^P&(R^O))+L[13]+2850285829&4294967295,A=R+(S<<5&4294967295|S>>>27),S=P+(R^O&(A^R))+L[2]+4243563512&4294967295,P=A+(S<<9&4294967295|S>>>23),S=O+(A^R&(P^A))+L[7]+1735328473&4294967295,O=P+(S<<14&4294967295|S>>>18),S=R+(P^A&(O^P))+L[12]+2368359562&4294967295,R=O+(S<<20&4294967295|S>>>12),S=A+(R^O^P)+L[5]+4294588738&4294967295,A=R+(S<<4&4294967295|S>>>28),S=P+(A^R^O)+L[8]+2272392833&4294967295,P=A+(S<<11&4294967295|S>>>21),S=O+(P^A^R)+L[11]+1839030562&4294967295,O=P+(S<<16&4294967295|S>>>16),S=R+(O^P^A)+L[14]+4259657740&4294967295,R=O+(S<<23&4294967295|S>>>9),S=A+(R^O^P)+L[1]+2763975236&4294967295,A=R+(S<<4&4294967295|S>>>28),S=P+(A^R^O)+L[4]+1272893353&4294967295,P=A+(S<<11&4294967295|S>>>21),S=O+(P^A^R)+L[7]+4139469664&4294967295,O=P+(S<<16&4294967295|S>>>16),S=R+(O^P^A)+L[10]+3200236656&4294967295,R=O+(S<<23&4294967295|S>>>9),S=A+(R^O^P)+L[13]+681279174&4294967295,A=R+(S<<4&4294967295|S>>>28),S=P+(A^R^O)+L[0]+3936430074&4294967295,P=A+(S<<11&4294967295|S>>>21),S=O+(P^A^R)+L[3]+3572445317&4294967295,O=P+(S<<16&4294967295|S>>>16),S=R+(O^P^A)+L[6]+76029189&4294967295,R=O+(S<<23&4294967295|S>>>9),S=A+(R^O^P)+L[9]+3654602809&4294967295,A=R+(S<<4&4294967295|S>>>28),S=P+(A^R^O)+L[12]+3873151461&4294967295,P=A+(S<<11&4294967295|S>>>21),S=O+(P^A^R)+L[15]+530742520&4294967295,O=P+(S<<16&4294967295|S>>>16),S=R+(O^P^A)+L[2]+3299628645&4294967295,R=O+(S<<23&4294967295|S>>>9),S=A+(O^(R|~P))+L[0]+4096336452&4294967295,A=R+(S<<6&4294967295|S>>>26),S=P+(R^(A|~O))+L[7]+1126891415&4294967295,P=A+(S<<10&4294967295|S>>>22),S=O+(A^(P|~R))+L[14]+2878612391&4294967295,O=P+(S<<15&4294967295|S>>>17),S=R+(P^(O|~A))+L[5]+4237533241&4294967295,R=O+(S<<21&4294967295|S>>>11),S=A+(O^(R|~P))+L[12]+1700485571&4294967295,A=R+(S<<6&4294967295|S>>>26),S=P+(R^(A|~O))+L[3]+2399980690&4294967295,P=A+(S<<10&4294967295|S>>>22),S=O+(A^(P|~R))+L[10]+4293915773&4294967295,O=P+(S<<15&4294967295|S>>>17),S=R+(P^(O|~A))+L[1]+2240044497&4294967295,R=O+(S<<21&4294967295|S>>>11),S=A+(O^(R|~P))+L[8]+1873313359&4294967295,A=R+(S<<6&4294967295|S>>>26),S=P+(R^(A|~O))+L[15]+4264355552&4294967295,P=A+(S<<10&4294967295|S>>>22),S=O+(A^(P|~R))+L[6]+2734768916&4294967295,O=P+(S<<15&4294967295|S>>>17),S=R+(P^(O|~A))+L[13]+1309151649&4294967295,R=O+(S<<21&4294967295|S>>>11),S=A+(O^(R|~P))+L[4]+4149444226&4294967295,A=R+(S<<6&4294967295|S>>>26),S=P+(R^(A|~O))+L[11]+3174756917&4294967295,P=A+(S<<10&4294967295|S>>>22),S=O+(A^(P|~R))+L[2]+718787259&4294967295,O=P+(S<<15&4294967295|S>>>17),S=R+(P^(O|~A))+L[9]+3951481745&4294967295,j.g[0]=j.g[0]+A&4294967295,j.g[1]=j.g[1]+(O+(S<<21&4294967295|S>>>11))&4294967295,j.g[2]=j.g[2]+O&4294967295,j.g[3]=j.g[3]+P&4294967295}a.prototype.v=function(j,A){A===void 0&&(A=j.length);const R=A-this.blockSize,L=this.C;let O=this.h,P=0;for(;P<A;){if(O==0)for(;P<=R;)o(this,j,P),P+=this.blockSize;if(typeof j=="string"){for(;P<A;)if(L[O++]=j.charCodeAt(P++),O==this.blockSize){o(this,L),O=0;break}}else for(;P<A;)if(L[O++]=j[P++],O==this.blockSize){o(this,L),O=0;break}}this.h=O,this.o+=A},a.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var A=1;A<j.length-8;++A)j[A]=0;A=this.o*8;for(var R=j.length-8;R<j.length;++R)j[R]=A&255,A/=256;for(this.v(j),j=Array(16),A=0,R=0;R<4;++R)for(let L=0;L<32;L+=8)j[A++]=this.g[R]>>>L&255;return j};function u(j,A){var R=b;return Object.prototype.hasOwnProperty.call(R,j)?R[j]:R[j]=A(j)}function m(j,A){this.h=A;const R=[];let L=!0;for(let O=j.length-1;O>=0;O--){const P=j[O]|0;L&&P==A||(R[O]=P,L=!1)}this.g=R}var b={};function g(j){return-128<=j&&j<128?u(j,function(A){return new m([A|0],A<0?-1:0)}):new m([j|0],j<0?-1:0)}function y(j){if(isNaN(j)||!isFinite(j))return N;if(j<0)return D(y(-j));const A=[];let R=1;for(let L=0;j>=R;L++)A[L]=j/R|0,R*=4294967296;return new m(A,0)}function _(j,A){if(j.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(j.charAt(0)=="-")return D(_(j.substring(1),A));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(A,8));let L=N;for(let P=0;P<j.length;P+=8){var O=Math.min(8,j.length-P);const S=parseInt(j.substring(P,P+O),A);O<8?(O=y(Math.pow(A,O)),L=L.j(O).add(y(S))):(L=L.j(R),L=L.add(y(S)))}return L}var N=g(0),k=g(1),q=g(16777216);i=m.prototype,i.m=function(){if(z(this))return-D(this).m();let j=0,A=1;for(let R=0;R<this.g.length;R++){const L=this.i(R);j+=(L>=0?L:4294967296+L)*A,A*=4294967296}return j},i.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(Z(this))return"0";if(z(this))return"-"+D(this).toString(j);const A=y(Math.pow(j,6));var R=this;let L="";for(;;){const O=ae(R,A).g;R=$(R,O.j(A));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(j);if(R=O,Z(R))return P+L;for(;P.length<6;)P="0"+P;L=P+L}},i.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function Z(j){if(j.h!=0)return!1;for(let A=0;A<j.g.length;A++)if(j.g[A]!=0)return!1;return!0}function z(j){return j.h==-1}i.l=function(j){return j=$(this,j),z(j)?-1:Z(j)?0:1};function D(j){const A=j.g.length,R=[];for(let L=0;L<A;L++)R[L]=~j.g[L];return new m(R,~j.h).add(k)}i.abs=function(){return z(this)?D(this):this},i.add=function(j){const A=Math.max(this.g.length,j.g.length),R=[];let L=0;for(let O=0;O<=A;O++){let P=L+(this.i(O)&65535)+(j.i(O)&65535),S=(P>>>16)+(this.i(O)>>>16)+(j.i(O)>>>16);L=S>>>16,P&=65535,S&=65535,R[O]=S<<16|P}return new m(R,R[R.length-1]&-2147483648?-1:0)};function $(j,A){return j.add(D(A))}i.j=function(j){if(Z(this)||Z(j))return N;if(z(this))return z(j)?D(this).j(D(j)):D(D(this).j(j));if(z(j))return D(this.j(D(j)));if(this.l(q)<0&&j.l(q)<0)return y(this.m()*j.m());const A=this.g.length+j.g.length,R=[];for(var L=0;L<2*A;L++)R[L]=0;for(L=0;L<this.g.length;L++)for(let O=0;O<j.g.length;O++){const P=this.i(L)>>>16,S=this.i(L)&65535,xe=j.i(O)>>>16,Fe=j.i(O)&65535;R[2*L+2*O]+=S*Fe,T(R,2*L+2*O),R[2*L+2*O+1]+=P*Fe,T(R,2*L+2*O+1),R[2*L+2*O+1]+=S*xe,T(R,2*L+2*O+1),R[2*L+2*O+2]+=P*xe,T(R,2*L+2*O+2)}for(j=0;j<A;j++)R[j]=R[2*j+1]<<16|R[2*j];for(j=A;j<2*A;j++)R[j]=0;return new m(R,0)};function T(j,A){for(;(j[A]&65535)!=j[A];)j[A+1]+=j[A]>>>16,j[A]&=65535,A++}function I(j,A){this.g=j,this.h=A}function ae(j,A){if(Z(A))throw Error("division by zero");if(Z(j))return new I(N,N);if(z(j))return A=ae(D(j),A),new I(D(A.g),D(A.h));if(z(A))return A=ae(j,D(A)),new I(D(A.g),A.h);if(j.g.length>30){if(z(j)||z(A))throw Error("slowDivide_ only works with positive integers.");for(var R=k,L=A;L.l(j)<=0;)R=de(R),L=de(L);var O=ye(R,1),P=ye(L,1);for(L=ye(L,2),R=ye(R,2);!Z(L);){var S=P.add(L);S.l(j)<=0&&(O=O.add(R),P=S),L=ye(L,1),R=ye(R,1)}return A=$(j,O.j(A)),new I(O,A)}for(O=N;j.l(A)>=0;){for(R=Math.max(1,Math.floor(j.m()/A.m())),L=Math.ceil(Math.log(R)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),P=y(R),S=P.j(A);z(S)||S.l(j)>0;)R-=L,P=y(R),S=P.j(A);Z(P)&&(P=k),O=O.add(P),j=$(j,S)}return new I(O,j)}i.B=function(j){return ae(this,j).h},i.and=function(j){const A=Math.max(this.g.length,j.g.length),R=[];for(let L=0;L<A;L++)R[L]=this.i(L)&j.i(L);return new m(R,this.h&j.h)},i.or=function(j){const A=Math.max(this.g.length,j.g.length),R=[];for(let L=0;L<A;L++)R[L]=this.i(L)|j.i(L);return new m(R,this.h|j.h)},i.xor=function(j){const A=Math.max(this.g.length,j.g.length),R=[];for(let L=0;L<A;L++)R[L]=this.i(L)^j.i(L);return new m(R,this.h^j.h)};function de(j){const A=j.g.length+1,R=[];for(let L=0;L<A;L++)R[L]=j.i(L)<<1|j.i(L-1)>>>31;return new m(R,j.h)}function ye(j,A){const R=A>>5;A%=32;const L=j.g.length-R,O=[];for(let P=0;P<L;P++)O[P]=A>0?j.i(P+R)>>>A|j.i(P+R+1)<<32-A:j.i(P+R);return new m(O,j.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,$x=a,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.B,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=y,m.fromString=_,ea=m}).apply(typeof Qb<"u"?Qb:typeof self<"u"?self:typeof window<"u"?window:{});var Lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xx,So,Zx,Qu,bm,Jx,Wx,e_;(function(){var i,e=Object.defineProperty;function s(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lu=="object"&&Lu];for(var p=0;p<c.length;++p){var x=c[p];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var a=s(this);function o(c,p){if(p)e:{var x=a;c=c.split(".");for(var E=0;E<c.length-1;E++){var H=c[E];if(!(H in x))break e;x=x[H]}c=c[c.length-1],E=x[c],p=p(E),p!=E&&p!=null&&e(x,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var x=[],E;for(E in p)Object.prototype.hasOwnProperty.call(p,E)&&x.push([E,p[E]]);return x}});var u=u||{},m=this||self;function b(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,x){return c.call.apply(c.bind,arguments)}function y(c,p,x){return y=g,y.apply(null,arguments)}function _(c,p){var x=Array.prototype.slice.call(arguments,1);return function(){var E=x.slice();return E.push.apply(E,arguments),c.apply(this,E)}}function N(c,p){function x(){}x.prototype=p.prototype,c.Z=p.prototype,c.prototype=new x,c.prototype.constructor=c,c.Ob=function(E,H,Y){for(var ie=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)ie[Ae-2]=arguments[Ae];return p.prototype[H].apply(E,ie)}}var k=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function q(c){const p=c.length;if(p>0){const x=Array(p);for(let E=0;E<p;E++)x[E]=c[E];return x}return[]}function Z(c,p){for(let E=1;E<arguments.length;E++){const H=arguments[E];var x=typeof H;if(x=x!="object"?x:H?Array.isArray(H)?"array":x:"null",x=="array"||x=="object"&&typeof H.length=="number"){x=c.length||0;const Y=H.length||0;c.length=x+Y;for(let ie=0;ie<Y;ie++)c[x+ie]=H[ie]}else c.push(H)}}class z{constructor(p,x){this.i=p,this.j=x,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function D(c){m.setTimeout(()=>{throw c},0)}function $(){var c=j;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class T{constructor(){this.h=this.g=null}add(p,x){const E=I.get();E.set(p,x),this.h?this.h.next=E:this.g=E,this.h=E}}var I=new z(()=>new ae,c=>c.reset());class ae{constructor(){this.next=this.g=this.h=null}set(p,x){this.h=p,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ye=!1,j=new T,A=()=>{const c=Promise.resolve(void 0);de=()=>{c.then(R)}};function R(){for(var c;c=$();){try{c.h.call(c.g)}catch(x){D(x)}var p=I;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}ye=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const x=()=>{};m.addEventListener("test",x,p),m.removeEventListener("test",x,p)}catch{}return c})();function S(c){return/^[\s\xa0]*$/.test(c)}function xe(c,p){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}N(xe,O),xe.prototype.init=function(c,p){const x=this.type=c.type,E=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(x=="mouseover"?p=c.fromElement:x=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Fe="closure_listenable_"+(Math.random()*1e6|0),B=0;function se(c,p,x,E,H){this.listener=c,this.proxy=null,this.src=p,this.type=x,this.capture=!!E,this.ha=H,this.key=++B,this.da=this.fa=!1}function be(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Be(c,p,x){for(const E in c)p.call(x,c[E],E,c)}function Qe(c,p){for(const x in c)p.call(void 0,c[x],x,c)}function V(c){const p={};for(const x in c)p[x]=c[x];return p}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(c,p){let x,E;for(let H=1;H<arguments.length;H++){E=arguments[H];for(x in E)c[x]=E[x];for(let Y=0;Y<ee.length;Y++)x=ee[Y],Object.prototype.hasOwnProperty.call(E,x)&&(c[x]=E[x])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,p,x,E,H){const Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);const ie=Ce(c,p,E,H);return ie>-1?(p=c[ie],x||(p.fa=!1)):(p=new se(p,this.src,Y,!!E,H),p.fa=x,c.push(p)),p};function Te(c,p){const x=p.type;if(x in c.g){var E=c.g[x],H=Array.prototype.indexOf.call(E,p,void 0),Y;(Y=H>=0)&&Array.prototype.splice.call(E,H,1),Y&&(be(p),c.g[x].length==0&&(delete c.g[x],c.h--))}}function Ce(c,p,x,E){for(let H=0;H<c.length;++H){const Y=c[H];if(!Y.da&&Y.listener==p&&Y.capture==!!x&&Y.ha==E)return H}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Rt={};function lt(c,p,x,E,H){if(Array.isArray(p)){for(let Y=0;Y<p.length;Y++)lt(c,p[Y],x,E,H);return null}return x=_l(x),c&&c[Fe]?c.J(p,x,b(E)?!!E.capture:!1,H):da(c,p,x,!1,E,H)}function da(c,p,x,E,H,Y){if(!p)throw Error("Invalid event type");const ie=b(H)?!!H.capture:!!H;let Ae=ha(c);if(Ae||(c[Ue]=Ae=new ue(c)),x=Ae.add(p,x,E,ie,Y),x.proxy)return x;if(E=sr(),x.proxy=E,E.src=c,E.listener=x,c.addEventListener)P||(H=ie),H===void 0&&(H=!1),c.addEventListener(p.toString(),E,H);else if(c.attachEvent)c.attachEvent(ss(p.toString()),E);else if(c.addListener&&c.removeListener)c.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return x}function sr(){function c(x){return p.call(c.src,c.listener,x)}const p=vl;return c}function ir(c,p,x,E,H){if(Array.isArray(p))for(var Y=0;Y<p.length;Y++)ir(c,p[Y],x,E,H);else E=b(E)?!!E.capture:!!E,x=_l(x),c&&c[Fe]?(c=c.i,Y=String(p).toString(),Y in c.g&&(p=c.g[Y],x=Ce(p,x,E,H),x>-1&&(be(p[x]),Array.prototype.splice.call(p,x,1),p.length==0&&(delete c.g[Y],c.h--)))):c&&(c=ha(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Ce(p,x,E,H)),(x=c>-1?p[c]:null)&&ar(x))}function ar(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Fe])Te(p.i,c);else{var x=c.type,E=c.proxy;p.removeEventListener?p.removeEventListener(x,E,c.capture):p.detachEvent?p.detachEvent(ss(x),E):p.addListener&&p.removeListener&&p.removeListener(E),(x=ha(p))?(Te(x,c),x.h==0&&(x.src=null,p[Ue]=null)):be(c)}}}function ss(c){return c in Rt?Rt[c]:Rt[c]="on"+c}function vl(c,p){if(c.da)c=!0;else{p=new xe(p,this);const x=c.listener,E=c.ha||c.src;c.fa&&ar(c),c=x.call(E,p)}return c}function ha(c){return c=c[Ue],c instanceof ue?c:null}var xl="__closure_events_fn_"+(Math.random()*1e9>>>0);function _l(c){return typeof c=="function"?c:(c[xl]||(c[xl]=function(p){return c.handleEvent(p)}),c[xl])}function bt(){L.call(this),this.i=new ue(this),this.M=this,this.G=null}N(bt,L),bt.prototype[Fe]=!0,bt.prototype.removeEventListener=function(c,p,x,E){ir(this,c,p,x,E)};function It(c,p){var x,E=c.G;if(E)for(x=[];E;E=E.G)x.push(E);if(c=c.M,E=p.type||p,typeof p=="string")p=new O(p,c);else if(p instanceof O)p.target=p.target||c;else{var H=p;p=new O(E,c),re(p,H)}H=!0;let Y,ie;if(x)for(ie=x.length-1;ie>=0;ie--)Y=p.g=x[ie],H=ui(Y,E,!0,p)&&H;if(Y=p.g=c,H=ui(Y,E,!0,p)&&H,H=ui(Y,E,!1,p)&&H,x)for(ie=0;ie<x.length;ie++)Y=p.g=x[ie],H=ui(Y,E,!1,p)&&H}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const x=c.g[p];for(let E=0;E<x.length;E++)be(x[E]);delete c.g[p],c.h--}}this.G=null},bt.prototype.J=function(c,p,x,E){return this.i.add(String(c),p,!1,x,E)},bt.prototype.K=function(c,p,x,E){return this.i.add(String(c),p,!0,x,E)};function ui(c,p,x,E){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let H=!0;for(let Y=0;Y<p.length;++Y){const ie=p[Y];if(ie&&!ie.da&&ie.capture==x){const Ae=ie.listener,mt=ie.ha||ie.src;ie.fa&&Te(c.i,ie),H=Ae.call(mt,E)!==!1&&H}}return H&&!E.defaultPrevented}function Kd(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:m.setTimeout(c,p||0)}function oc(c){c.g=Kd(()=>{c.g=null,c.i&&(c.i=!1,oc(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class en extends L{constructor(p,x){super(),this.m=p,this.l=x,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:oc(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fa(c){L.call(this),this.h=c,this.g={}}N(fa,L);var wl=[];function Tl(c){Be(c.g,function(p,x){this.g.hasOwnProperty(x)&&ar(p)},c),c.g={}}fa.prototype.N=function(){fa.Z.N.call(this),Tl(this)},fa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var di=m.JSON.stringify,Yd=m.JSON.parse,cc=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function uc(){}function dc(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ut(){O.call(this,"d")}N(Ut,O);function Nn(){O.call(this,"c")}N(Nn,O);var ft={},hc=null;function rr(){return hc=hc||new bt}ft.Ia="serverreachability";function fc(c){O.call(this,ft.Ia,c)}N(fc,O);function is(c){const p=rr();It(p,new fc(p))}ft.STAT_EVENT="statevent";function ma(c,p){O.call(this,ft.STAT_EVENT,c),this.stat=p}N(ma,O);function vt(c){const p=rr();It(p,new ma(p,c))}ft.Ja="timingevent";function as(c,p){O.call(this,ft.Ja,c),this.size=p}N(as,O);function rs(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function Qd(c,p,x,E,H,Y){c.info(function(){if(c.g)if(Y){var ie="",Ae=Y.split("&");for(let Ge=0;Ge<Ae.length;Ge++){var mt=Ae[Ge].split("=");if(mt.length>1){const ot=mt[0];mt=mt[1];const Cn=ot.split("_");ie=Cn.length>=2&&Cn[1]=="type"?ie+(ot+"="+mt+"&"):ie+(ot+"=redacted&")}}}else ie=null;else ie=Y;return"XMLHTTP REQ ("+E+") [attempt "+H+"]: "+p+`
`+x+`
`+ie})}function mc(c,p,x,E,H,Y,ie){c.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+H+"]: "+p+`
`+x+`
`+Y+" "+ie})}function ls(c,p,x,E){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+$d(c,x)+(E?" "+E:"")})}function pa(c,p){c.info(function(){return"TIMEOUT: "+p})}qn.prototype.info=function(){};function $d(c,p){if(!c.g)return p;if(!p)return null;try{const Y=JSON.parse(p);if(Y){for(c=0;c<Y.length;c++)if(Array.isArray(Y[c])){var x=Y[c];if(!(x.length<2)){var E=x[1];if(Array.isArray(E)&&!(E.length<1)){var H=E[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ie=1;ie<E.length;ie++)E[ie]=""}}}}return di(Y)}catch{return p}}var ga={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},El={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Nl;function ya(){}N(ya,uc),ya.prototype.g=function(){return new XMLHttpRequest},Nl=new ya;function Os(c){return encodeURIComponent(String(c))}function pc(c){var p=1;c=c.split(":");const x=[];for(;p>0&&c.length;)x.push(c.shift()),p--;return c.length&&x.push(c.join(":")),x}function Hn(c,p,x,E){this.j=c,this.i=p,this.l=x,this.S=E||1,this.V=new fa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var xt={},Ot={};function os(c,p,x){c.M=1,c.A=ba(wt(p)),c.u=x,c.R=!0,lr(c,null)}function lr(c,p){c.F=Date.now(),cs(c),c.B=wt(c.A);var x=c.B,E=c.S;Array.isArray(E)||(E=[String(E)]),dr(x.i,"t",E),c.C=0,x=c.j.L,c.h=new Fn,c.g=jc(c.j,x?p:null,!c.u),c.P>0&&(c.O=new en(y(c.Y,c,c.g),c.P)),p=c.V,x=c.g,E=c.ba;var H="readystatechange";Array.isArray(H)||(H&&(wl[0]=H.toString()),H=wl);for(let Y=0;Y<H.length;Y++){const ie=lt(x,H[Y],E||p.handleEvent,!1,p.h||p);if(!ie)break;p.g[ie.key]=ie}p=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),is(),Qd(c.i,c.v,c.B,c.l,c.S,c.u)}Hn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Yn(c)==3?p.j():this.Y(c)},Hn.prototype.Y=function(c){try{if(c==this.g)e:{const Ae=Yn(this.g),mt=this.g.ya(),Ge=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||Pt(this.g)))){this.K||Ae!=4||mt==7||(mt==8||Ge<=0?is(3):is(2)),us(this);var p=this.g.ca();this.X=p;var x=Xd(this);if(this.o=p==200,mc(this.i,this.v,this.B,this.l,this.S,Ae,p),this.o){if(this.U&&!this.L){t:{if(this.g){var E,H=this.g;if((E=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(E)){var Y=E;break t}}Y=null}if(c=Y)ls(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ds(this,c);else{this.o=!1,this.m=3,vt(12),mn(this),Sn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<x.length;)if(ot=yc(this,x),ot==Ot){Ae==4&&(this.m=4,vt(14),c=!1),ls(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==xt){this.m=4,vt(15),ls(this.i,this.l,x,"[Invalid Chunk]"),c=!1;break}else ls(this.i,this.l,ot,null),ds(this,ot);if(gc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||x.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)ls(this.i,this.l,x,"[Invalid Chunked Response]"),mn(this),Sn(this);else if(x.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Pl(ie),ie.P=!0,vt(11))}}else ls(this.i,this.l,x,null),ds(this,x);Ae==4&&mn(this),this.o&&!this.K&&(Ae==4?Sc(this.j,this):(this.o=!1,cs(this)))}else zs(this.g),p==400&&x.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),mn(this),Sn(this)}}}catch{}finally{}};function Xd(c){if(!gc(c))return c.g.la();const p=Pt(c.g);if(p==="")return"";let x="";const E=p.length,H=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),Sn(c),"";c.h.i=new m.TextDecoder}for(let Y=0;Y<E;Y++)c.h.h=!0,x+=c.h.i.decode(p[Y],{stream:!(H&&Y==E-1)});return p.length=0,c.h.g+=x,c.C=0,c.h.g}function gc(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function yc(c,p){var x=c.C,E=p.indexOf(`
`,x);return E==-1?Ot:(x=Number(p.substring(x,E)),isNaN(x)?xt:(E+=1,E+x>p.length?Ot:(p=p.slice(E,E+x),c.C=E+x,p)))}Hn.prototype.cancel=function(){this.K=!0,mn(this)};function cs(c){c.T=Date.now()+c.H,or(c,c.H)}function or(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=rs(y(c.aa,c),p)}function us(c){c.D&&(m.clearTimeout(c.D),c.D=null)}Hn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(pa(this.i,this.B),this.M!=2&&(is(),vt(17)),mn(this),this.m=2,Sn(this)):or(this,this.T-c)};function Sn(c){c.j.I==0||c.K||Sc(c.j,c)}function mn(c){us(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Tl(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function ds(c,p){try{var x=c.j;if(x.I!=0&&(x.g==c||fs(x.h,c))){if(!c.L&&fs(x.h,c)&&x.I==3){try{var E=x.Ba.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var H=E;if(H[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<c.F)gr(x),vi(x);else break e;Na(x),vt(18)}}else x.xa=H[1],0<x.xa-x.K&&H[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=rs(y(x.Va,x),6e3));hs(x.h)<=1&&x.ta&&(x.ta=void 0)}else vs(x,11)}else if((c.L||x.g==c)&&gr(x),!S(p))for(H=x.Ba.g.parse(p),p=0;p<H.length;p++){let Ge=H[p];const ot=Ge[0];if(!(ot<=x.K))if(x.K=ot,Ge=Ge[1],x.I==2)if(Ge[0]=="c"){x.M=Ge[1],x.ba=Ge[2];const Cn=Ge[3];Cn!=null&&(x.ka=Cn,x.j.info("VER="+x.ka));const xs=Ge[4];xs!=null&&(x.za=xs,x.j.info("SVER="+x.za));const Qn=Ge[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(E=1.5*Qn,x.O=E,x.j.info("backChannelRequestTimeoutMs_="+E)),E=x;const $n=c.g;if($n){const Sa=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sa){var Y=E.h;Y.g||Sa.indexOf("spdy")==-1&&Sa.indexOf("quic")==-1&&Sa.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(kl(Y,Y.h),Y.h=null))}if(E.G){const yr=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;yr&&(E.wa=yr,$e(E.J,E.G,yr))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-c.F,x.j.info("Handshake RTT: "+x.T+"ms")),E=x;var ie=c;if(E.na=Cc(E,E.L?E.ba:null,E.W),ie.L){Cl(E.h,ie);var Ae=ie,mt=E.O;mt&&(Ae.H=mt),Ae.D&&(us(Ae),cs(Ae)),E.g=ie}else Ec(E);x.i.length>0&&bs(x)}else Ge[0]!="stop"&&Ge[0]!="close"||vs(x,7);else x.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?vs(x,7):Ll(x):Ge[0]!="noop"&&x.l&&x.l.qa(Ge),x.A=0)}}is(4)}catch{}}var _t=class{constructor(c,p){this.g=c,this.map=p}};function Sl(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Al(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function hs(c){return c.h?1:c.g?c.g.size:0}function fs(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function kl(c,p){c.g?c.g.add(p):c.h=p}function Cl(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Sl.prototype.cancel=function(){if(this.i=jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function jl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const x of c.g.values())p=p.concat(x.G);return p}return q(c.i)}var bc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cr(c,p){if(c){c=c.split("&");for(let x=0;x<c.length;x++){const E=c[x].indexOf("=");let H,Y=null;E>=0?(H=c[x].substring(0,E),Y=c[x].substring(E+1)):H=c[x],p(H,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function pn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof pn?(this.l=c.l,Vt(this,c.j),this.o=c.o,this.g=c.g,hi(this,c.u),this.h=c.h,Rl(this,wc(c.i)),this.m=c.m):c&&(p=String(c).match(bc))?(this.l=!1,Vt(this,p[1]||"",!0),this.o=ms(p[2]||""),this.g=ms(p[3]||"",!0),hi(this,p[4]),this.h=ms(p[5]||"",!0),Rl(this,p[6]||"",!0),this.m=ms(p[7]||"")):(this.l=!1,this.i=new mi(null,this.l))}pn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(va(p,ur,!0),":");var x=this.g;return(x||p=="file")&&(c.push("//"),(p=this.o)&&c.push(va(p,ur,!0),"@"),c.push(Os(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&c.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&c.push("/"),c.push(va(x,x.charAt(0)=="/"?Il:vc,!0))),(x=this.i.toString())&&c.push("?",x),(x=this.m)&&c.push("#",va(x,xc)),c.join("")},pn.prototype.resolve=function(c){const p=wt(this);let x=!!c.j;x?Vt(p,c.j):x=!!c.o,x?p.o=c.o:x=!!c.g,x?p.g=c.g:x=c.u!=null;var E=c.h;if(x)hi(p,c.u);else if(x=!!c.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var H=p.h.lastIndexOf("/");H!=-1&&(E=p.h.slice(0,H+1)+E)}if(H=E,H==".."||H==".")E="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){E=H.lastIndexOf("/",0)==0,H=H.split("/");const Y=[];for(let ie=0;ie<H.length;){const Ae=H[ie++];Ae=="."?E&&ie==H.length&&Y.push(""):Ae==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),E&&ie==H.length&&Y.push("")):(Y.push(Ae),E=!0)}E=Y.join("/")}else E=H}return x?p.h=E:x=c.i.toString()!=="",x?Rl(p,wc(c.i)):x=!!c.m,x&&(p.m=c.m),p};function wt(c){return new pn(c)}function Vt(c,p,x){c.j=x?ms(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function hi(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Rl(c,p,x){p instanceof mi?(c.i=p,hr(c.i,c.l)):(x||(p=va(p,fi)),c.i=new mi(p,c.l))}function $e(c,p,x){c.i.set(p,x)}function ba(c){return $e(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ms(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function va(c,p,x){return typeof c=="string"?(c=encodeURI(c).replace(p,an),x&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ur=/[#\/\?@]/g,vc=/[#\?:]/g,Il=/[#\?]/g,fi=/[#\?@]/g,xc=/#/g;function mi(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function rn(c){c.g||(c.g=new Map,c.h=0,c.i&&cr(c.i,function(p,x){c.add(decodeURIComponent(p.replace(/\+/g," ")),x)}))}i=mi.prototype,i.add=function(c,p){rn(this),this.i=null,c=pi(this,c);let x=this.g.get(c);return x||this.g.set(c,x=[]),x.push(p),this.h+=1,this};function _c(c,p){rn(c),p=pi(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Dl(c,p){return rn(c),p=pi(c,p),c.g.has(p)}i.forEach=function(c,p){rn(this),this.g.forEach(function(x,E){x.forEach(function(H){c.call(p,H,E,this)},this)},this)};function Ml(c,p){rn(c);let x=[];if(typeof p=="string")Dl(c,p)&&(x=x.concat(c.g.get(pi(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)x=x.concat(c[p]);return x}i.set=function(c,p){return rn(this),this.i=null,c=pi(this,c),Dl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},i.get=function(c,p){return c?(c=Ml(this,c),c.length>0?String(c[0]):p):p};function dr(c,p,x){_c(c,p),x.length>0&&(c.i=null,c.g.set(pi(c,p),q(x)),c.h+=x.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let E=0;E<p.length;E++){var x=p[E];const H=Os(x);x=Ml(this,x);for(let Y=0;Y<x.length;Y++){let ie=H;x[Y]!==""&&(ie+="="+Os(x[Y])),c.push(ie)}}return this.i=c.join("&")};function wc(c){const p=new mi;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function pi(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function hr(c,p){p&&!c.j&&(rn(c),c.i=null,c.g.forEach(function(x,E){const H=E.toLowerCase();E!=H&&(_c(this,E),dr(this,H,x))},c)),c.j=p}function Gn(c,p){const x=new qn;if(m.Image){const E=new Image;E.onload=_(An,x,"TestLoadImage: loaded",!0,p,E),E.onerror=_(An,x,"TestLoadImage: error",!1,p,E),E.onabort=_(An,x,"TestLoadImage: abort",!1,p,E),E.ontimeout=_(An,x,"TestLoadImage: timeout",!1,p,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=c}else p(!1)}function Ol(c,p){const x=new qn,E=new AbortController,H=setTimeout(()=>{E.abort(),An(x,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:E.signal}).then(Y=>{clearTimeout(H),Y.ok?An(x,"TestPingServer: ok",!0,p):An(x,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(H),An(x,"TestPingServer: error",!1,p)})}function An(c,p,x,E,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),E(x)}catch{}}function gi(){this.g=new cc}function ps(c){this.i=c.Sb||null,this.h=c.ab||!1}N(ps,uc),ps.prototype.g=function(){return new xa(this.i,this.h)};function xa(c,p){bt.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}N(xa,bt),i=xa.prototype,i.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Kn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||m).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yi(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fr(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function fr(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?yi(this):Kn(this),this.readyState==3&&fr(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,yi(this))},i.Na=function(c){this.g&&(this.response=c,yi(this))},i.ga=function(){this.g&&yi(this)};function yi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Kn(c)}i.setRequestHeader=function(c,p){this.A.append(c,p)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var x=p.next();!x.done;)x=x.value,c.push(x[0]+": "+x[1]),x=p.next();return c.join(`\r
`)};function Kn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function kn(c){let p="";return Be(c,function(x,E){p+=E,p+=":",p+=x,p+=`\r
`}),p}function _a(c,p,x){e:{for(E in x){var E=!1;break e}E=!0}E||(x=kn(x),typeof c=="string"?x!=null&&Os(x):$e(c,p,x))}function Je(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}N(Je,bt);var gs=/^https?$/i,Vl=["POST","PUT"];i=Je.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,p,x,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Nl.g(),this.g.onreadystatechange=k(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(Y){wa(this,Y);return}if(c=x||"",x=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var H in E)x.set(H,E[H]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const Y of E.keys())x.set(Y,E.get(Y));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(x.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=m.FormData&&c instanceof m.FormData,!(Array.prototype.indexOf.call(Vl,p,void 0)>=0)||E||H||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ie]of x)this.g.setRequestHeader(Y,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Y){wa(this,Y)}};function wa(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,zl(c),Vs(c)}function zl(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,It(this,"complete"),It(this,"abort"),Vs(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vs(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ta(this):this.Xa())},i.Xa=function(){Ta(this)};function Ta(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(It(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const Y=c.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var x;if(!(x=p)){var E;if(E=Y===0){let ie=String(c.D).match(bc)[1]||null;!ie&&m.self&&m.self.location&&(ie=m.self.location.protocol.slice(0,-1)),E=!gs.test(ie?ie.toLowerCase():"")}x=E}if(x)It(c,"complete"),It(c,"success");else{c.o=6;try{var H=Yn(c)>2?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.ca()+"]",zl(c)}}finally{Vs(c)}}}}function Vs(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const x=c.g;c.g=null,p||It(c,"ready");try{x.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Yd(p)}};function Pt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zs(c){const p={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<c.length;E++){if(S(c[E]))continue;var x=pc(c[E]);const H=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const Y=p[H]||[];p[H]=Y,Y.push(x)}Qe(p,function(E){return E.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ys(c,p,x){return x&&x.internalChannelParams&&x.internalChannelParams[c]||p}function bi(c){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ys("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ys("baseRetryDelayMs",5e3,c),this.Za=ys("retryDelaySeedMs",1e4,c),this.Ta=ys("forwardChannelMaxRetries",2,c),this.va=ys("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Sl(c&&c.concurrentRequestLimit),this.Ba=new gi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=bi.prototype,i.ka=8,i.I=1,i.connect=function(c,p,x,E){vt(0),this.W=c,this.H=p||{},x&&E!==void 0&&(this.H.OSID=x,this.H.OAID=E),this.F=this.X,this.J=Cc(this,null,this.W),bs(this)};function Ll(c){if(mr(c),c.I==3){var p=c.V++,x=wt(c.J);if($e(x,"SID",c.M),$e(x,"RID",p),$e(x,"TYPE","terminate"),Ea(c,x),p=new Hn(c,c.j,p),p.M=2,p.A=ba(wt(x)),x=!1,m.navigator&&m.navigator.sendBeacon)try{x=m.navigator.sendBeacon(p.A.toString(),"")}catch{}!x&&m.Image&&(new Image().src=p.A,x=!0),x||(p.g=jc(p.j,null),p.g.ea(p.A)),p.F=Date.now(),cs(p)}kc(c)}function vi(c){c.g&&(Pl(c),c.g.cancel(),c.g=null)}function mr(c){vi(c),c.v&&(m.clearTimeout(c.v),c.v=null),gr(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&m.clearTimeout(c.m),c.m=null)}function bs(c){if(!Al(c.h)&&!c.m){c.m=!0;var p=c.Ea;de||A(),ye||(de(),ye=!0),j.add(p,c),c.D=0}}function pr(c,p){return hs(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=rs(y(c.Ea,c,p),Ac(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const H=new Hn(this,this.j,c);let Y=this.o;if(this.U&&(Y?(Y=V(Y),re(Y,this.U)):Y=this.U),this.u!==null||this.R||(H.J=Y,Y=null),this.S)e:{for(var p=0,x=0;x<this.i.length;x++){t:{var E=this.i[x];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,p>4096){p=x;break e}if(p===4096||x===this.i.length-1){p=x+1;break e}}p=1e3}else p=1e3;p=Tc(this,H,p),x=wt(this.J),$e(x,"RID",c),$e(x,"CVER",22),this.G&&$e(x,"X-HTTP-Session-Id",this.G),Ea(this,x),Y&&(this.R?p="headers="+Os(kn(Y))+"&"+p:this.u&&_a(x,this.u,Y)),kl(this.h,H),this.Ra&&$e(x,"TYPE","init"),this.S?($e(x,"$req",p),$e(x,"SID","null"),H.U=!0,os(H,x,null)):os(H,x,p),this.I=2}}else this.I==3&&(c?Ul(this,c):this.i.length==0||Al(this.h)||Ul(this))};function Ul(c,p){var x;p?x=p.l:x=c.V++;const E=wt(c.J);$e(E,"SID",c.M),$e(E,"RID",x),$e(E,"AID",c.K),Ea(c,E),c.u&&c.o&&_a(E,c.u,c.o),x=new Hn(c,c.j,x,c.D+1),c.u===null&&(x.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Tc(c,x,1e3),x.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),kl(c.h,x),os(x,E,p)}function Ea(c,p){c.H&&Be(c.H,function(x,E){$e(p,E,x)}),c.l&&Be({},function(x,E){$e(p,E,x)})}function Tc(c,p,x){x=Math.min(c.i.length,x);const E=c.l?y(c.l.Ka,c.l,c):null;e:{var H=c.i;let Ae=-1;for(;;){const mt=["count="+x];Ae==-1?x>0?(Ae=H[0].g,mt.push("ofs="+Ae)):Ae=0:mt.push("ofs="+Ae);let Ge=!0;for(let ot=0;ot<x;ot++){var Y=H[ot].g;const Cn=H[ot].map;if(Y-=Ae,Y<0)Ae=Math.max(0,H[ot].g-100),Ge=!1;else try{Y="req"+Y+"_"||"";try{var ie=Cn instanceof Map?Cn:Object.entries(Cn);for(const[xs,Qn]of ie){let $n=Qn;b(Qn)&&($n=di(Qn)),mt.push(Y+xs+"="+encodeURIComponent($n))}}catch(xs){throw mt.push(Y+"type="+encodeURIComponent("_badmap")),xs}}catch{E&&E(Cn)}}if(Ge){ie=mt.join("&");break e}}ie=void 0}return c=c.i.splice(0,x),p.G=c,ie}function Ec(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;de||A(),ye||(de(),ye=!0),j.add(p,c),c.A=0}}function Na(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=rs(y(c.Da,c),Ac(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Nc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=rs(y(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),vi(this),Nc(this))};function Pl(c){c.B!=null&&(m.clearTimeout(c.B),c.B=null)}function Nc(c){c.g=new Hn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=wt(c.na);$e(p,"RID","rpc"),$e(p,"SID",c.M),$e(p,"AID",c.K),$e(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&$e(p,"TO",c.ia),$e(p,"TYPE","xmlhttp"),Ea(c,p),c.u&&c.o&&_a(p,c.u,c.o),c.O&&(c.g.H=c.O);var x=c.g;c=c.ba,x.M=1,x.A=ba(wt(p)),x.u=null,x.R=!0,lr(x,c)}i.Va=function(){this.C!=null&&(this.C=null,vi(this),Na(this),vt(19))};function gr(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Sc(c,p){var x=null;if(c.g==p){gr(c),Pl(c),c.g=null;var E=2}else if(fs(c.h,p))x=p.G,Cl(c.h,p),E=1;else return;if(c.I!=0){if(p.o)if(E==1){x=p.u?p.u.length:0,p=Date.now()-p.F;var H=c.D;E=rr(),It(E,new as(E,x)),bs(c)}else Ec(c);else if(H=p.m,H==3||H==0&&p.X>0||!(E==1&&pr(c,p)||E==2&&Na(c)))switch(x&&x.length>0&&(p=c.h,p.i=p.i.concat(x)),H){case 1:vs(c,5);break;case 4:vs(c,10);break;case 3:vs(c,6);break;default:vs(c,2)}}}function Ac(c,p){let x=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(x*=2),x*p}function vs(c,p){if(c.j.info("Error code "+p),p==2){var x=y(c.bb,c),E=c.Ua;const H=!E;E=new pn(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Vt(E,"https"),ba(E),H?Gn(E.toString(),x):Ol(E.toString(),x)}else vt(2);c.I=0,c.l&&c.l.pa(p),kc(c),mr(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function kc(c){if(c.I=0,c.ja=[],c.l){const p=jl(c.h);(p.length!=0||c.i.length!=0)&&(Z(c.ja,p),Z(c.ja,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.oa()}}function Cc(c,p,x){var E=x instanceof pn?wt(x):new pn(x);if(E.g!="")p&&(E.g=p+"."+E.g),hi(E,E.u);else{var H=m.location;E=H.protocol,p=p?p+"."+H.hostname:H.hostname,H=+H.port;const Y=new pn(null);E&&Vt(Y,E),p&&(Y.g=p),H&&hi(Y,H),x&&(Y.h=x),E=Y}return x=c.G,p=c.wa,x&&p&&$e(E,x,p),$e(E,"VER",c.ka),Ea(c,E),E}function jc(c,p,x){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Je(new ps({ab:x})):new Je(c.ma),p.Fa(c.L),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rc(){}i=Rc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function xi(){}xi.prototype.g=function(c,p){return new tn(c,p)};function tn(c,p){bt.call(this),this.g=new bi(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!S(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!S(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Ls(this)}N(tn,bt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Ll(this.g)},tn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var x={};x.__data__=c,c=x}else this.v&&(x={},x.__data__=di(c),c=x);p.i.push(new _t(p.Ya++,c)),p.I==3&&bs(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,Ll(this.g),delete this.g,tn.Z.N.call(this)};function Ic(c){Ut.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const x in p){c=x;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}N(Ic,Ut);function Dc(){Nn.call(this),this.status=1}N(Dc,Nn);function Ls(c){this.g=c}N(Ls,Rc),Ls.prototype.ra=function(){It(this.g,"a")},Ls.prototype.qa=function(c){It(this.g,new Ic(c))},Ls.prototype.pa=function(c){It(this.g,new Dc)},Ls.prototype.oa=function(){It(this.g,"b")},xi.prototype.createWebChannel=xi.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,e_=function(){return new xi},Wx=function(){return rr()},Jx=ft,bm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ga.NO_ERROR=0,ga.TIMEOUT=8,ga.HTTP_ERROR=6,Qu=ga,El.COMPLETE="complete",Zx=El,dc.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,So=dc,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,Xx=Je}).apply(typeof Lu<"u"?Lu:typeof self<"u"?self:typeof window<"u"?window:{});const $b="@firebase/firestore",Xb="4.9.2";let Zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let pl="12.3.0";const Za=new Hm("@firebase/firestore");function $r(){return Za.logLevel}function ce(i,...e){if(Za.logLevel<=Oe.DEBUG){const s=e.map(ep);Za.debug(`Firestore (${pl}): ${i}`,...s)}}function li(i,...e){if(Za.logLevel<=Oe.ERROR){const s=e.map(ep);Za.error(`Firestore (${pl}): ${i}`,...s)}}function rl(i,...e){if(Za.logLevel<=Oe.WARN){const s=e.map(ep);Za.warn(`Firestore (${pl}): ${i}`,...s)}}function ep(i){if(typeof i=="string")return i;try{return(function(s){return JSON.stringify(s)})(i)}catch{return i}}function _e(i,e,s){let a="Unexpected state";typeof e=="string"?a=e:s=e,t_(i,a,s)}function t_(i,e,s){let a=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(s!==void 0)try{a+=" CONTEXT: "+JSON.stringify(s)}catch{a+=" CONTEXT: "+s}throw li(a),new Error(a)}function Ye(i,e,s,a){let o="Unexpected state";typeof s=="string"?o=s:a=s,i||t_(e,o,a)}function Se(i,e){return i}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends ci{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ta{constructor(){this.promise=new Promise(((e,s)=>{this.resolve=e,this.reject=s}))}}class n_{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable((()=>s(Zt.UNAUTHENTICATED)))}shutdown(){}}class mS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class pS{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){Ye(this.o===void 0,42304);let a=this.i;const o=g=>this.i!==a?(a=this.i,s(g)):Promise.resolve();let u=new ta;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ta,e.enqueueRetryable((()=>o(this.currentUser)))};const m=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},b=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((g=>b(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?b(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ta)}}),0),m()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((a=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ye(typeof a.accessToken=="string",31837,{l:a}),new n_(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class gS{constructor(e,s,a){this.P=e,this.T=s,this.I=a,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yS{constructor(e,s,a){this.P=e,this.T=s,this.I=a}getToken(){return Promise.resolve(new gS(this.P,this.T,this.I))}start(e,s){e.enqueueRetryable((()=>s(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Zb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bS{constructor(e,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,s){Ye(this.o===void 0,3512);const a=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const m=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?s(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Zb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((s=>s?(Ye(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new Zb(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vS(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let a=0;a<i;a++)s[a]=Math.floor(256*Math.random());return s}class tp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=vS(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<s&&(a+=e.charAt(o[u]%62))}return a}}function Ve(i,e){return i<e?-1:i>e?1:0}function vm(i,e){const s=Math.min(i.length,e.length);for(let a=0;a<s;a++){const o=i.charAt(a),u=e.charAt(a);if(o!==u)return im(o)===im(u)?Ve(o,u):im(o)?1:-1}return Ve(i.length,e.length)}const xS=55296,_S=57343;function im(i){const e=i.charCodeAt(0);return e>=xS&&e<=_S}function ll(i,e,s){return i.length===e.length&&i.every(((a,o)=>s(a,e[o])))}const Jb="__name__";class Ns{constructor(e,s,a){s===void 0?s=0:s>e.length&&_e(637,{offset:s,range:e.length}),a===void 0?a=e.length-s:a>e.length-s&&_e(1746,{length:a,range:e.length-s}),this.segments=e,this.offset=s,this.len=a}get length(){return this.len}isEqual(e){return Ns.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof Ns?e.forEach((a=>{s.push(a)})):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,a=this.limit();s<a;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const a=Math.min(e.length,s.length);for(let o=0;o<a;o++){const u=Ns.compareSegments(e.get(o),s.get(o));if(u!==0)return u}return Ve(e.length,s.length)}static compareSegments(e,s){const a=Ns.isNumericId(e),o=Ns.isNumericId(s);return a&&!o?-1:!a&&o?1:a&&o?Ns.extractNumericId(e).compare(Ns.extractNumericId(s)):vm(e,s)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ea.fromString(e.substring(4,e.length-2))}}class st extends Ns{construct(e,s,a){return new st(e,s,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const a of e){if(a.indexOf("//")>=0)throw new oe(te.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);s.push(...a.split("/").filter((o=>o.length>0)))}return new st(s)}static emptyPath(){return new st([])}}const wS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ns{construct(e,s,a){return new Kt(e,s,a)}static isValidIdentifier(e){return wS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jb}static keyField(){return new Kt([Jb])}static fromServerFormat(e){const s=[];let a="",o=0;const u=()=>{if(a.length===0)throw new oe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(a),a=""};let m=!1;for(;o<e.length;){const b=e[o];if(b==="\\"){if(o+1===e.length)throw new oe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new oe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else b==="`"?(m=!m,o++):b!=="."||m?(a+=b,o++):(u(),o++)}if(u(),m)throw new oe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(s)}static emptyPath(){return new Kt([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(st.fromString(e))}static fromName(e){return new ge(st.fromString(e).popFirst(5))}static empty(){return new ge(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return st.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new st(e.slice()))}}function s_(i,e,s){if(!s)throw new oe(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function TS(i,e,s,a){if(e===!0&&a===!0)throw new oe(te.INVALID_ARGUMENT,`${i} and ${s} cannot be used together.`)}function Wb(i){if(!ge.isDocumentKey(i))throw new oe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ev(i){if(ge.isDocumentKey(i))throw new oe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function i_(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Ed(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":_e(12329,{type:typeof i})}function ks(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new oe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Ed(i);throw new oe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return i}function Ct(i,e){const s={typeString:i};return e&&(s.value=e),s}function Wo(i,e){if(!i_(i))throw new oe(te.INVALID_ARGUMENT,"JSON must be an object");let s;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in i)){s=`JSON missing required field: '${a}'`;break}const m=i[a];if(o&&typeof m!==o){s=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&m!==u.value){s=`Expected '${a}' field to equal '${u.value}'`;break}}if(s)throw new oe(te.INVALID_ARGUMENT,s);return!0}const tv=-62135596800,nv=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),a=Math.floor((e-1e3*s)*nv);return new rt(s,a)}constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new oe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new oe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<tv)throw new oe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nv}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wo(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Ct("string",rt._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new rt(0,0))}static max(){return new Ee(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Uo=-1;function ES(i,e){const s=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(a===1e9?new rt(s+1,0):new rt(s,a));return new sa(o,ge.empty(),e)}function NS(i){return new sa(i.readTime,i.key,Uo)}class sa{constructor(e,s,a){this.readTime=e,this.documentKey=s,this.largestBatchId=a}static min(){return new sa(Ee.min(),ge.empty(),Uo)}static max(){return new sa(Ee.max(),ge.empty(),Uo)}}function SS(i,e){let s=i.readTime.compareTo(e.readTime);return s!==0?s:(s=ge.comparator(i.documentKey,e.documentKey),s!==0?s:Ve(i.largestBatchId,e.largestBatchId))}const AS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function gl(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==AS)throw i;ce("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new ne(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(s,u).next(a,o)}}))}toPromise(){return new Promise(((e,s)=>{this.next(e,s)}))}wrapUserFunction(e){try{const s=e();return s instanceof ne?s:ne.resolve(s)}catch(s){return ne.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction((()=>e(s))):ne.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction((()=>e(s))):ne.reject(s)}static resolve(e){return new ne(((s,a)=>{s(e)}))}static reject(e){return new ne(((s,a)=>{a(e)}))}static waitFor(e){return new ne(((s,a)=>{let o=0,u=0,m=!1;e.forEach((b=>{++o,b.next((()=>{++u,m&&u===o&&s()}),(g=>a(g)))})),m=!0,u===o&&s()}))}static or(e){let s=ne.resolve(!1);for(const a of e)s=s.next((o=>o?ne.resolve(o):a()));return s}static forEach(e,s){const a=[];return e.forEach(((o,u)=>{a.push(s.call(this,o,u))})),this.waitFor(a)}static mapArray(e,s){return new ne(((a,o)=>{const u=e.length,m=new Array(u);let b=0;for(let g=0;g<u;g++){const y=g;s(e[y]).next((_=>{m[y]=_,++b,b===u&&a(m)}),(_=>o(_)))}}))}static doWhile(e,s){return new ne(((a,o)=>{const u=()=>{e()===!0?s().next((()=>{u()}),o):a()};u()}))}}function CS(i){const e=i.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function yl(i){return i.name==="IndexedDbTransactionError"}class Nd{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>s.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nd.ce=-1;const np=-1;function Sd(i){return i==null}function od(i){return i===0&&1/i==-1/0}function jS(i){return typeof i=="number"&&Number.isInteger(i)&&!od(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const a_="";function RS(i){let e="";for(let s=0;s<i.length;s++)e.length>0&&(e=sv(e)),e=IS(i.get(s),e);return sv(e)}function IS(i,e){let s=e;const a=i.length;for(let o=0;o<a;o++){const u=i.charAt(o);switch(u){case"\0":s+="";break;case a_:s+="";break;default:s+=u}}return s}function sv(i){return i+a_+""}function iv(i){let e=0;for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e++;return e}function ca(i,e){for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e(s,i[s])}function r_(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ut{constructor(e,s){this.comparator=e,this.root=s||Gt.EMPTY}insert(e,s){return new ut(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return s.value;a<0?s=s.left:a>0&&(s=s.right)}return null}indexOf(e){let s=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return s+a.left.size;o<0?a=a.left:(s+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((s,a)=>(e(s,a),!1)))}toString(){const e=[];return this.inorderTraversal(((s,a)=>(e.push(`${s}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uu(this.root,e,this.comparator,!0)}}class Uu{constructor(e,s,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=s?a(e.key,s):1,s&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,s,a,o,u){this.key=e,this.value=s,this.color=a??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,a,o,u){return new Gt(e??this.key,s??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,s,a),null):u===0?o.copy(null,s,null,null,null):o.copy(null,null,null,null,o.right.insert(e,s,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let a,o=this;if(s(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,s),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),s(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,s))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,s,a,o,u){return this}insert(e,s,a){return new Gt(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((s,a)=>(e(s),!1)))}forEachInRange(e,s){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;s(o.key)}}forEachWhile(e,s){let a;for(a=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new av(this.data.getIterator())}getIteratorFrom(e){return new av(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach((a=>{s=s.add(a)})),s}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const s=this.data.getIterator(),a=e.data.getIterator();for(;s.hasNext();){const o=s.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((s=>{e.push(s)})),e}toString(){const e=[];return this.forEach((s=>e.push(s))),"SortedSet("+e.toString()+")"}copy(e){const s=new Mt(this.comparator);return s.data=e,s}}class av{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class En{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new En([])}unionWith(e){let s=new Mt(Kt.comparator);for(const a of this.fields)s=s.add(a);for(const a of e)s=s.add(a);return new En(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,((s,a)=>s.isEqual(a)))}}class l_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const s=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new l_("Invalid base64 string: "+u):u}})(e);return new Qt(s)}static fromUint8Array(e){const s=(function(o){let u="";for(let m=0;m<o.length;++m)u+=String.fromCharCode(o[m]);return u})(e);return new Qt(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const a=new Uint8Array(s.length);for(let o=0;o<s.length;o++)a[o]=s.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const DS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ia(i){if(Ye(!!i,39018),typeof i=="string"){let e=0;const s=DS.exec(i);if(Ye(!!s,46558,{timestamp:i}),s[1]){let o=s[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:yt(i.seconds),nanos:yt(i.nanos)}}function yt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function aa(i){return typeof i=="string"?Qt.fromBase64String(i):Qt.fromUint8Array(i)}const o_="server_timestamp",c_="__type__",u_="__previous_value__",d_="__local_write_time__";function sp(i){return(i?.mapValue?.fields||{})[c_]?.stringValue===o_}function Ad(i){const e=i.mapValue.fields[u_];return sp(e)?Ad(e):e}function Po(i){const e=ia(i.mapValue.fields[d_].timestampValue);return new rt(e.seconds,e.nanos)}class MS{constructor(e,s,a,o,u,m,b,g,y,_){this.databaseId=e,this.appId=s,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=m,this.autoDetectLongPolling=b,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=_}}const cd="(default)";class Bo{constructor(e,s){this.projectId=e,this.database=s||cd}static empty(){return new Bo("","")}get isDefaultDatabase(){return this.database===cd}isEqual(e){return e instanceof Bo&&e.projectId===this.projectId&&e.database===this.database}}const h_="__type__",OS="__max__",Pu={mapValue:{}},f_="__vector__",ud="value";function ra(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?sp(i)?4:zS(i)?9007199254740991:VS(i)?10:11:_e(28295,{value:i})}function Ds(i,e){if(i===e)return!0;const s=ra(i);if(s!==ra(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Po(i).isEqual(Po(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const m=ia(o.timestampValue),b=ia(u.timestampValue);return m.seconds===b.seconds&&m.nanos===b.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return aa(o.bytesValue).isEqual(aa(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const m=yt(o.doubleValue),b=yt(u.doubleValue);return m===b?od(m)===od(b):isNaN(m)&&isNaN(b)}return!1})(i,e);case 9:return ll(i.arrayValue.values||[],e.arrayValue.values||[],Ds);case 10:case 11:return(function(o,u){const m=o.mapValue.fields||{},b=u.mapValue.fields||{};if(iv(m)!==iv(b))return!1;for(const g in m)if(m.hasOwnProperty(g)&&(b[g]===void 0||!Ds(m[g],b[g])))return!1;return!0})(i,e);default:return _e(52216,{left:i})}}function qo(i,e){return(i.values||[]).find((s=>Ds(s,e)))!==void 0}function ol(i,e){if(i===e)return 0;const s=ra(i),a=ra(e);if(s!==a)return Ve(s,a);switch(s){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return(function(u,m){const b=yt(u.integerValue||u.doubleValue),g=yt(m.integerValue||m.doubleValue);return b<g?-1:b>g?1:b===g?0:isNaN(b)?isNaN(g)?0:-1:1})(i,e);case 3:return rv(i.timestampValue,e.timestampValue);case 4:return rv(Po(i),Po(e));case 5:return vm(i.stringValue,e.stringValue);case 6:return(function(u,m){const b=aa(u),g=aa(m);return b.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,m){const b=u.split("/"),g=m.split("/");for(let y=0;y<b.length&&y<g.length;y++){const _=Ve(b[y],g[y]);if(_!==0)return _}return Ve(b.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,m){const b=Ve(yt(u.latitude),yt(m.latitude));return b!==0?b:Ve(yt(u.longitude),yt(m.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return lv(i.arrayValue,e.arrayValue);case 10:return(function(u,m){const b=u.fields||{},g=m.fields||{},y=b[ud]?.arrayValue,_=g[ud]?.arrayValue,N=Ve(y?.values?.length||0,_?.values?.length||0);return N!==0?N:lv(y,_)})(i.mapValue,e.mapValue);case 11:return(function(u,m){if(u===Pu.mapValue&&m===Pu.mapValue)return 0;if(u===Pu.mapValue)return 1;if(m===Pu.mapValue)return-1;const b=u.fields||{},g=Object.keys(b),y=m.fields||{},_=Object.keys(y);g.sort(),_.sort();for(let N=0;N<g.length&&N<_.length;++N){const k=vm(g[N],_[N]);if(k!==0)return k;const q=ol(b[g[N]],y[_[N]]);if(q!==0)return q}return Ve(g.length,_.length)})(i.mapValue,e.mapValue);default:throw _e(23264,{he:s})}}function rv(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const s=ia(i),a=ia(e),o=Ve(s.seconds,a.seconds);return o!==0?o:Ve(s.nanos,a.nanos)}function lv(i,e){const s=i.values||[],a=e.values||[];for(let o=0;o<s.length&&o<a.length;++o){const u=ol(s[o],a[o]);if(u)return u}return Ve(s.length,a.length)}function cl(i){return xm(i)}function xm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(s){const a=ia(s);return`time(${a.seconds},${a.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(s){return aa(s).toBase64()})(i.bytesValue):"referenceValue"in i?(function(s){return ge.fromName(s).toString()})(i.referenceValue):"geoPointValue"in i?(function(s){return`geo(${s.latitude},${s.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(s){let a="[",o=!0;for(const u of s.values||[])o?o=!1:a+=",",a+=xm(u);return a+"]"})(i.arrayValue):"mapValue"in i?(function(s){const a=Object.keys(s.fields||{}).sort();let o="{",u=!0;for(const m of a)u?u=!1:o+=",",o+=`${m}:${xm(s.fields[m])}`;return o+"}"})(i.mapValue):_e(61005,{value:i})}function $u(i){switch(ra(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ad(i);return e?16+$u(e):16;case 5:return 2*i.stringValue.length;case 6:return aa(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+$u(u)),0)})(i.arrayValue);case 10:case 11:return(function(a){let o=0;return ca(a.fields,((u,m)=>{o+=u.length+$u(m)})),o})(i.mapValue);default:throw _e(13486,{value:i})}}function ov(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function _m(i){return!!i&&"integerValue"in i}function ip(i){return!!i&&"arrayValue"in i}function cv(i){return!!i&&"nullValue"in i}function uv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Xu(i){return!!i&&"mapValue"in i}function VS(i){return(i?.mapValue?.fields||{})[h_]?.stringValue===f_}function Io(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ca(i.mapValue.fields,((s,a)=>e.mapValue.fields[s]=Io(a))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(i.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=Io(i.arrayValue.values[s]);return e}return{...i}}function zS(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===OS}class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let a=0;a<e.length-1;++a)if(s=(s.mapValue.fields||{})[e.get(a)],!Xu(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=Io(s)}setAll(e){let s=Kt.emptyPath(),a={},o=[];e.forEach(((m,b)=>{if(!s.isImmediateParentOf(b)){const g=this.getFieldsMap(s);this.applyChanges(g,a,o),a={},o=[],s=b.popLast()}m?a[b.lastSegment()]=Io(m):o.push(b.lastSegment())}));const u=this.getFieldsMap(s);this.applyChanges(u,a,o)}delete(e){const s=this.field(e.popLast());Xu(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return Ds(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=s.mapValue.fields[e.get(a)];Xu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},s.mapValue.fields[e.get(a)]=o),s=o}return s.mapValue.fields}applyChanges(e,s,a){ca(s,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new fn(Io(this.value))}}function m_(i){const e=[];return ca(i.fields,((s,a)=>{const o=new Kt([s]);if(Xu(a)){const u=m_(a.mapValue).fields;if(u.length===0)e.push(o);else for(const m of u)e.push(o.child(m))}else e.push(o)})),new En(e)}class Jt{constructor(e,s,a,o,u,m,b){this.key=e,this.documentType=s,this.version=a,this.readTime=o,this.createTime=u,this.data=m,this.documentState=b}static newInvalidDocument(e){return new Jt(e,0,Ee.min(),Ee.min(),Ee.min(),fn.empty(),0)}static newFoundDocument(e,s,a,o){return new Jt(e,1,s,Ee.min(),a,o,0)}static newNoDocument(e,s){return new Jt(e,2,s,Ee.min(),Ee.min(),fn.empty(),0)}static newUnknownDocument(e,s){return new Jt(e,3,s,Ee.min(),Ee.min(),fn.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dd{constructor(e,s){this.position=e,this.inclusive=s}}function dv(i,e,s){let a=0;for(let o=0;o<i.position.length;o++){const u=e[o],m=i.position[o];if(u.field.isKeyField()?a=ge.comparator(ge.fromName(m.referenceValue),s.key):a=ol(m,s.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function hv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let s=0;s<i.position.length;s++)if(!Ds(i.position[s],e.position[s]))return!1;return!0}class hd{constructor(e,s="asc"){this.field=e,this.dir=s}}function LS(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class p_{}class kt extends p_{constructor(e,s,a){super(),this.field=e,this.op=s,this.value=a}static create(e,s,a){return e.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(e,s,a):new PS(e,s,a):s==="array-contains"?new HS(e,a):s==="in"?new FS(e,a):s==="not-in"?new GS(e,a):s==="array-contains-any"?new KS(e,a):new kt(e,s,a)}static createKeyFieldInFilter(e,s,a){return s==="in"?new BS(e,a):new qS(e,a)}matches(e){const s=e.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(ol(s,this.value)):s!==null&&ra(this.value)===ra(s)&&this.matchesComparison(ol(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ts extends p_{constructor(e,s){super(),this.filters=e,this.op=s,this.Pe=null}static create(e,s){return new ts(e,s)}matches(e){return g_(this)?this.filters.find((s=>!s.matches(e)))===void 0:this.filters.find((s=>s.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,s)=>e.concat(s.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function g_(i){return i.op==="and"}function y_(i){return US(i)&&g_(i)}function US(i){for(const e of i.filters)if(e instanceof ts)return!1;return!0}function wm(i){if(i instanceof kt)return i.field.canonicalString()+i.op.toString()+cl(i.value);if(y_(i))return i.filters.map((e=>wm(e))).join(",");{const e=i.filters.map((s=>wm(s))).join(",");return`${i.op}(${e})`}}function b_(i,e){return i instanceof kt?(function(a,o){return o instanceof kt&&a.op===o.op&&a.field.isEqual(o.field)&&Ds(a.value,o.value)})(i,e):i instanceof ts?(function(a,o){return o instanceof ts&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,m,b)=>u&&b_(m,o.filters[b])),!0):!1})(i,e):void _e(19439)}function v_(i){return i instanceof kt?(function(s){return`${s.field.canonicalString()} ${s.op} ${cl(s.value)}`})(i):i instanceof ts?(function(s){return s.op.toString()+" {"+s.getFilters().map(v_).join(" ,")+"}"})(i):"Filter"}class PS extends kt{constructor(e,s,a){super(e,s,a),this.key=ge.fromName(a.referenceValue)}matches(e){const s=ge.comparator(e.key,this.key);return this.matchesComparison(s)}}class BS extends kt{constructor(e,s){super(e,"in",s),this.keys=x_("in",s)}matches(e){return this.keys.some((s=>s.isEqual(e.key)))}}class qS extends kt{constructor(e,s){super(e,"not-in",s),this.keys=x_("not-in",s)}matches(e){return!this.keys.some((s=>s.isEqual(e.key)))}}function x_(i,e){return(e.arrayValue?.values||[]).map((s=>ge.fromName(s.referenceValue)))}class HS extends kt{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return ip(s)&&qo(s.arrayValue,this.value)}}class FS extends kt{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return s!==null&&qo(this.value.arrayValue,s)}}class GS extends kt{constructor(e,s){super(e,"not-in",s)}matches(e){if(qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return s!==null&&s.nullValue===void 0&&!qo(this.value.arrayValue,s)}}class KS extends kt{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!ip(s)||!s.arrayValue.values)&&s.arrayValue.values.some((a=>qo(this.value.arrayValue,a)))}}class YS{constructor(e,s=null,a=[],o=[],u=null,m=null,b=null){this.path=e,this.collectionGroup=s,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=m,this.endAt=b,this.Te=null}}function fv(i,e=null,s=[],a=[],o=null,u=null,m=null){return new YS(i,e,s,a,o,u,m)}function ap(i){const e=Se(i);if(e.Te===null){let s=e.path.canonicalString();e.collectionGroup!==null&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map((a=>wm(a))).join(","),s+="|ob:",s+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),Sd(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((a=>cl(a))).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((a=>cl(a))).join(",")),e.Te=s}return e.Te}function rp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<i.orderBy.length;s++)if(!LS(i.orderBy[s],e.orderBy[s]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let s=0;s<i.filters.length;s++)if(!b_(i.filters[s],e.filters[s]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!hv(i.startAt,e.startAt)&&hv(i.endAt,e.endAt)}function Tm(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class ec{constructor(e,s=null,a=[],o=[],u=null,m="F",b=null,g=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=m,this.startAt=b,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function QS(i,e,s,a,o,u,m,b){return new ec(i,e,s,a,o,u,m,b)}function lp(i){return new ec(i)}function mv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function __(i){return i.collectionGroup!==null}function Do(i){const e=Se(i);if(e.Ie===null){e.Ie=[];const s=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),s.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let b=new Mt(Kt.comparator);return m.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(b=b.add(y.field))}))})),b})(e).forEach((u=>{s.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new hd(u,a))})),s.has(Kt.keyField().canonicalString())||e.Ie.push(new hd(Kt.keyField(),a))}return e.Ie}function Cs(i){const e=Se(i);return e.Ee||(e.Ee=$S(e,Do(i))),e.Ee}function $S(i,e){if(i.limitType==="F")return fv(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new hd(o.field,u)}));const s=i.endAt?new dd(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new dd(i.startAt.position,i.startAt.inclusive):null;return fv(i.path,i.collectionGroup,e,i.filters,i.limit,s,a)}}function Em(i,e){const s=i.filters.concat([e]);return new ec(i.path,i.collectionGroup,i.explicitOrderBy.slice(),s,i.limit,i.limitType,i.startAt,i.endAt)}function Nm(i,e,s){return new ec(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,s,i.startAt,i.endAt)}function kd(i,e){return rp(Cs(i),Cs(e))&&i.limitType===e.limitType}function w_(i){return`${ap(Cs(i))}|lt:${i.limitType}`}function Xr(i){return`Query(target=${(function(s){let a=s.path.canonicalString();return s.collectionGroup!==null&&(a+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(a+=`, filters: [${s.filters.map((o=>v_(o))).join(", ")}]`),Sd(s.limit)||(a+=", limit: "+s.limit),s.orderBy.length>0&&(a+=`, orderBy: [${s.orderBy.map((o=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(o))).join(", ")}]`),s.startAt&&(a+=", startAt: ",a+=s.startAt.inclusive?"b:":"a:",a+=s.startAt.position.map((o=>cl(o))).join(",")),s.endAt&&(a+=", endAt: ",a+=s.endAt.inclusive?"a:":"b:",a+=s.endAt.position.map((o=>cl(o))).join(",")),`Target(${a})`})(Cs(i))}; limitType=${i.limitType})`}function Cd(i,e){return e.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):ge.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(i,e)&&(function(a,o){for(const u of Do(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(a,o){return!(a.startAt&&!(function(m,b,g){const y=dv(m,b,g);return m.inclusive?y<=0:y<0})(a.startAt,Do(a),o)||a.endAt&&!(function(m,b,g){const y=dv(m,b,g);return m.inclusive?y>=0:y>0})(a.endAt,Do(a),o))})(i,e)}function XS(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function T_(i){return(e,s)=>{let a=!1;for(const o of Do(i)){const u=ZS(o,e,s);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function ZS(i,e,s){const a=i.field.isKeyField()?ge.comparator(e.key,s.key):(function(u,m,b){const g=m.data.field(u),y=b.data.field(u);return g!==null&&y!==null?ol(g,y):_e(42886)})(i.field,e,s);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return _e(19790,{direction:i.dir})}}class er{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),a=this.inner[s];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,s){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,s]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,s]);o.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[s]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,((s,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return r_(this.inner)}size(){return this.innerSize}}const JS=new ut(ge.comparator);function oi(){return JS}const E_=new ut(ge.comparator);function Ao(...i){let e=E_;for(const s of i)e=e.insert(s.key,s);return e}function N_(i){let e=E_;return i.forEach(((s,a)=>e=e.insert(s,a.overlayedDocument))),e}function Ha(){return Mo()}function S_(){return Mo()}function Mo(){return new er((i=>i.toString()),((i,e)=>i.isEqual(e)))}const WS=new ut(ge.comparator),eA=new Mt(ge.comparator);function ze(...i){let e=eA;for(const s of i)e=e.add(s);return e}const tA=new Mt(Ve);function nA(){return tA}function op(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:od(e)?"-0":e}}function A_(i){return{integerValue:""+i}}function sA(i,e){return jS(e)?A_(e):op(i,e)}class jd{constructor(){this._=void 0}}function iA(i,e,s){return i instanceof Ho?(function(o,u){const m={fields:{[c_]:{stringValue:o_},[d_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&sp(u)&&(u=Ad(u)),u&&(m.fields[u_]=u),{mapValue:m}})(s,e):i instanceof Fo?C_(i,e):i instanceof Go?j_(i,e):(function(o,u){const m=k_(o,u),b=pv(m)+pv(o.Ae);return _m(m)&&_m(o.Ae)?A_(b):op(o.serializer,b)})(i,e)}function aA(i,e,s){return i instanceof Fo?C_(i,e):i instanceof Go?j_(i,e):s}function k_(i,e){return i instanceof fd?(function(a){return _m(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class Ho extends jd{}class Fo extends jd{constructor(e){super(),this.elements=e}}function C_(i,e){const s=R_(e);for(const a of i.elements)s.some((o=>Ds(o,a)))||s.push(a);return{arrayValue:{values:s}}}class Go extends jd{constructor(e){super(),this.elements=e}}function j_(i,e){let s=R_(e);for(const a of i.elements)s=s.filter((o=>!Ds(o,a)));return{arrayValue:{values:s}}}class fd extends jd{constructor(e,s){super(),this.serializer=e,this.Ae=s}}function pv(i){return yt(i.integerValue||i.doubleValue)}function R_(i){return ip(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class rA{constructor(e,s){this.field=e,this.transform=s}}function lA(i,e){return i.field.isEqual(e.field)&&(function(a,o){return a instanceof Fo&&o instanceof Fo||a instanceof Go&&o instanceof Go?ll(a.elements,o.elements,Ds):a instanceof fd&&o instanceof fd?Ds(a.Ae,o.Ae):a instanceof Ho&&o instanceof Ho})(i.transform,e.transform)}class oA{constructor(e,s){this.version=e,this.transformResults=s}}class es{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new es}static exists(e){return new es(void 0,e)}static updateTime(e){return new es(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Rd{}function I_(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new cp(i.key,es.none()):new tc(i.key,i.data,es.none());{const s=i.data,a=fn.empty();let o=new Mt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let m=s.field(u);m===null&&u.length>1&&(u=u.popLast(),m=s.field(u)),m===null?a.delete(u):a.set(u,m),o=o.add(u)}return new ua(i.key,a,new En(o.toArray()),es.none())}}function cA(i,e,s){i instanceof tc?(function(o,u,m){const b=o.value.clone(),g=yv(o.fieldTransforms,u,m.transformResults);b.setAll(g),u.convertToFoundDocument(m.version,b).setHasCommittedMutations()})(i,e,s):i instanceof ua?(function(o,u,m){if(!Zu(o.precondition,u))return void u.convertToUnknownDocument(m.version);const b=yv(o.fieldTransforms,u,m.transformResults),g=u.data;g.setAll(D_(o)),g.setAll(b),u.convertToFoundDocument(m.version,g).setHasCommittedMutations()})(i,e,s):(function(o,u,m){u.convertToNoDocument(m.version).setHasCommittedMutations()})(0,e,s)}function Oo(i,e,s,a){return i instanceof tc?(function(u,m,b,g){if(!Zu(u.precondition,m))return b;const y=u.value.clone(),_=bv(u.fieldTransforms,g,m);return y.setAll(_),m.convertToFoundDocument(m.version,y).setHasLocalMutations(),null})(i,e,s,a):i instanceof ua?(function(u,m,b,g){if(!Zu(u.precondition,m))return b;const y=bv(u.fieldTransforms,g,m),_=m.data;return _.setAll(D_(u)),_.setAll(y),m.convertToFoundDocument(m.version,_).setHasLocalMutations(),b===null?null:b.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((N=>N.field)))})(i,e,s,a):(function(u,m,b){return Zu(u.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):b})(i,e,s)}function uA(i,e){let s=null;for(const a of i.fieldTransforms){const o=e.data.field(a.field),u=k_(a.transform,o||null);u!=null&&(s===null&&(s=fn.empty()),s.set(a.field,u))}return s||null}function gv(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ll(a,o,((u,m)=>lA(u,m)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class tc extends Rd{constructor(e,s,a,o=[]){super(),this.key=e,this.value=s,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ua extends Rd{constructor(e,s,a,o,u=[]){super(),this.key=e,this.data=s,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function D_(i){const e=new Map;return i.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const a=i.data.field(s);e.set(s,a)}})),e}function yv(i,e,s){const a=new Map;Ye(i.length===s.length,32656,{Re:s.length,Ve:i.length});for(let o=0;o<s.length;o++){const u=i[o],m=u.transform,b=e.data.field(u.field);a.set(u.field,aA(m,b,s[o]))}return a}function bv(i,e,s){const a=new Map;for(const o of i){const u=o.transform,m=s.data.field(o.field);a.set(o.field,iA(u,m,e))}return a}class cp extends Rd{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dA extends Rd{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hA{constructor(e,s,a,o){this.batchId=e,this.localWriteTime=s,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,s){const a=s.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&cA(u,e,a[o])}}applyToLocalView(e,s){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(s=Oo(a,e,s,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(s=Oo(a,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const a=S_();return this.mutations.forEach((o=>{const u=e.get(o.key),m=u.overlayedDocument;let b=this.applyToLocalView(m,u.mutatedFields);b=s.has(o.key)?null:b;const g=I_(m,b);g!==null&&a.set(o.key,g),m.isValidDocument()||m.convertToNoDocument(Ee.min())})),a}keys(){return this.mutations.reduce(((e,s)=>e.add(s.key)),ze())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,((s,a)=>gv(s,a)))&&ll(this.baseMutations,e.baseMutations,((s,a)=>gv(s,a)))}}class up{constructor(e,s,a,o){this.batch=e,this.commitVersion=s,this.mutationResults=a,this.docVersions=o}static from(e,s,a){Ye(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return WS})();const u=e.mutations;for(let m=0;m<u.length;m++)o=o.insert(u[m].key,a[m].version);return new up(e,s,a,o)}}class fA{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class mA{constructor(e,s){this.count=e,this.unchangedNames=s}}var At,Pe;function pA(i){switch(i){case te.OK:return _e(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return _e(15467,{code:i})}}function M_(i){if(i===void 0)return li("GRPC error has no .code"),te.UNKNOWN;switch(i){case At.OK:return te.OK;case At.CANCELLED:return te.CANCELLED;case At.UNKNOWN:return te.UNKNOWN;case At.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case At.INTERNAL:return te.INTERNAL;case At.UNAVAILABLE:return te.UNAVAILABLE;case At.UNAUTHENTICATED:return te.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case At.NOT_FOUND:return te.NOT_FOUND;case At.ALREADY_EXISTS:return te.ALREADY_EXISTS;case At.PERMISSION_DENIED:return te.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case At.ABORTED:return te.ABORTED;case At.OUT_OF_RANGE:return te.OUT_OF_RANGE;case At.UNIMPLEMENTED:return te.UNIMPLEMENTED;case At.DATA_LOSS:return te.DATA_LOSS;default:return _e(39323,{code:i})}}(Pe=At||(At={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";function gA(){return new TextEncoder}const yA=new ea([4294967295,4294967295],0);function vv(i){const e=gA().encode(i),s=new $x;return s.update(e),new Uint8Array(s.digest())}function xv(i){const e=new DataView(i.buffer),s=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ea([s,a],0),new ea([o,u],0)]}class dp{constructor(e,s,a){if(this.bitmap=e,this.padding=s,this.hashCount=a,s<0||s>=8)throw new ko(`Invalid padding: ${s}`);if(a<0)throw new ko(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new ko(`Invalid hash count: ${a}`);if(e.length===0&&s!==0)throw new ko(`Invalid padding when bitmap length is 0: ${s}`);this.ge=8*e.length-s,this.pe=ea.fromNumber(this.ge)}ye(e,s,a){let o=e.add(s.multiply(ea.fromNumber(a)));return o.compare(yA)===1&&(o=new ea([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const s=vv(e),[a,o]=xv(s);for(let u=0;u<this.hashCount;u++){const m=this.ye(a,o,u);if(!this.we(m))return!1}return!0}static create(e,s,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),m=new dp(u,o,s);return a.forEach((b=>m.insert(b))),m}insert(e){if(this.ge===0)return;const s=vv(e),[a,o]=xv(s);for(let u=0;u<this.hashCount;u++){const m=this.ye(a,o,u);this.Se(m)}}Se(e){const s=Math.floor(e/8),a=e%8;this.bitmap[s]|=1<<a}}class ko extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Id{constructor(e,s,a,o,u){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,s,a){const o=new Map;return o.set(e,nc.createSynthesizedTargetChangeForCurrentChange(e,s,a)),new Id(Ee.min(),o,new ut(Ve),oi(),ze())}}class nc{constructor(e,s,a,o,u){this.resumeToken=e,this.current=s,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,s,a){return new nc(a,s,ze(),ze(),ze())}}class Ju{constructor(e,s,a,o){this.be=e,this.removedTargetIds=s,this.key=a,this.De=o}}class O_{constructor(e,s){this.targetId=e,this.Ce=s}}class V_{constructor(e,s,a=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=s,this.resumeToken=a,this.cause=o}}class _v{constructor(){this.ve=0,this.Fe=wv(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),s=ze(),a=ze();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:s=s.add(o);break;case 1:a=a.add(o);break;default:_e(38017,{changeType:u})}})),new nc(this.Me,this.xe,e,s,a)}qe(){this.Oe=!1,this.Fe=wv()}Qe(e,s){this.Oe=!0,this.Fe=this.Fe.insert(e,s)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bA{constructor(e){this.Ge=e,this.ze=new Map,this.je=oi(),this.Je=Bu(),this.He=Bu(),this.Ye=new ut(Ve)}Ze(e){for(const s of e.be)e.De&&e.De.isFoundDocument()?this.Xe(s,e.De):this.et(s,e.key,e.De);for(const s of e.removedTargetIds)this.et(s,e.key,e.De)}tt(e){this.forEachTarget(e,(s=>{const a=this.nt(s);switch(e.state){case 0:this.rt(s)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(s);break;case 3:this.rt(s)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(s)&&(this.it(s),a.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.ze.forEach(((a,o)=>{this.rt(o)&&s(o)}))}st(e){const s=e.targetId,a=e.Ce.count,o=this.ot(s);if(o){const u=o.target;if(Tm(u))if(a===0){const m=new ge(u.path);this.et(s,m,Jt.newNoDocument(m,Ee.min()))}else Ye(a===1,20013,{expectedCount:a});else{const m=this._t(s);if(m!==a){const b=this.ut(e),g=b?this.ct(b,e,m):1;if(g!==0){this.it(s);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(s,y)}}}}}ut(e){const s=e.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=s;let m,b;try{m=aa(a).toUint8Array()}catch(g){if(g instanceof l_)return rl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{b=new dp(m,o,u)}catch(g){return rl(g instanceof ko?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return b.ge===0?null:b}ct(e,s,a){return s.Ce.count===a-this.Pt(e,s.targetId)?0:2}Pt(e,s){const a=this.Ge.getRemoteKeysForTarget(s);let o=0;return a.forEach((u=>{const m=this.Ge.ht(),b=`projects/${m.projectId}/databases/${m.database}/documents/${u.path.canonicalString()}`;e.mightContain(b)||(this.et(s,u,null),o++)})),o}Tt(e){const s=new Map;this.ze.forEach(((u,m)=>{const b=this.ot(m);if(b){if(u.current&&Tm(b.target)){const g=new ge(b.target.path);this.It(g).has(m)||this.Et(m,g)||this.et(m,g,Jt.newNoDocument(g,e))}u.Be&&(s.set(m,u.ke()),u.qe())}}));let a=ze();this.He.forEach(((u,m)=>{let b=!0;m.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(a=a.add(u))})),this.je.forEach(((u,m)=>m.setReadTime(e)));const o=new Id(e,s,this.Ye,this.je,a);return this.je=oi(),this.Je=Bu(),this.He=Bu(),this.Ye=new ut(Ve),o}Xe(e,s){if(!this.rt(e))return;const a=this.Et(e,s.key)?2:0;this.nt(e).Qe(s.key,a),this.je=this.je.insert(s.key,s),this.Je=this.Je.insert(s.key,this.It(s.key).add(e)),this.He=this.He.insert(s.key,this.dt(s.key).add(e))}et(e,s,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,s)?o.Qe(s,1):o.$e(s),this.He=this.He.insert(s,this.dt(s).delete(e)),this.He=this.He.insert(s,this.dt(s).add(e)),a&&(this.je=this.je.insert(s,a))}removeTarget(e){this.ze.delete(e)}_t(e){const s=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let s=this.ze.get(e);return s||(s=new _v,this.ze.set(e,s)),s}dt(e){let s=this.He.get(e);return s||(s=new Mt(Ve),this.He=this.He.insert(e,s)),s}It(e){let s=this.Je.get(e);return s||(s=new Mt(Ve),this.Je=this.Je.insert(e,s)),s}rt(e){const s=this.ot(e)!==null;return s||ce("WatchChangeAggregator","Detected inactive target",e),s}ot(e){const s=this.ze.get(e);return s&&s.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _v),this.Ge.getRemoteKeysForTarget(e).forEach((s=>{this.et(e,s,null)}))}Et(e,s){return this.Ge.getRemoteKeysForTarget(e).has(s)}}function Bu(){return new ut(ge.comparator)}function wv(){return new ut(ge.comparator)}const vA={asc:"ASCENDING",desc:"DESCENDING"},xA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_A={and:"AND",or:"OR"};class wA{constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function Sm(i,e){return i.useProto3Json||Sd(e)?e:{value:e}}function md(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function z_(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function TA(i,e){return md(i,e.toTimestamp())}function js(i){return Ye(!!i,49232),Ee.fromTimestamp((function(s){const a=ia(s);return new rt(a.seconds,a.nanos)})(i))}function hp(i,e){return Am(i,e).canonicalString()}function Am(i,e){const s=(function(o){return new st(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?s:s.child(e)}function L_(i){const e=st.fromString(i);return Ye(H_(e),10190,{key:e.toString()}),e}function km(i,e){return hp(i.databaseId,e.path)}function am(i,e){const s=L_(e);if(s.get(1)!==i.databaseId.projectId)throw new oe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+i.databaseId.projectId);if(s.get(3)!==i.databaseId.database)throw new oe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+i.databaseId.database);return new ge(P_(s))}function U_(i,e){return hp(i.databaseId,e)}function EA(i){const e=L_(i);return e.length===4?st.emptyPath():P_(e)}function Cm(i){return new st(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function P_(i){return Ye(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Tv(i,e,s){return{name:km(i,e),fields:s.value.mapValue.fields}}function NA(i,e){let s;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,_){return y.useProto3Json?(Ye(_===void 0||typeof _=="string",58123),Qt.fromBase64String(_||"")):(Ye(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Qt.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),m=e.targetChange.cause,b=m&&(function(y){const _=y.code===void 0?te.UNKNOWN:M_(y.code);return new oe(_,y.message||"")})(m);s=new V_(a,o,u,b||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=am(i,a.document.name),u=js(a.document.updateTime),m=a.document.createTime?js(a.document.createTime):Ee.min(),b=new fn({mapValue:{fields:a.document.fields}}),g=Jt.newFoundDocument(o,u,m,b),y=a.targetIds||[],_=a.removedTargetIds||[];s=new Ju(y,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=am(i,a.document),u=a.readTime?js(a.readTime):Ee.min(),m=Jt.newNoDocument(o,u),b=a.removedTargetIds||[];s=new Ju([],b,m.key,m)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=am(i,a.document),u=a.removedTargetIds||[];s=new Ju([],u,o,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,m=new mA(o,u),b=a.targetId;s=new O_(b,m)}}return s}function SA(i,e){let s;if(e instanceof tc)s={update:Tv(i,e.key,e.value)};else if(e instanceof cp)s={delete:km(i,e.key)};else if(e instanceof ua)s={update:Tv(i,e.key,e.data),updateMask:OA(e.fieldMask)};else{if(!(e instanceof dA))return _e(16599,{Vt:e.type});s={verify:km(i,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map((a=>(function(u,m){const b=m.transform;if(b instanceof Ho)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof Fo)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof Go)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof fd)return{fieldPath:m.field.canonicalString(),increment:b.Ae};throw _e(20930,{transform:m.transform})})(0,a)))),e.precondition.isNone||(s.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:TA(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)})(i,e.precondition)),s}function AA(i,e){return i&&i.length>0?(Ye(e!==void 0,14353),i.map((s=>(function(o,u){let m=o.updateTime?js(o.updateTime):js(u);return m.isEqual(Ee.min())&&(m=js(u)),new oA(m,o.transformResults||[])})(s,e)))):[]}function kA(i,e){return{documents:[U_(i,e.path)]}}function CA(i,e){const s={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),s.structuredQuery.from=[{collectionId:a.lastSegment()}]),s.parent=U_(i,o);const u=(function(y){if(y.length!==0)return q_(ts.create(y,"and"))})(e.filters);u&&(s.structuredQuery.where=u);const m=(function(y){if(y.length!==0)return y.map((_=>(function(k){return{field:Zr(k.field),direction:IA(k.dir)}})(_)))})(e.orderBy);m&&(s.structuredQuery.orderBy=m);const b=Sm(i,e.limit);return b!==null&&(s.structuredQuery.limit=b),e.startAt&&(s.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(s.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:s,parent:o}}function jA(i){let e=EA(i.parent);const s=i.structuredQuery,a=s.from?s.from.length:0;let o=null;if(a>0){Ye(a===1,65062);const _=s.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];s.where&&(u=(function(N){const k=B_(N);return k instanceof ts&&y_(k)?k.getFilters():[k]})(s.where));let m=[];s.orderBy&&(m=(function(N){return N.map((k=>(function(Z){return new hd(Jr(Z.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(k)))})(s.orderBy));let b=null;s.limit&&(b=(function(N){let k;return k=typeof N=="object"?N.value:N,Sd(k)?null:k})(s.limit));let g=null;s.startAt&&(g=(function(N){const k=!!N.before,q=N.values||[];return new dd(q,k)})(s.startAt));let y=null;return s.endAt&&(y=(function(N){const k=!N.before,q=N.values||[];return new dd(q,k)})(s.endAt)),QS(e,o,m,u,b,"F",g,y)}function RA(i,e){const s=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return s==null?null:{"goog-listen-tags":s}}function B_(i){return i.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const a=Jr(s.unaryFilter.field);return kt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Jr(s.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Jr(s.unaryFilter.field);return kt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Jr(s.unaryFilter.field);return kt.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(i):i.fieldFilter!==void 0?(function(s){return kt.create(Jr(s.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(s.fieldFilter.op),s.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(s){return ts.create(s.compositeFilter.filters.map((a=>B_(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(s.compositeFilter.op))})(i):_e(30097,{filter:i})}function IA(i){return vA[i]}function DA(i){return xA[i]}function MA(i){return _A[i]}function Zr(i){return{fieldPath:i.canonicalString()}}function Jr(i){return Kt.fromServerFormat(i.fieldPath)}function q_(i){return i instanceof kt?(function(s){if(s.op==="=="){if(uv(s.value))return{unaryFilter:{field:Zr(s.field),op:"IS_NAN"}};if(cv(s.value))return{unaryFilter:{field:Zr(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(uv(s.value))return{unaryFilter:{field:Zr(s.field),op:"IS_NOT_NAN"}};if(cv(s.value))return{unaryFilter:{field:Zr(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zr(s.field),op:DA(s.op),value:s.value}}})(i):i instanceof ts?(function(s){const a=s.getFilters().map((o=>q_(o)));return a.length===1?a[0]:{compositeFilter:{op:MA(s.op),filters:a}}})(i):_e(54877,{filter:i})}function OA(i){const e=[];return i.fields.forEach((s=>e.push(s.canonicalString()))),{fieldPaths:e}}function H_(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Xi{constructor(e,s,a,o,u=Ee.min(),m=Ee.min(),b=Qt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=s,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=b,this.expectedCount=g}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class VA{constructor(e){this.yt=e}}function zA(i){const e=jA({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Nm(e,e.limit,"L"):e}class LA{constructor(){this.Cn=new UA}addToCollectionParentIndex(e,s){return this.Cn.add(s),ne.resolve()}getCollectionParents(e,s){return ne.resolve(this.Cn.getEntries(s))}addFieldIndex(e,s){return ne.resolve()}deleteFieldIndex(e,s){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,s){return ne.resolve()}getDocumentsMatchingTarget(e,s){return ne.resolve(null)}getIndexType(e,s){return ne.resolve(0)}getFieldIndexes(e,s){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,s){return ne.resolve(sa.min())}getMinOffsetFromCollectionGroup(e,s){return ne.resolve(sa.min())}updateCollectionGroup(e,s,a){return ne.resolve()}updateIndexEntries(e,s){return ne.resolve()}}class UA{constructor(){this.index={}}add(e){const s=e.lastSegment(),a=e.popLast(),o=this.index[s]||new Mt(st.comparator),u=!o.has(a);return this.index[s]=o.add(a),u}has(e){const s=e.lastSegment(),a=e.popLast(),o=this.index[s];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Mt(st.comparator)).toArray()}}const Ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},F_=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,s,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=a}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(F_,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class ul{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ul(0)}static cr(){return new ul(-1)}}const Nv="LruGarbageCollector",PA=1048576;function Sv([i,e],[s,a]){const o=Ve(i,s);return o===0?Ve(e,a):o}class BA{constructor(e){this.Ir=e,this.buffer=new Mt(Sv),this.Er=0}dr(){return++this.Er}Ar(e){const s=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(s);else{const a=this.buffer.last();Sv(s,a)<0&&(this.buffer=this.buffer.delete(a).add(s))}}get maxValue(){return this.buffer.last()[0]}}class qA{constructor(e,s,a){this.garbageCollector=e,this.asyncQueue=s,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(Nv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){yl(s)?ce(Nv,"Ignoring IndexedDB error during garbage collection: ",s):await gl(s)}await this.Vr(3e5)}))}}class HA{constructor(e,s){this.mr=e,this.params=s}calculateTargetCount(e,s){return this.mr.gr(e).next((a=>Math.floor(s/100*a)))}nthSequenceNumber(e,s){if(s===0)return ne.resolve(Nd.ce);const a=new BA(s);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,s,a){return this.mr.removeTargets(e,s,a)}removeOrphanedDocuments(e,s){return this.mr.removeOrphanedDocuments(e,s)}collect(e,s){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Ev)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ev):this.yr(e,s)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,s){let a,o,u,m,b,g,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((N=>(N>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,m=Date.now(),this.nthSequenceNumber(e,o)))).next((N=>(a=N,b=Date.now(),this.removeTargets(e,a,s)))).next((N=>(u=N,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((N=>(y=Date.now(),$r()<=Oe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-_}ms
	Determined least recently used ${o} in `+(b-m)+`ms
	Removed ${u} targets in `+(g-b)+`ms
	Removed ${N} documents in `+(y-g)+`ms
Total Duration: ${y-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:N}))))}}function FA(i,e){return new HA(i,e)}class GA{constructor(){this.changes=new er((e=>e.toString()),((e,s)=>e.isEqual(s))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const a=this.changes.get(s);return a!==void 0?ne.resolve(a):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class KA{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}class YA{constructor(e,s,a,o){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,s){let a=null;return this.documentOverlayCache.getOverlay(e,s).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,s)))).next((o=>(a!==null&&Oo(a.mutation,o,En.empty(),rt.now()),o)))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next((a=>this.getLocalViewOfDocuments(e,a,ze()).next((()=>a))))}getLocalViewOfDocuments(e,s,a=ze()){const o=Ha();return this.populateOverlays(e,o,s).next((()=>this.computeViews(e,s,o,a).next((u=>{let m=Ao();return u.forEach(((b,g)=>{m=m.insert(b,g.overlayedDocument)})),m}))))}getOverlayedDocuments(e,s){const a=Ha();return this.populateOverlays(e,a,s).next((()=>this.computeViews(e,s,a,ze())))}populateOverlays(e,s,a){const o=[];return a.forEach((u=>{s.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((m,b)=>{s.set(m,b)}))}))}computeViews(e,s,a,o){let u=oi();const m=Mo(),b=(function(){return Mo()})();return s.forEach(((g,y)=>{const _=a.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof ua)?u=u.insert(y.key,y):_!==void 0?(m.set(y.key,_.mutation.getFieldMask()),Oo(_.mutation,y,_.mutation.getFieldMask(),rt.now())):m.set(y.key,En.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,_)=>m.set(y,_))),s.forEach(((y,_)=>b.set(y,new KA(_,m.get(y)??null)))),b)))}recalculateAndSaveOverlays(e,s){const a=Mo();let o=new ut(((m,b)=>m-b)),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next((m=>{for(const b of m)b.keys().forEach((g=>{const y=s.get(g);if(y===null)return;let _=a.get(g)||En.empty();_=b.applyToLocalView(y,_),a.set(g,_);const N=(o.get(b.batchId)||ze()).add(g);o=o.insert(b.batchId,N)}))})).next((()=>{const m=[],b=o.getReverseIterator();for(;b.hasNext();){const g=b.getNext(),y=g.key,_=g.value,N=S_();_.forEach((k=>{if(!u.has(k)){const q=I_(s.get(k),a.get(k));q!==null&&N.set(k,q),u=u.add(k)}})),m.push(this.documentOverlayCache.saveOverlays(e,y,N))}return ne.waitFor(m)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,s,a,o){return(function(m){return ge.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0})(s)?this.getDocumentsMatchingDocumentQuery(e,s.path):__(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,a,o):this.getDocumentsMatchingCollectionQuery(e,s,a,o)}getNextDocuments(e,s,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,a,o).next((u=>{const m=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,a.largestBatchId,o-u.size):ne.resolve(Ha());let b=Uo,g=u;return m.next((y=>ne.forEach(y,((_,N)=>(b<N.largestBatchId&&(b=N.largestBatchId),u.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next((k=>{g=g.insert(_,k)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,ze()))).next((_=>({batchId:b,changes:N_(_)})))))}))}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new ge(s)).next((a=>{let o=Ao();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,s,a,o){const u=s.collectionGroup;let m=Ao();return this.indexManager.getCollectionParents(e,u).next((b=>ne.forEach(b,(g=>{const y=(function(N,k){return new ec(k,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)})(s,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next((_=>{_.forEach(((N,k)=>{m=m.insert(N,k)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(e,s,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,a.largestBatchId).next((m=>(u=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,a,u,o)))).next((m=>{u.forEach(((g,y)=>{const _=y.getKey();m.get(_)===null&&(m=m.insert(_,Jt.newInvalidDocument(_)))}));let b=Ao();return m.forEach(((g,y)=>{const _=u.get(g);_!==void 0&&Oo(_.mutation,y,En.empty(),rt.now()),Cd(s,y)&&(b=b.insert(g,y))})),b}))}}class QA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,s){return ne.resolve(this.Lr.get(s))}saveBundleMetadata(e,s){return this.Lr.set(s.id,(function(o){return{id:o.id,version:o.version,createTime:js(o.createTime)}})(s)),ne.resolve()}getNamedQuery(e,s){return ne.resolve(this.kr.get(s))}saveNamedQuery(e,s){return this.kr.set(s.name,(function(o){return{name:o.name,query:zA(o.bundledQuery),readTime:js(o.readTime)}})(s)),ne.resolve()}}class $A{constructor(){this.overlays=new ut(ge.comparator),this.qr=new Map}getOverlay(e,s){return ne.resolve(this.overlays.get(s))}getOverlays(e,s){const a=Ha();return ne.forEach(s,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,s,a){return a.forEach(((o,u)=>{this.St(e,s,u)})),ne.resolve()}removeOverlaysForBatchId(e,s,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),ne.resolve()}getOverlaysForCollection(e,s,a){const o=Ha(),u=s.length+1,m=new ge(s.child("")),b=this.overlays.getIteratorFrom(m);for(;b.hasNext();){const g=b.getNext().value,y=g.getKey();if(!s.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>a&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,s,a,o){let u=new ut(((y,_)=>y-_));const m=this.overlays.getIterator();for(;m.hasNext();){const y=m.getNext().value;if(y.getKey().getCollectionGroup()===s&&y.largestBatchId>a){let _=u.get(y.largestBatchId);_===null&&(_=Ha(),u=u.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const b=Ha(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,_)=>b.set(y,_))),!(b.size()>=o)););return ne.resolve(b)}St(e,s,a){const o=this.overlays.get(a.key);if(o!==null){const m=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,m)}this.overlays=this.overlays.insert(a.key,new fA(s,a));let u=this.qr.get(s);u===void 0&&(u=ze(),this.qr.set(s,u)),this.qr.set(s,u.add(a.key))}}class XA{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,ne.resolve()}}class fp{constructor(){this.Qr=new Mt(Lt.$r),this.Ur=new Mt(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,s){const a=new Lt(e,s);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,s){e.forEach((a=>this.addReference(a,s)))}removeReference(e,s){this.Gr(new Lt(e,s))}zr(e,s){e.forEach((a=>this.removeReference(a,s)))}jr(e){const s=new ge(new st([])),a=new Lt(s,e),o=new Lt(s,e+1),u=[];return this.Ur.forEachInRange([a,o],(m=>{this.Gr(m),u.push(m.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const s=new ge(new st([])),a=new Lt(s,e),o=new Lt(s,e+1);let u=ze();return this.Ur.forEachInRange([a,o],(m=>{u=u.add(m.key)})),u}containsKey(e){const s=new Lt(e,0),a=this.Qr.firstAfterOrEqual(s);return a!==null&&e.isEqual(a.key)}}class Lt{constructor(e,s){this.key=e,this.Yr=s}static $r(e,s){return ge.comparator(e.key,s.key)||Ve(e.Yr,s.Yr)}static Kr(e,s){return Ve(e.Yr,s.Yr)||ge.comparator(e.key,s.key)}}class ZA{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(Lt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,s,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new hA(u,s,a,o);this.mutationQueue.push(m);for(const b of o)this.Zr=this.Zr.add(new Lt(b.key,u)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return ne.resolve(m)}lookupMutationBatch(e,s){return ne.resolve(this.Xr(s))}getNextMutationBatchAfterBatchId(e,s){const a=s+1,o=this.ei(a),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?np:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const a=new Lt(s,0),o=new Lt(s,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],(m=>{const b=this.Xr(m.Yr);u.push(b)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,s){let a=new Mt(Ve);return s.forEach((o=>{const u=new Lt(o,0),m=new Lt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,m],(b=>{a=a.add(b.Yr)}))})),ne.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,s){const a=s.path,o=a.length+1;let u=a;ge.isDocumentKey(u)||(u=u.child(""));const m=new Lt(new ge(u),0);let b=new Mt(Ve);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(b=b.add(g.Yr)),!0)}),m),ne.resolve(this.ti(b))}ti(e){const s=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&s.push(o)})),s}removeMutationBatch(e,s){Ye(this.ni(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ne.forEach(s.mutations,(o=>{const u=new Lt(o.key,s.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,s){const a=new Lt(s,0),o=this.Zr.firstAfterOrEqual(a);return ne.resolve(s.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,s){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const s=this.ei(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}class JA{constructor(e){this.ri=e,this.docs=(function(){return new ut(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const a=s.key,o=this.docs.get(a),u=o?o.size:0,m=this.ri(s);return this.docs=this.docs.insert(a,{document:s.mutableCopy(),size:m}),this.size+=m-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const a=this.docs.get(s);return ne.resolve(a?a.document.mutableCopy():Jt.newInvalidDocument(s))}getEntries(e,s){let a=oi();return s.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))})),ne.resolve(a)}getDocumentsMatchingQuery(e,s,a,o){let u=oi();const m=s.path,b=new ge(m.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(b);for(;g.hasNext();){const{key:y,value:{document:_}}=g.getNext();if(!m.isPrefixOf(y.path))break;y.path.length>m.length+1||SS(NS(_),a)<=0||(o.has(_.key)||Cd(s,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,s,a,o){_e(9500)}ii(e,s){return ne.forEach(this.docs,(a=>s(a)))}newChangeBuffer(e){return new WA(this)}getSize(e){return ne.resolve(this.size)}}class WA extends GA{constructor(e){super(),this.Nr=e}applyChanges(e){const s=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?s.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),ne.waitFor(s)}getFromCache(e,s){return this.Nr.getEntry(e,s)}getAllFromCache(e,s){return this.Nr.getEntries(e,s)}}class ek{constructor(e){this.persistence=e,this.si=new er((s=>ap(s)),rp),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new fp,this.targetCount=0,this.ai=ul.ur()}forEachTarget(e,s){return this.si.forEach(((a,o)=>s(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,s,a){return a&&(this.lastRemoteSnapshotVersion=a),s>this.oi&&(this.oi=s),ne.resolve()}Pr(e){this.si.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.ai=new ul(s),this.highestTargetId=s),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,s){return this.Pr(s),this.targetCount+=1,ne.resolve()}updateTargetData(e,s){return this.Pr(s),ne.resolve()}removeTargetData(e,s){return this.si.delete(s.target),this._i.jr(s.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,s,a){let o=0;const u=[];return this.si.forEach(((m,b)=>{b.sequenceNumber<=s&&a.get(b.targetId)===null&&(this.si.delete(m),u.push(this.removeMatchingKeysForTargetId(e,b.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,s){const a=this.si.get(s)||null;return ne.resolve(a)}addMatchingKeys(e,s,a){return this._i.Wr(s,a),ne.resolve()}removeMatchingKeys(e,s,a){this._i.zr(s,a);const o=this.persistence.referenceDelegate,u=[];return o&&s.forEach((m=>{u.push(o.markPotentiallyOrphaned(e,m))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,s){return this._i.jr(s),ne.resolve()}getMatchingKeysForTargetId(e,s){const a=this._i.Hr(s);return ne.resolve(a)}containsKey(e,s){return ne.resolve(this._i.containsKey(s))}}class G_{constructor(e,s){this.ui={},this.overlays={},this.ci=new Nd(0),this.li=!1,this.li=!0,this.hi=new XA,this.referenceDelegate=e(this),this.Pi=new ek(this),this.indexManager=new LA,this.remoteDocumentCache=(function(o){return new JA(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new VA(s),this.Ii=new QA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new $A,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let a=this.ui[e.toKey()];return a||(a=new ZA(s,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,s,a){ce("MemoryPersistence","Starting transaction:",e);const o=new tk(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,s){return ne.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,s))))}}class tk extends kS{constructor(e){super(),this.currentSequenceNumber=e}}class mp{constructor(e){this.persistence=e,this.Ri=new fp,this.Vi=null}static mi(e){return new mp(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,s,a){return this.Ri.addReference(a,s),this.fi.delete(a.toString()),ne.resolve()}removeReference(e,s,a){return this.Ri.removeReference(a,s),this.fi.add(a.toString()),ne.resolve()}markPotentiallyOrphaned(e,s){return this.fi.add(s.toString()),ne.resolve()}removeTarget(e,s){this.Ri.jr(s.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,s.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,s)))}Ei(){this.Vi=new Set}di(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(a=>{const o=ge.fromPath(a);return this.gi(e,o).next((u=>{u||s.removeEntry(o,Ee.min())}))})).next((()=>(this.Vi=null,s.apply(e))))}updateLimboDocument(e,s){return this.gi(e,s).next((a=>{a?this.fi.delete(s.toString()):this.fi.add(s.toString())}))}Ti(e){return 0}gi(e,s){return ne.or([()=>ne.resolve(this.Ri.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Ai(e,s)])}}class pd{constructor(e,s){this.persistence=e,this.pi=new er((a=>RS(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=FA(this,s)}static mi(e,s){return new pd(e,s)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,s){return this.persistence.getTargetCache().forEachTarget(e,s)}gr(e){const s=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>s.next((o=>a+o))))}wr(e){let s=0;return this.pr(e,(a=>{s++})).next((()=>s))}pr(e,s){return ne.forEach(this.pi,((a,o)=>this.br(e,a,o).next((u=>u?ne.resolve():s(o)))))}removeTargets(e,s,a){return this.persistence.getTargetCache().removeTargets(e,s,a)}removeOrphanedDocuments(e,s){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(m=>this.br(e,m,s).next((b=>{b||(a++,u.removeEntry(m,Ee.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeTarget(e,s){const a=s.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,s,a){return this.pi.set(a,e.currentSequenceNumber),ne.resolve()}removeReference(e,s,a){return this.pi.set(a,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}Ti(e){let s=e.key.toString().length;return e.isFoundDocument()&&(s+=$u(e.data.value)),s}br(e,s,a){return ne.or([()=>this.persistence.Ai(e,s),()=>this.persistence.getTargetCache().containsKey(e,s),()=>{const o=this.pi.get(s);return ne.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class pp{constructor(e,s,a,o){this.targetId=e,this.fromCache=s,this.Es=a,this.ds=o}static As(e,s){let a=ze(),o=ze();for(const u of s.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new pp(e,s.fromCache,a,o)}}class nk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class sk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return KT()?8:CS(Wt())>0?6:4})()}initialize(e,s){this.ps=e,this.indexManager=s,this.Rs=!0}getDocumentsMatchingQuery(e,s,a,o){const u={result:null};return this.ys(e,s).next((m=>{u.result=m})).next((()=>{if(!u.result)return this.ws(e,s,o,a).next((m=>{u.result=m}))})).next((()=>{if(u.result)return;const m=new nk;return this.Ss(e,s,m).next((b=>{if(u.result=b,this.Vs)return this.bs(e,s,m,b.size)}))})).next((()=>u.result))}bs(e,s,a,o){return a.documentReadCount<this.fs?($r()<=Oe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Xr(s),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):($r()<=Oe.DEBUG&&ce("QueryEngine","Query:",Xr(s),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?($r()<=Oe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Xr(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cs(s))):ne.resolve())}ys(e,s){if(mv(s))return ne.resolve(null);let a=Cs(s);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(s.limit!==null&&o===1&&(s=Nm(s,null,"F"),a=Cs(s)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const m=ze(...u);return this.ps.getDocuments(e,m).next((b=>this.indexManager.getMinOffset(e,a).next((g=>{const y=this.Ds(s,b);return this.Cs(s,y,m,g.readTime)?this.ys(e,Nm(s,null,"F")):this.vs(e,y,s,g)}))))})))))}ws(e,s,a,o){return mv(s)||o.isEqual(Ee.min())?ne.resolve(null):this.ps.getDocuments(e,a).next((u=>{const m=this.Ds(s,u);return this.Cs(s,m,a,o)?ne.resolve(null):($r()<=Oe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xr(s)),this.vs(e,m,s,ES(o,Uo)).next((b=>b)))}))}Ds(e,s){let a=new Mt(T_(e));return s.forEach(((o,u)=>{Cd(e,u)&&(a=a.add(u))})),a}Cs(e,s,a,o){if(e.limit===null)return!1;if(a.size!==s.size)return!0;const u=e.limitType==="F"?s.last():s.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,s,a){return $r()<=Oe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Xr(s)),this.ps.getDocumentsMatchingQuery(e,s,sa.min(),a)}vs(e,s,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((u=>(s.forEach((m=>{u=u.insert(m.key,m)})),u)))}}const gp="LocalStore",ik=3e8;class ak{constructor(e,s,a,o){this.persistence=e,this.Fs=s,this.serializer=o,this.Ms=new ut(Ve),this.xs=new er((u=>ap(u)),rp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>e.collect(s,this.Ms)))}}function rk(i,e,s,a){return new ak(i,e,s,a)}async function K_(i,e){const s=Se(i);return await s.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return s.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,s.Bs(e),s.mutationQueue.getAllMutationBatches(a)))).next((u=>{const m=[],b=[];let g=ze();for(const y of o){m.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}for(const y of u){b.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}return s.localDocuments.getDocuments(a,g).next((y=>({Ls:y,removedBatchIds:m,addedBatchIds:b})))}))}))}function lk(i,e){const s=Se(i);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),u=s.Ns.newChangeBuffer({trackRemovals:!0});return(function(b,g,y,_){const N=y.batch,k=N.keys();let q=ne.resolve();return k.forEach((Z=>{q=q.next((()=>_.getEntry(g,Z))).next((z=>{const D=y.docVersions.get(Z);Ye(D!==null,48541),z.version.compareTo(D)<0&&(N.applyToRemoteDocument(z,y),z.isValidDocument()&&(z.setReadTime(y.commitVersion),_.addEntry(z)))}))})),q.next((()=>b.mutationQueue.removeMutationBatch(g,N)))})(s,a,e,u).next((()=>u.apply(a))).next((()=>s.mutationQueue.performConsistencyCheck(a))).next((()=>s.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(b){let g=ze();for(let y=0;y<b.mutationResults.length;++y)b.mutationResults[y].transformResults.length>0&&(g=g.add(b.batch.mutations[y].key));return g})(e)))).next((()=>s.localDocuments.getDocuments(a,o)))}))}function Y_(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>e.Pi.getLastRemoteSnapshotVersion(s)))}function ok(i,e){const s=Se(i),a=e.snapshotVersion;let o=s.Ms;return s.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const m=s.Ns.newChangeBuffer({trackRemovals:!0});o=s.Ms;const b=[];e.targetChanges.forEach(((_,N)=>{const k=o.get(N);if(!k)return;b.push(s.Pi.removeMatchingKeys(u,_.removedDocuments,N).next((()=>s.Pi.addMatchingKeys(u,_.addedDocuments,N))));let q=k.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(N)!==null?q=q.withResumeToken(Qt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):_.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(_.resumeToken,a)),o=o.insert(N,q),(function(z,D,$){return z.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=ik?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(k,q,_)&&b.push(s.Pi.updateTargetData(u,q))}));let g=oi(),y=ze();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&b.push(s.persistence.referenceDelegate.updateLimboDocument(u,_))})),b.push(ck(u,m,e.documentUpdates).next((_=>{g=_.ks,y=_.qs}))),!a.isEqual(Ee.min())){const _=s.Pi.getLastRemoteSnapshotVersion(u).next((N=>s.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));b.push(_)}return ne.waitFor(b).next((()=>m.apply(u))).next((()=>s.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(s.Ms=o,u)))}function ck(i,e,s){let a=ze(),o=ze();return s.forEach((u=>a=a.add(u))),e.getEntries(i,a).next((u=>{let m=oi();return s.forEach(((b,g)=>{const y=u.get(b);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(b)),g.isNoDocument()&&g.version.isEqual(Ee.min())?(e.removeEntry(b,g.readTime),m=m.insert(b,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),m=m.insert(b,g)):ce(gp,"Ignoring outdated watch update for ",b,". Current version:",y.version," Watch version:",g.version)})),{ks:m,qs:o}}))}function uk(i,e){const s=Se(i);return s.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=np),s.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function dk(i,e){const s=Se(i);return s.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return s.Pi.getTargetData(a,e).next((u=>u?(o=u,ne.resolve(o)):s.Pi.allocateTargetId(a).next((m=>(o=new Xi(e,m,"TargetPurposeListen",a.currentSequenceNumber),s.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=s.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(s.Ms=s.Ms.insert(a.targetId,a),s.xs.set(e,a.targetId)),a}))}async function jm(i,e,s){const a=Se(i),o=a.Ms.get(e),u=s?"readwrite":"readwrite-primary";try{s||await a.persistence.runTransaction("Release target",u,(m=>a.persistence.referenceDelegate.removeTarget(m,o)))}catch(m){if(!yl(m))throw m;ce(gp,`Failed to update sequence numbers for target ${e}: ${m}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function Av(i,e,s){const a=Se(i);let o=Ee.min(),u=ze();return a.persistence.runTransaction("Execute query","readwrite",(m=>(function(g,y,_){const N=Se(g),k=N.xs.get(_);return k!==void 0?ne.resolve(N.Ms.get(k)):N.Pi.getTargetData(y,_)})(a,m,Cs(e)).next((b=>{if(b)return o=b.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(m,b.targetId).next((g=>{u=g}))})).next((()=>a.Fs.getDocumentsMatchingQuery(m,e,s?o:Ee.min(),s?u:ze()))).next((b=>(hk(a,XS(e),b),{documents:b,Qs:u})))))}function hk(i,e,s){let a=i.Os.get(e)||Ee.min();s.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),i.Os.set(e,a)}class kv{constructor(){this.activeTargetIds=nA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fk{constructor(){this.Mo=new kv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,a){}addLocalQueryTarget(e,s=!0){return s&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,s,a){this.xo[e]=s}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new kv,Promise.resolve()}handleUserChange(e,s,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mk{Oo(e){}shutdown(){}}const Cv="ConnectivityMonitor";class jv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(Cv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(Cv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let qu=null;function Rm(){return qu===null?qu=(function(){return 268435456+Math.round(2147483648*Math.random())})():qu++,"0x"+qu.toString(16)}const rm="RestConnection",pk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const s=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=s+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===cd?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,s,a,o,u){const m=Rm(),b=this.zo(e,s.toUriEncodedString());ce(rm,`Sending RPC '${e}' ${m}:`,b,a);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(b),_=hl(y);return this.Jo(e,b,g,a,_).then((N=>(ce(rm,`Received RPC '${e}' ${m}: `,N),N)),(N=>{throw rl(rm,`RPC '${e}' ${m} failed with error: `,N,"url: ",b,"request:",a),N}))}Ho(e,s,a,o,u,m){return this.Go(e,s,a,o,u)}jo(e,s,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}zo(e,s){const a=pk[e];return`${this.Uo}/v1/${s}:${a}`}terminate(){}}class yk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class bk extends gk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,s,a,o,u){const m=Rm();return new Promise(((b,g)=>{const y=new Xx;y.setWithCredentials(!0),y.listenOnce(Zx.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Qu.NO_ERROR:const N=y.getResponseJson();ce(Xt,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(N)),b(N);break;case Qu.TIMEOUT:ce(Xt,`RPC '${e}' ${m} timed out`),g(new oe(te.DEADLINE_EXCEEDED,"Request time out"));break;case Qu.HTTP_ERROR:const k=y.getStatus();if(ce(Xt,`RPC '${e}' ${m} failed with status:`,k,"response text:",y.getResponseText()),k>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const Z=q?.error;if(Z&&Z.status&&Z.message){const z=(function($){const T=$.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(T)>=0?T:te.UNKNOWN})(Z.status);g(new oe(z,Z.message))}else g(new oe(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new oe(te.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:m,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ce(Xt,`RPC '${e}' ${m} completed.`)}}));const _=JSON.stringify(o);ce(Xt,`RPC '${e}' ${m} sending request:`,o),y.send(s,"POST",_,a,15)}))}T_(e,s,a){const o=Rm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=e_(),b=Wx(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,s,a),g.encodeInitMessageHeaders=!0;const _=u.join("");ce(Xt,`Creating RPC '${e}' stream ${o}: ${_}`,g);const N=m.createWebChannel(_,g);this.I_(N);let k=!1,q=!1;const Z=new yk({Yo:D=>{q?ce(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,D):(k||(ce(Xt,`Opening RPC '${e}' stream ${o} transport.`),N.open(),k=!0),ce(Xt,`RPC '${e}' stream ${o} sending:`,D),N.send(D))},Zo:()=>N.close()}),z=(D,$,T)=>{D.listen($,(I=>{try{T(I)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return z(N,So.EventType.OPEN,(()=>{q||(ce(Xt,`RPC '${e}' stream ${o} transport opened.`),Z.o_())})),z(N,So.EventType.CLOSE,(()=>{q||(q=!0,ce(Xt,`RPC '${e}' stream ${o} transport closed`),Z.a_(),this.E_(N))})),z(N,So.EventType.ERROR,(D=>{q||(q=!0,rl(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,D.name,"Message:",D.message),Z.a_(new oe(te.UNAVAILABLE,"The operation could not be completed")))})),z(N,So.EventType.MESSAGE,(D=>{if(!q){const $=D.data[0];Ye(!!$,16349);const T=$,I=T?.error||T[0]?.error;if(I){ce(Xt,`RPC '${e}' stream ${o} received error:`,I);const ae=I.status;let de=(function(A){const R=At[A];if(R!==void 0)return M_(R)})(ae),ye=I.message;de===void 0&&(de=te.INTERNAL,ye="Unknown error status: "+ae+" with message "+I.message),q=!0,Z.a_(new oe(de,ye)),N.close()}else ce(Xt,`RPC '${e}' stream ${o} received:`,$),Z.u_($)}})),z(b,Jx.STAT_EVENT,(D=>{D.stat===bm.PROXY?ce(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):D.stat===bm.NOPROXY&&ce(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((s=>s===e))}}function lm(){return typeof document<"u"?document:null}function Dd(i){return new wA(i,!0)}class Q_{constructor(e,s,a=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=s,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const s=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,s-a);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${s} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Rv="PersistentStream";class $_{constructor(e,s,a,o,u,m,b,g){this.Mi=e,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=b,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Q_(e,s)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,s){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():s&&s.code===te.RESOURCE_EXHAUSTED?(li(s.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):s&&s.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(s)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),s=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===s&&this.G_(a,o)}),(a=>{e((()=>{const o=new oe(te.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,s){const a=this.W_(this.D_);this.stream=this.j_(e,s),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(Rv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return s=>{this.Mi.enqueueAndForget((()=>this.D_===e?s():(ce(Rv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vk extends $_{constructor(e,s,a,o,u,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,a,o,m),this.serializer=u}j_(e,s){return this.connection.T_("Listen",e,s)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const s=NA(this.serializer,e),a=(function(u){if(!("targetChange"in u))return Ee.min();const m=u.targetChange;return m.targetIds&&m.targetIds.length?Ee.min():m.readTime?js(m.readTime):Ee.min()})(e);return this.listener.H_(s,a)}Y_(e){const s={};s.database=Cm(this.serializer),s.addTarget=(function(u,m){let b;const g=m.target;if(b=Tm(g)?{documents:kA(u,g)}:{query:CA(u,g).ft},b.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){b.resumeToken=z_(u,m.resumeToken);const y=Sm(u,m.expectedCount);y!==null&&(b.expectedCount=y)}else if(m.snapshotVersion.compareTo(Ee.min())>0){b.readTime=md(u,m.snapshotVersion.toTimestamp());const y=Sm(u,m.expectedCount);y!==null&&(b.expectedCount=y)}return b})(this.serializer,e);const a=RA(this.serializer,e);a&&(s.labels=a),this.q_(s)}Z_(e){const s={};s.database=Cm(this.serializer),s.removeTarget=e,this.q_(s)}}class xk extends $_{constructor(e,s,a,o,u,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,a,o,m),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,s){return this.connection.T_("Write",e,s)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const s=AA(e.writeResults,e.commitTime),a=js(e.commitTime);return this.listener.na(a,s)}ra(){const e={};e.database=Cm(this.serializer),this.q_(e)}ea(e){const s={streamToken:this.lastStreamToken,writes:e.map((a=>SA(this.serializer,a)))};this.q_(s)}}class _k{}class wk extends _k{constructor(e,s,a,o){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,s,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Go(e,Am(s,a),o,u,m))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(te.UNKNOWN,u.toString())}))}Ho(e,s,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,b])=>this.connection.Ho(e,Am(s,a),o,m,b,u))).catch((m=>{throw m.name==="FirebaseError"?(m.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new oe(te.UNKNOWN,m.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Tk{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const s=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(li(s),this.aa=!1):ce("OnlineStateTracker",s)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ja="RemoteStore";class Ek{constructor(e,s,a,o,u){this.localStore=e,this.datastore=s,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((m=>{a.enqueueAndForget((async()=>{tr(this)&&(ce(Ja,"Restarting streams for network reachability change."),await(async function(g){const y=Se(g);y.Ea.add(4),await sc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Md(y)})(this))}))})),this.Ra=new Tk(a,o)}}async function Md(i){if(tr(i))for(const e of i.da)await e(!0)}async function sc(i){for(const e of i.da)await e(!1)}function X_(i,e){const s=Se(i);s.Ia.has(e.targetId)||(s.Ia.set(e.targetId,e),xp(s)?vp(s):bl(s).O_()&&bp(s,e))}function yp(i,e){const s=Se(i),a=bl(s);s.Ia.delete(e),a.O_()&&Z_(s,e),s.Ia.size===0&&(a.O_()?a.L_():tr(s)&&s.Ra.set("Unknown"))}function bp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const s=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}bl(i).Y_(e)}function Z_(i,e){i.Va.Ue(e),bl(i).Z_(e)}function vp(i){i.Va=new bA({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),bl(i).start(),i.Ra.ua()}function xp(i){return tr(i)&&!bl(i).x_()&&i.Ia.size>0}function tr(i){return Se(i).Ea.size===0}function J_(i){i.Va=void 0}async function Nk(i){i.Ra.set("Online")}async function Sk(i){i.Ia.forEach(((e,s)=>{bp(i,e)}))}async function Ak(i,e){J_(i),xp(i)?(i.Ra.ha(e),vp(i)):i.Ra.set("Unknown")}async function kk(i,e,s){if(i.Ra.set("Online"),e instanceof V_&&e.state===2&&e.cause)try{await(async function(o,u){const m=u.cause;for(const b of u.targetIds)o.Ia.has(b)&&(await o.remoteSyncer.rejectListen(b,m),o.Ia.delete(b),o.Va.removeTarget(b))})(i,e)}catch(a){ce(Ja,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await gd(i,a)}else if(e instanceof Ju?i.Va.Ze(e):e instanceof O_?i.Va.st(e):i.Va.tt(e),!s.isEqual(Ee.min()))try{const a=await Y_(i.localStore);s.compareTo(a)>=0&&await(function(u,m){const b=u.Va.Tt(m);return b.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const _=u.Ia.get(y);_&&u.Ia.set(y,_.withResumeToken(g.resumeToken,m))}})),b.targetMismatches.forEach(((g,y)=>{const _=u.Ia.get(g);if(!_)return;u.Ia.set(g,_.withResumeToken(Qt.EMPTY_BYTE_STRING,_.snapshotVersion)),Z_(u,g);const N=new Xi(_.target,g,y,_.sequenceNumber);bp(u,N)})),u.remoteSyncer.applyRemoteEvent(b)})(i,s)}catch(a){ce(Ja,"Failed to raise snapshot:",a),await gd(i,a)}}async function gd(i,e,s){if(!yl(e))throw e;i.Ea.add(1),await sc(i),i.Ra.set("Offline"),s||(s=()=>Y_(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ce(Ja,"Retrying IndexedDB access"),await s(),i.Ea.delete(1),await Md(i)}))}function W_(i,e){return e().catch((s=>gd(i,s,e)))}async function Od(i){const e=Se(i),s=la(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:np;for(;Ck(e);)try{const o=await uk(e.localStore,a);if(o===null){e.Ta.length===0&&s.L_();break}a=o.batchId,jk(e,o)}catch(o){await gd(e,o)}e1(e)&&t1(e)}function Ck(i){return tr(i)&&i.Ta.length<10}function jk(i,e){i.Ta.push(e);const s=la(i);s.O_()&&s.X_&&s.ea(e.mutations)}function e1(i){return tr(i)&&!la(i).x_()&&i.Ta.length>0}function t1(i){la(i).start()}async function Rk(i){la(i).ra()}async function Ik(i){const e=la(i);for(const s of i.Ta)e.ea(s.mutations)}async function Dk(i,e,s){const a=i.Ta.shift(),o=up.from(a,e,s);await W_(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Od(i)}async function Mk(i,e){e&&la(i).X_&&await(async function(a,o){if((function(m){return pA(m)&&m!==te.ABORTED})(o.code)){const u=a.Ta.shift();la(a).B_(),await W_(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Od(a)}})(i,e),e1(i)&&t1(i)}async function Iv(i,e){const s=Se(i);s.asyncQueue.verifyOperationInProgress(),ce(Ja,"RemoteStore received new credentials");const a=tr(s);s.Ea.add(3),await sc(s),a&&s.Ra.set("Unknown"),await s.remoteSyncer.handleCredentialChange(e),s.Ea.delete(3),await Md(s)}async function Ok(i,e){const s=Se(i);e?(s.Ea.delete(2),await Md(s)):e||(s.Ea.add(2),await sc(s),s.Ra.set("Unknown"))}function bl(i){return i.ma||(i.ma=(function(s,a,o){const u=Se(s);return u.sa(),new vk(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:Nk.bind(null,i),t_:Sk.bind(null,i),r_:Ak.bind(null,i),H_:kk.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),xp(i)?vp(i):i.Ra.set("Unknown")):(await i.ma.stop(),J_(i))}))),i.ma}function la(i){return i.fa||(i.fa=(function(s,a,o){const u=Se(s);return u.sa(),new xk(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:Rk.bind(null,i),r_:Mk.bind(null,i),ta:Ik.bind(null,i),na:Dk.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Od(i)):(await i.fa.stop(),i.Ta.length>0&&(ce(Ja,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class _p{constructor(e,s,a,o,u){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,s,a,o,u){const m=Date.now()+a,b=new _p(e,s,m,o,u);return b.start(a),b}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wp(i,e){if(li("AsyncQueue",`${e}: ${i}`),yl(i))return new oe(te.UNAVAILABLE,`${e}: ${i}`);throw i}class il{static emptySet(e){return new il(e.comparator)}constructor(e){this.comparator=e?(s,a)=>e(s,a)||ge.comparator(s.key,a.key):(s,a)=>ge.comparator(s.key,a.key),this.keyedMap=Ao(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((s,a)=>(e(s),!1)))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof il)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;s.hasNext();){const o=s.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((s=>{e.push(s.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,s){const a=new il;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=s,a}}class Dv{constructor(){this.ga=new ut(ge.comparator)}track(e){const s=e.doc.key,a=this.ga.get(s);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(s,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(s,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(s,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(s):e.type===1&&a.type===2?this.ga=this.ga.insert(s,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(s,e)}ya(){const e=[];return this.ga.inorderTraversal(((s,a)=>{e.push(a)})),e}}class dl{constructor(e,s,a,o,u,m,b,g,y){this.query=e,this.docs=s,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=m,this.syncStateChanged=b,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,s,a,o,u){const m=[];return s.forEach((b=>{m.push({type:0,doc:b})})),new dl(e,s,il.emptySet(s),m,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,a=e.docChanges;if(s.length!==a.length)return!1;for(let o=0;o<s.length;o++)if(s[o].type!==a[o].type||!s[o].doc.isEqual(a[o].doc))return!1;return!0}}class Vk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class zk{constructor(){this.queries=Mv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,a){const o=Se(s),u=o.queries;o.queries=Mv(),u.forEach(((m,b)=>{for(const g of b.Sa)g.onError(a)}))})(this,new oe(te.ABORTED,"Firestore shutting down"))}}function Mv(){return new er((i=>w_(i)),kd)}async function n1(i,e){const s=Se(i);let a=3;const o=e.query;let u=s.queries.get(o);u?!u.ba()&&e.Da()&&(a=2):(u=new Vk,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await s.onListen(o,!0);break;case 1:u.wa=await s.onListen(o,!1);break;case 2:await s.onFirstRemoteStoreListen(o)}}catch(m){const b=wp(m,`Initialization of query '${Xr(e.query)}' failed`);return void e.onError(b)}s.queries.set(o,u),u.Sa.push(e),e.va(s.onlineState),u.wa&&e.Fa(u.wa)&&Tp(s)}async function s1(i,e){const s=Se(i),a=e.query;let o=3;const u=s.queries.get(a);if(u){const m=u.Sa.indexOf(e);m>=0&&(u.Sa.splice(m,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return s.queries.delete(a),s.onUnlisten(a,!0);case 1:return s.queries.delete(a),s.onUnlisten(a,!1);case 2:return s.onLastRemoteStoreUnlisten(a);default:return}}function Lk(i,e){const s=Se(i);let a=!1;for(const o of e){const u=o.query,m=s.queries.get(u);if(m){for(const b of m.Sa)b.Fa(o)&&(a=!0);m.wa=o}}a&&Tp(s)}function Uk(i,e,s){const a=Se(i),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(s);a.queries.delete(e)}function Tp(i){i.Ca.forEach((e=>{e.next()}))}var Im,Ov;(Ov=Im||(Im={})).Ma="default",Ov.Cache="cache";class i1{constructor(e,s,a){this.query=e,this.xa=s,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new dl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),s=!0):this.La(e,this.onlineState)&&(this.ka(e),s=!0),this.Na=e,s}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let s=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),s=!0),s}La(e,s){if(!e.fromCache||!this.Da())return!0;const a=s!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||s==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const s=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ka(e){e=dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Im.Cache}}class a1{constructor(e){this.key=e}}class r1{constructor(e){this.key=e}}class Pk{constructor(e,s){this.query=e,this.Ya=s,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=T_(e),this.tu=new il(this.eu)}get nu(){return this.Ya}ru(e,s){const a=s?s.iu:new Dv,o=s?s.tu:this.tu;let u=s?s.mutatedKeys:this.mutatedKeys,m=o,b=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,N)=>{const k=o.get(_),q=Cd(this.query,N)?N:null,Z=!!k&&this.mutatedKeys.has(k.key),z=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let D=!1;k&&q?k.data.isEqual(q.data)?Z!==z&&(a.track({type:3,doc:q}),D=!0):this.su(k,q)||(a.track({type:2,doc:q}),D=!0,(g&&this.eu(q,g)>0||y&&this.eu(q,y)<0)&&(b=!0)):!k&&q?(a.track({type:0,doc:q}),D=!0):k&&!q&&(a.track({type:1,doc:k}),D=!0,(g||y)&&(b=!0)),D&&(q?(m=m.add(q),u=z?u.add(_):u.delete(_)):(m=m.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;m.size>this.query.limit;){const _=this.query.limitType==="F"?m.last():m.first();m=m.delete(_.key),u=u.delete(_.key),a.track({type:1,doc:_})}return{tu:m,iu:a,Cs:b,mutatedKeys:u}}su(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const m=e.iu.ya();m.sort(((_,N)=>(function(q,Z){const z=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:D})}};return z(q)-z(Z)})(_.type,N.type)||this.eu(_.doc,N.doc))),this.ou(a),o=o??!1;const b=s&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,m.length!==0||y?{snapshot:new dl(this.query,e.tu,u,m,e.mutatedKeys,g===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Dv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((s=>this.Ya=this.Ya.add(s))),e.modifiedDocuments.forEach((s=>{})),e.removedDocuments.forEach((s=>this.Ya=this.Ya.delete(s))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const s=[];return e.forEach((a=>{this.Xa.has(a)||s.push(new r1(a))})),this.Xa.forEach((a=>{e.has(a)||s.push(new a1(a))})),s}cu(e){this.Ya=e.Qs,this.Xa=ze();const s=this.ru(e.documents);return this.applyChanges(s,!0)}lu(){return dl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ep="SyncEngine";class Bk{constructor(e,s,a){this.query=e,this.targetId=s,this.view=a}}class qk{constructor(e){this.key=e,this.hu=!1}}class Hk{constructor(e,s,a,o,u,m){this.localStore=e,this.remoteStore=s,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new er((b=>w_(b)),kd),this.Iu=new Map,this.Eu=new Set,this.du=new ut(ge.comparator),this.Au=new Map,this.Ru=new fp,this.Vu={},this.mu=new Map,this.fu=ul.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Fk(i,e,s=!0){const a=h1(i);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await l1(a,e,s,!0),o}async function Gk(i,e){const s=h1(i);await l1(s,e,!0,!1)}async function l1(i,e,s,a){const o=await dk(i.localStore,Cs(e)),u=o.targetId,m=i.sharedClientState.addLocalQueryTarget(u,s);let b;return a&&(b=await Kk(i,e,u,m==="current",o.resumeToken)),i.isPrimaryClient&&s&&X_(i.remoteStore,o),b}async function Kk(i,e,s,a,o){i.pu=(N,k,q)=>(async function(z,D,$,T){let I=D.view.ru($);I.Cs&&(I=await Av(z.localStore,D.query,!1).then((({documents:j})=>D.view.ru(j,I))));const ae=T&&T.targetChanges.get(D.targetId),de=T&&T.targetMismatches.get(D.targetId)!=null,ye=D.view.applyChanges(I,z.isPrimaryClient,ae,de);return zv(z,D.targetId,ye.au),ye.snapshot})(i,N,k,q);const u=await Av(i.localStore,e,!0),m=new Pk(e,u.Qs),b=m.ru(u.documents),g=nc.createSynthesizedTargetChangeForCurrentChange(s,a&&i.onlineState!=="Offline",o),y=m.applyChanges(b,i.isPrimaryClient,g);zv(i,s,y.au);const _=new Bk(e,s,m);return i.Tu.set(e,_),i.Iu.has(s)?i.Iu.get(s).push(e):i.Iu.set(s,[e]),y.snapshot}async function Yk(i,e,s){const a=Se(i),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((m=>!kd(m,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await jm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),s&&yp(a.remoteStore,o.targetId),Dm(a,o.targetId)})).catch(gl)):(Dm(a,o.targetId),await jm(a.localStore,o.targetId,!0))}async function Qk(i,e){const s=Se(i),a=s.Tu.get(e),o=s.Iu.get(a.targetId);s.isPrimaryClient&&o.length===1&&(s.sharedClientState.removeLocalQueryTarget(a.targetId),yp(s.remoteStore,a.targetId))}async function $k(i,e,s){const a=nC(i);try{const o=await(function(m,b){const g=Se(m),y=rt.now(),_=b.reduce(((q,Z)=>q.add(Z.key)),ze());let N,k;return g.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let Z=oi(),z=ze();return g.Ns.getEntries(q,_).next((D=>{Z=D,Z.forEach((($,T)=>{T.isValidDocument()||(z=z.add($))}))})).next((()=>g.localDocuments.getOverlayedDocuments(q,Z))).next((D=>{N=D;const $=[];for(const T of b){const I=uA(T,N.get(T.key).overlayedDocument);I!=null&&$.push(new ua(T.key,I,m_(I.value.mapValue),es.exists(!0)))}return g.mutationQueue.addMutationBatch(q,y,$,b)})).next((D=>{k=D;const $=D.applyToLocalDocumentSet(N,z);return g.documentOverlayCache.saveOverlays(q,D.batchId,$)}))})).then((()=>({batchId:k.batchId,changes:N_(N)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(m,b,g){let y=m.Vu[m.currentUser.toKey()];y||(y=new ut(Ve)),y=y.insert(b,g),m.Vu[m.currentUser.toKey()]=y})(a,o.batchId,s),await ic(a,o.changes),await Od(a.remoteStore)}catch(o){const u=wp(o,"Failed to persist write");s.reject(u)}}async function o1(i,e){const s=Se(i);try{const a=await ok(s.localStore,e);e.targetChanges.forEach(((o,u)=>{const m=s.Au.get(u);m&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?m.hu=!0:o.modifiedDocuments.size>0?Ye(m.hu,14607):o.removedDocuments.size>0&&(Ye(m.hu,42227),m.hu=!1))})),await ic(s,a,e)}catch(a){await gl(a)}}function Vv(i,e,s){const a=Se(i);if(a.isPrimaryClient&&s===0||!a.isPrimaryClient&&s===1){const o=[];a.Tu.forEach(((u,m)=>{const b=m.view.va(e);b.snapshot&&o.push(b.snapshot)})),(function(m,b){const g=Se(m);g.onlineState=b;let y=!1;g.queries.forEach(((_,N)=>{for(const k of N.Sa)k.va(b)&&(y=!0)})),y&&Tp(g)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function Xk(i,e,s){const a=Se(i);a.sharedClientState.updateQueryState(e,"rejected",s);const o=a.Au.get(e),u=o&&o.key;if(u){let m=new ut(ge.comparator);m=m.insert(u,Jt.newNoDocument(u,Ee.min()));const b=ze().add(u),g=new Id(Ee.min(),new Map,new ut(Ve),m,b);await o1(a,g),a.du=a.du.remove(u),a.Au.delete(e),Np(a)}else await jm(a.localStore,e,!1).then((()=>Dm(a,e,s))).catch(gl)}async function Zk(i,e){const s=Se(i),a=e.batch.batchId;try{const o=await lk(s.localStore,e);u1(s,a,null),c1(s,a),s.sharedClientState.updateMutationState(a,"acknowledged"),await ic(s,o)}catch(o){await gl(o)}}async function Jk(i,e,s){const a=Se(i);try{const o=await(function(m,b){const g=Se(m);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return g.mutationQueue.lookupMutationBatch(y,b).next((N=>(Ye(N!==null,37113),_=N.keys(),g.mutationQueue.removeMutationBatch(y,N)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,_,b))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>g.localDocuments.getDocuments(y,_)))}))})(a.localStore,e);u1(a,e,s),c1(a,e),a.sharedClientState.updateMutationState(e,"rejected",s),await ic(a,o)}catch(o){await gl(o)}}function c1(i,e){(i.mu.get(e)||[]).forEach((s=>{s.resolve()})),i.mu.delete(e)}function u1(i,e,s){const a=Se(i);let o=a.Vu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(s?u.reject(s):u.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Dm(i,e,s=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Iu.get(e))i.Tu.delete(a),s&&i.Pu.yu(a,s);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((a=>{i.Ru.containsKey(a)||d1(i,a)}))}function d1(i,e){i.Eu.delete(e.path.canonicalString());const s=i.du.get(e);s!==null&&(yp(i.remoteStore,s),i.du=i.du.remove(e),i.Au.delete(s),Np(i))}function zv(i,e,s){for(const a of s)a instanceof a1?(i.Ru.addReference(a.key,e),Wk(i,a)):a instanceof r1?(ce(Ep,"Document no longer in limbo: "+a.key),i.Ru.removeReference(a.key,e),i.Ru.containsKey(a.key)||d1(i,a.key)):_e(19791,{wu:a})}function Wk(i,e){const s=e.key,a=s.path.canonicalString();i.du.get(s)||i.Eu.has(a)||(ce(Ep,"New document in limbo: "+s),i.Eu.add(a),Np(i))}function Np(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const s=new ge(st.fromString(e)),a=i.fu.next();i.Au.set(a,new qk(s)),i.du=i.du.insert(s,a),X_(i.remoteStore,new Xi(Cs(lp(s.path)),a,"TargetPurposeLimboResolution",Nd.ce))}}async function ic(i,e,s){const a=Se(i),o=[],u=[],m=[];a.Tu.isEmpty()||(a.Tu.forEach(((b,g)=>{m.push(a.pu(g,e,s).then((y=>{if((y||s)&&a.isPrimaryClient){const _=y?!y.fromCache:s?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(y){o.push(y);const _=pp.As(g.targetId,y);u.push(_)}})))})),await Promise.all(m),a.Pu.H_(o),await(async function(g,y){const _=Se(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(N=>ne.forEach(y,(k=>ne.forEach(k.Es,(q=>_.persistence.referenceDelegate.addReference(N,k.targetId,q))).next((()=>ne.forEach(k.ds,(q=>_.persistence.referenceDelegate.removeReference(N,k.targetId,q)))))))))}catch(N){if(!yl(N))throw N;ce(gp,"Failed to update sequence numbers: "+N)}for(const N of y){const k=N.targetId;if(!N.fromCache){const q=_.Ms.get(k),Z=q.snapshotVersion,z=q.withLastLimboFreeSnapshotVersion(Z);_.Ms=_.Ms.insert(k,z)}}})(a.localStore,u))}async function eC(i,e){const s=Se(i);if(!s.currentUser.isEqual(e)){ce(Ep,"User change. New user:",e.toKey());const a=await K_(s.localStore,e);s.currentUser=e,(function(u,m){u.mu.forEach((b=>{b.forEach((g=>{g.reject(new oe(te.CANCELLED,m))}))})),u.mu.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await ic(s,a.Ls)}}function tC(i,e){const s=Se(i),a=s.Au.get(e);if(a&&a.hu)return ze().add(a.key);{let o=ze();const u=s.Iu.get(e);if(!u)return o;for(const m of u){const b=s.Tu.get(m);o=o.unionWith(b.view.nu)}return o}}function h1(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=o1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xk.bind(null,e),e.Pu.H_=Lk.bind(null,e.eventManager),e.Pu.yu=Uk.bind(null,e.eventManager),e}function nC(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jk.bind(null,e),e}class yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,s){return null}Mu(e,s){return null}vu(e){return rk(this.persistence,new sk,e.initialUser,this.serializer)}Cu(e){return new G_(mp.mi,this.serializer)}Du(e){return new fk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yd.provider={build:()=>new yd};class sC extends yd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,s){Ye(this.persistence.referenceDelegate instanceof pd,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new qA(a,e.asyncQueue,s)}Cu(e){const s=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new G_((a=>pd.mi(a,s)),this.serializer)}}class Mm{async initialize(e,s){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Vv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=eC.bind(null,this.syncEngine),await Ok(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new zk})()}createDatastore(e){const s=Dd(e.databaseInfo.databaseId),a=(function(u){return new bk(u)})(e.databaseInfo);return(function(u,m,b,g){return new wk(u,m,b,g)})(e.authCredentials,e.appCheckCredentials,a,s)}createRemoteStore(e){return(function(a,o,u,m,b){return new Ek(a,o,u,m,b)})(this.localStore,this.datastore,e.asyncQueue,(s=>Vv(this.syncEngine,s,0)),(function(){return jv.v()?new jv:new mk})())}createSyncEngine(e,s){return(function(o,u,m,b,g,y,_){const N=new Hk(o,u,m,b,g,y);return _&&(N.gu=!0),N})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}async terminate(){await(async function(s){const a=Se(s);ce(Ja,"RemoteStore shutting down."),a.Ea.add(5),await sc(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Mm.provider={build:()=>new Mm};class f1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,s){setTimeout((()=>{this.muted||e(s)}),0)}}const oa="FirestoreClient";class iC{constructor(e,s,a,o,u){this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=a,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async m=>{ce(oa,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(a,(m=>(ce(oa,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(s){const a=wp(s,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function om(i,e){i.asyncQueue.verifyOperationInProgress(),ce(oa,"Initializing OfflineComponentProvider");const s=i.configuration;await e.initialize(s);let a=s.initialUser;i.setCredentialChangeListener((async o=>{a.isEqual(o)||(await K_(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Lv(i,e){i.asyncQueue.verifyOperationInProgress();const s=await aC(i);ce(oa,"Initializing OnlineComponentProvider"),await e.initialize(s,i.configuration),i.setCredentialChangeListener((a=>Iv(e.remoteStore,a))),i.setAppCheckTokenChangeListener(((a,o)=>Iv(e.remoteStore,o))),i._onlineComponents=e}async function aC(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(oa,"Using user provided OfflineComponentProvider");try{await om(i,i._uninitializedComponentsProvider._offline)}catch(e){const s=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(s))throw s;rl("Error using user provided cache. Falling back to memory cache: "+s),await om(i,new yd)}}else ce(oa,"Using default OfflineComponentProvider"),await om(i,new sC(void 0));return i._offlineComponents}async function m1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(oa,"Using user provided OnlineComponentProvider"),await Lv(i,i._uninitializedComponentsProvider._online)):(ce(oa,"Using default OnlineComponentProvider"),await Lv(i,new Mm))),i._onlineComponents}function rC(i){return m1(i).then((e=>e.syncEngine))}async function Om(i){const e=await m1(i),s=e.eventManager;return s.onListen=Fk.bind(null,e.syncEngine),s.onUnlisten=Yk.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=Gk.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=Qk.bind(null,e.syncEngine),s}function lC(i,e,s={}){const a=new ta;return i.asyncQueue.enqueueAndForget((async()=>(function(u,m,b,g,y){const _=new f1({next:k=>{_.Nu(),m.enqueueAndForget((()=>s1(u,N))),k.fromCache&&g.source==="server"?y.reject(new oe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(k)},error:k=>y.reject(k)}),N=new i1(b,_,{includeMetadataChanges:!0,qa:!0});return n1(u,N)})(await Om(i),i.asyncQueue,e,s,a))),a.promise}function p1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const Uv=new Map;const g1="firestore.googleapis.com",Pv=!0;class Bv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=g1,this.ssl=Pv}else this.host=e.host,this.ssl=e.ssl??Pv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=F_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PA)throw new oe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p1(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new oe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new oe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new oe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vd{constructor(e,s,a,o){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new fS;switch(a.type){case"firstParty":return new yS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new oe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const a=Uv.get(s);a&&(ce("ComponentProvider","Removing Datastore"),Uv.delete(s),a.terminate())})(this),Promise.resolve()}}function oC(i,e,s,a={}){i=ks(i,Vd);const o=hl(e),u=i._getSettings(),m={...u,emulatorOptions:i._getEmulatorOptions()},b=`${e}:${s}`;o&&(dx(`https://${b}`),hx("Firestore",!0)),u.host!==g1&&u.host!==b&&rl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:b,ssl:o,emulatorOptions:a};if(!Qa(g,m)&&(i._setSettings(g),a.mockUserToken)){let y,_;if(typeof a.mockUserToken=="string")y=a.mockUserToken,_=Zt.MOCK_USER;else{y=zT(a.mockUserToken,i._app?.options.projectId);const N=a.mockUserToken.sub||a.mockUserToken.user_id;if(!N)throw new oe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Zt(N)}i._authCredentials=new mS(new n_(y,_))}}class nr{constructor(e,s,a){this.converter=s,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new nr(this.firestore,e,this._query)}}class jt{constructor(e,s,a){this.converter=s,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,s,a){if(Wo(s,jt._jsonSchema))return new jt(e,a||null,new ge(st.fromString(s.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:Ct("string",jt._jsonSchemaVersion),referencePath:Ct("string")};class na extends nr{constructor(e,s,a){super(e,s,lp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new ge(e))}withConverter(e){return new na(this.firestore,e,this._path)}}function Hu(i,e,...s){if(i=Yt(i),s_("collection","path",e),i instanceof Vd){const a=st.fromString(e,...s);return ev(a),new na(i,null,a)}{if(!(i instanceof jt||i instanceof na))throw new oe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(st.fromString(e,...s));return ev(a),new na(i.firestore,null,a)}}function Vm(i,e,...s){if(i=Yt(i),arguments.length===1&&(e=tp.newId()),s_("doc","path",e),i instanceof Vd){const a=st.fromString(e,...s);return Wb(a),new jt(i,null,new ge(a))}{if(!(i instanceof jt||i instanceof na))throw new oe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(st.fromString(e,...s));return Wb(a),new jt(i.firestore,i instanceof na?i.converter:null,new ge(a))}}const qv="AsyncQueue";class Hv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Q_(this,"async_queue_retry"),this._c=()=>{const a=lm();a&&ce(qv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const s=lm();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const s=lm();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const s=new ta;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yl(e))throw e;ce(qv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const s=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,li("INTERNAL UNHANDLED ERROR: ",Fv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=s,s}enqueueAfterDelay(e,s,a){this.uc(),this.oc.indexOf(e)>-1&&(s=0);const o=_p.createAndSchedule(this,e,s,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:Fv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const s of this.tc)if(s.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((s,a)=>s.targetTimeMs-a.targetTimeMs));for(const s of this.tc)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const s=this.tc.indexOf(e);this.tc.splice(s,1)}}function Fv(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function Gv(i){return(function(s,a){if(typeof s!="object"||s===null)return!1;const o=s;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Wa extends Vd{constructor(e,s,a,o){super(e,s,a,o),this.type="firestore",this._queue=new Hv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hv(e),this._firestoreClient=void 0,await e}}}function Kv(i,e){const s=typeof i=="object"?i:px(),a=typeof i=="string"?i:cd,o=Gm(s,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=OT("firestore");u&&oC(o,...u)}return o}function Sp(i){if(i._terminated)throw new oe(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||cC(i),i._firestoreClient}function cC(i){const e=i._freezeSettings(),s=(function(o,u,m,b){return new MS(o,u,m,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,p1(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new iC(i._authCredentials,i._appCheckCredentials,i._queue,s,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Qt.fromBase64String(e))}catch(s){throw new oe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new Un(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wo(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ct("string",Un._jsonSchemaVersion),bytes:Ct("string")};class zd{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new oe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ld{constructor(e){this._methodName=e}}class Rs{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new oe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new oe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rs._jsonSchemaVersion}}static fromJSON(e){if(Wo(e,Rs._jsonSchema))return new Rs(e.latitude,e.longitude)}}Rs._jsonSchemaVersion="firestore/geoPoint/1.0",Rs._jsonSchema={type:Ct("string",Rs._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};class Is{constructor(e){this._values=(e||[]).map((s=>s))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Is._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wo(e,Is._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((s=>typeof s=="number")))return new Is(e.vectorValues);throw new oe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Is._jsonSchemaVersion="firestore/vectorValue/1.0",Is._jsonSchema={type:Ct("string",Is._jsonSchemaVersion),vectorValues:Ct("object")};const uC=/^__.*__$/;class dC{constructor(e,s,a){this.data=e,this.fieldMask=s,this.fieldTransforms=a}toMutation(e,s){return this.fieldMask!==null?new ua(e,this.data,this.fieldMask,s,this.fieldTransforms):new tc(e,this.data,s,this.fieldTransforms)}}class y1{constructor(e,s,a){this.data=e,this.fieldMask=s,this.fieldTransforms=a}toMutation(e,s){return new ua(e,this.data,this.fieldMask,s,this.fieldTransforms)}}function b1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:i})}}class Ap{constructor(e,s,a,o,u,m){this.settings=e,this.databaseId=s,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ap({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const s=this.path?.child(e),a=this.Vc({path:s,fc:!1});return a.gc(e),a}yc(e){const s=this.path?.child(e),a=this.Vc({path:s,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((s=>e.isPrefixOf(s)))!==void 0||this.fieldTransforms.find((s=>e.isPrefixOf(s.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(b1(this.Ac)&&uC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class hC{constructor(e,s,a){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=a||Dd(e)}Cc(e,s,a,o=!1){return new Ap({Ac:e,methodName:s,Dc:a,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kp(i){const e=i._freezeSettings(),s=Dd(i._databaseId);return new hC(i._databaseId,!!e.ignoreUndefinedProperties,s)}function fC(i,e,s,a,o,u={}){const m=i.Cc(u.merge||u.mergeFields?2:0,e,s,o);jp("Data must be an object, but it was:",m,a);const b=v1(a,m);let g,y;if(u.merge)g=new En(m.fieldMask),y=m.fieldTransforms;else if(u.mergeFields){const _=[];for(const N of u.mergeFields){const k=zm(e,N,s);if(!m.contains(k))throw new oe(te.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);_1(_,k)||_.push(k)}g=new En(_),y=m.fieldTransforms.filter((N=>g.covers(N.field)))}else g=null,y=m.fieldTransforms;return new dC(new fn(b),g,y)}class Ud extends Ld{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ud}}class Cp extends Ld{_toFieldTransform(e){return new rA(e.path,new Ho)}isEqual(e){return e instanceof Cp}}function mC(i,e,s,a){const o=i.Cc(1,e,s);jp("Data must be an object, but it was:",o,a);const u=[],m=fn.empty();ca(a,((g,y)=>{const _=Rp(e,g,s);y=Yt(y);const N=o.yc(_);if(y instanceof Ud)u.push(_);else{const k=ac(y,N);k!=null&&(u.push(_),m.set(_,k))}}));const b=new En(u);return new y1(m,b,o.fieldTransforms)}function pC(i,e,s,a,o,u){const m=i.Cc(1,e,s),b=[zm(e,a,s)],g=[o];if(u.length%2!=0)throw new oe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<u.length;k+=2)b.push(zm(e,u[k])),g.push(u[k+1]);const y=[],_=fn.empty();for(let k=b.length-1;k>=0;--k)if(!_1(y,b[k])){const q=b[k];let Z=g[k];Z=Yt(Z);const z=m.yc(q);if(Z instanceof Ud)y.push(q);else{const D=ac(Z,z);D!=null&&(y.push(q),_.set(q,D))}}const N=new En(y);return new y1(_,N,m.fieldTransforms)}function gC(i,e,s,a=!1){return ac(s,i.Cc(a?4:3,e))}function ac(i,e){if(x1(i=Yt(i)))return jp("Unsupported field value:",e,i),v1(i,e);if(i instanceof Ld)return(function(a,o){if(!b1(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const u=[];let m=0;for(const b of a){let g=ac(b,o.wc(m));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),m++}return{arrayValue:{values:u}}})(i,e)}return(function(a,o){if((a=Yt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return sA(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=rt.fromDate(a);return{timestampValue:md(o.serializer,u)}}if(a instanceof rt){const u=new rt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:md(o.serializer,u)}}if(a instanceof Rs)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Un)return{bytesValue:z_(o.serializer,a._byteString)};if(a instanceof jt){const u=o.databaseId,m=a.firestore._databaseId;if(!m.isEqual(u))throw o.Sc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:hp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Is)return(function(m,b){return{mapValue:{fields:{[h_]:{stringValue:f_},[ud]:{arrayValue:{values:m.toArray().map((y=>{if(typeof y!="number")throw b.Sc("VectorValues must only contain numeric values.");return op(b.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Ed(a)}`)})(i,e)}function v1(i,e){const s={};return r_(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(i,((a,o)=>{const u=ac(o,e.mc(a));u!=null&&(s[a]=u)})),{mapValue:{fields:s}}}function x1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof rt||i instanceof Rs||i instanceof Un||i instanceof jt||i instanceof Ld||i instanceof Is)}function jp(i,e,s){if(!x1(s)||!i_(s)){const a=Ed(s);throw a==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+a)}}function zm(i,e,s){if((e=Yt(e))instanceof zd)return e._internalPath;if(typeof e=="string")return Rp(i,e);throw bd("Field path arguments must be of type string or ",i,!1,void 0,s)}const yC=new RegExp("[~\\*/\\[\\]]");function Rp(i,e,s){if(e.search(yC)>=0)throw bd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,s);try{return new zd(...e.split("."))._internalPath}catch{throw bd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,s)}}function bd(i,e,s,a,o){const u=a&&!a.isEmpty(),m=o!==void 0;let b=`Function ${e}() called with invalid data`;s&&(b+=" (via `toFirestore()`)"),b+=". ";let g="";return(u||m)&&(g+=" (found",u&&(g+=` in field ${a}`),m&&(g+=` in document ${o}`),g+=")"),new oe(te.INVALID_ARGUMENT,b+i+g)}function _1(i,e){return i.some((s=>s.isEqual(e)))}class w1{constructor(e,s,a,o,u){this._firestore=e,this._userDataWriter=s,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field(Ip("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class bC extends w1{data(){return super.data()}}function Ip(i,e){return typeof e=="string"?Rp(i,e):e instanceof zd?e._internalPath:e._delegate._internalPath}function T1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new oe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dp{}class vC extends Dp{}function xC(i,e,...s){let a=[];e instanceof Dp&&a.push(e),a=a.concat(s),(function(u){const m=u.filter((g=>g instanceof Mp)).length,b=u.filter((g=>g instanceof Pd)).length;if(m>1||m>0&&b>0)throw new oe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)i=o._apply(i);return i}class Pd extends vC{constructor(e,s,a){super(),this._field=e,this._op=s,this._value=a,this.type="where"}static _create(e,s,a){return new Pd(e,s,a)}_apply(e){const s=this._parse(e);return E1(e._query,s),new nr(e.firestore,e.converter,Em(e._query,s))}_parse(e){const s=kp(e.firestore);return(function(u,m,b,g,y,_,N){let k;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new oe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){$v(N,_);const Z=[];for(const z of N)Z.push(Qv(g,u,z));k={arrayValue:{values:Z}}}else k=Qv(g,u,N)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||$v(N,_),k=gC(b,m,N,_==="in"||_==="not-in");return kt.create(y,_,k)})(e._query,"where",s,e.firestore._databaseId,this._field,this._op,this._value)}}function Yv(i,e,s){const a=e,o=Ip("where",i);return Pd._create(o,a,s)}class Mp extends Dp{constructor(e,s){super(),this.type=e,this._queryConstraints=s}static _create(e,s){return new Mp(e,s)}_parse(e){const s=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return s.length===1?s[0]:ts.create(s,this._getOperator())}_apply(e){const s=this._parse(e);return s.getFilters().length===0?e:((function(o,u){let m=o;const b=u.getFlattenedFilters();for(const g of b)E1(m,g),m=Em(m,g)})(e._query,s),new nr(e.firestore,e.converter,Em(e._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Qv(i,e,s){if(typeof(s=Yt(s))=="string"){if(s==="")throw new oe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__(e)&&s.indexOf("/")!==-1)throw new oe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const a=e.path.child(st.fromString(s));if(!ge.isDocumentKey(a))throw new oe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return ov(i,new ge(a))}if(s instanceof jt)return ov(i,s._key);throw new oe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ed(s)}.`)}function $v(i,e){if(!Array.isArray(i)||i.length===0)throw new oe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function E1(i,e){const s=(function(o,u){for(const m of o)for(const b of m.getFlattenedFilters())if(u.indexOf(b.op)>=0)return b.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(s!==null)throw s===e.op?new oe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${s.toString()}' filters.`)}class _C{convertValue(e,s="none"){switch(ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const a={};return ca(e,((o,u)=>{a[o]=this.convertValue(u,s)})),a}convertVectorValue(e){const s=e.fields?.[ud].arrayValue?.values?.map((a=>yt(a.doubleValue)));return new Is(s)}convertGeoPoint(e){return new Rs(yt(e.latitude),yt(e.longitude))}convertArray(e,s){return(e.values||[]).map((a=>this.convertValue(a,s)))}convertServerTimestamp(e,s){switch(s){case"previous":const a=Ad(e);return a==null?null:this.convertValue(a,s);case"estimate":return this.convertTimestamp(Po(e));default:return null}}convertTimestamp(e){const s=ia(e);return new rt(s.seconds,s.nanos)}convertDocumentKey(e,s){const a=st.fromString(e);Ye(H_(a),9688,{name:e});const o=new Bo(a.get(1),a.get(3)),u=new ge(a.popFirst(5));return o.isEqual(s)||li(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),u}}function wC(i,e,s){let a;return a=i?i.toFirestore(e):e,a}class Co{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ga extends w1{constructor(e,s,a,o,u,m){super(e,s,a,o,m),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new Wu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const a=this._document.data.field(Ip("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,s={};return s.type=Ga._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}}Ga._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ga._jsonSchema={type:Ct("string",Ga._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Wu extends Ga{data(e={}){return super.data(e)}}class Ka{constructor(e,s,a,o){this._firestore=e,this._userDataWriter=s,this._snapshot=o,this.metadata=new Co(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((s=>e.push(s))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,s){this._snapshot.docs.forEach((a=>{e.call(s,new Wu(this._firestore,this._userDataWriter,a.key,a,new Co(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new oe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let m=0;return o._snapshot.docChanges.map((b=>{const g=new Wu(o._firestore,o._userDataWriter,b.doc.key,b.doc,new Co(o._snapshot.mutatedKeys.has(b.doc.key),o._snapshot.fromCache),o.query.converter);return b.doc,{type:"added",doc:g,oldIndex:-1,newIndex:m++}}))}{let m=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((b=>u||b.type!==3)).map((b=>{const g=new Wu(o._firestore,o._userDataWriter,b.doc.key,b.doc,new Co(o._snapshot.mutatedKeys.has(b.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return b.type!==0&&(y=m.indexOf(b.doc.key),m=m.delete(b.doc.key)),b.type!==1&&(m=m.add(b.doc),_=m.indexOf(b.doc.key)),{type:TC(b.type),doc:g,oldIndex:y,newIndex:_}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ka._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=tp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(s.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function TC(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:i})}}Ka._jsonSchemaVersion="firestore/querySnapshot/1.0",Ka._jsonSchema={type:Ct("string",Ka._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Op extends _C{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,s)}}function Xv(i){i=ks(i,nr);const e=ks(i.firestore,Wa),s=Sp(e),a=new Op(e);return T1(i._query),lC(s,i._query).then((o=>new Ka(e,a,i,o)))}function EC(i,e,s,...a){i=ks(i,jt);const o=ks(i.firestore,Wa),u=kp(o);let m;return m=typeof(e=Yt(e))=="string"||e instanceof zd?pC(u,"updateDoc",i._key,e,s,a):mC(u,"updateDoc",i._key,e),Vp(o,[m.toMutation(i._key,es.exists(!0))])}function Zv(i){return Vp(ks(i.firestore,Wa),[new cp(i._key,es.none())])}function NC(i,e){const s=ks(i.firestore,Wa),a=Vm(i),o=wC(i.converter,e);return Vp(s,[fC(kp(i.firestore),"addDoc",a._key,o,i.converter!==null,{}).toMutation(a._key,es.exists(!1))]).then((()=>a))}function Tn(i,...e){i=Yt(i);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Gv(e[a])||(s=e[a++]);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Gv(e[a])){const g=e[a];e[a]=g.next?.bind(g),e[a+1]=g.error?.bind(g),e[a+2]=g.complete?.bind(g)}let u,m,b;if(i instanceof jt)m=ks(i.firestore,Wa),b=lp(i._key.path),u={next:g=>{e[a]&&e[a](SC(m,i,g))},error:e[a+1],complete:e[a+2]};else{const g=ks(i,nr);m=ks(g.firestore,Wa),b=g._query;const y=new Op(m);u={next:_=>{e[a]&&e[a](new Ka(m,y,g,_))},error:e[a+1],complete:e[a+2]},T1(i._query)}return(function(y,_,N,k){const q=new f1(k),Z=new i1(_,q,N);return y.asyncQueue.enqueueAndForget((async()=>n1(await Om(y),Z))),()=>{q.Nu(),y.asyncQueue.enqueueAndForget((async()=>s1(await Om(y),Z)))}})(Sp(m),b,o,u)}function Vp(i,e){return(function(a,o){const u=new ta;return a.asyncQueue.enqueueAndForget((async()=>$k(await rC(a),o,u))),u.promise})(Sp(i),e)}function SC(i,e,s){const a=s.docs.get(e._key),o=new Op(i);return new Ga(i,o,e._key,a,new Co(s.hasPendingWrites,s.fromCache),e.converter)}function Pn(){return new Cp("serverTimestamp")}(function(e,s=!0){(function(o){pl=o})(fl),al(new $a("firestore",((a,{instanceIdentifier:o,options:u})=>{const m=a.getProvider("app").getImmediate(),b=new Wa(new pS(a.getProvider("auth-internal")),new bS(m,a.getProvider("app-check-internal")),(function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new oe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bo(y.options.projectId,_)})(m,o),m);return u={useFetchStreams:s,...u},b._setSettings(u),b}),"PUBLIC").setMultipleInstances(!0)),Wi($b,Xb,e),Wi($b,Xb,"esm2020")})();const AC=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kC=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,a)=>a?a.toUpperCase():s.toLowerCase()),Jv=i=>{const e=kC(i);return e.charAt(0).toUpperCase()+e.slice(1)},N1=(...i)=>i.filter((e,s,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===s).join(" ").trim(),CC=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var jC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const RC=le.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:m,...b},g)=>le.createElement("svg",{ref:g,...jC,width:e,height:e,stroke:i,strokeWidth:a?Number(s)*24/Number(e):s,className:N1("lucide",o),...!u&&!CC(b)&&{"aria-hidden":"true"},...b},[...m.map(([y,_])=>le.createElement(y,_)),...Array.isArray(u)?u:[u]]));const me=(i,e)=>{const s=le.forwardRef(({className:a,...o},u)=>le.createElement(RC,{ref:u,iconNode:e,className:N1(`lucide-${AC(Jv(i))}`,`lucide-${i}`,a),...o}));return s.displayName=Jv(i),s};const IC=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],DC=me("activity",IC);const MC=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],vd=me("archive",MC);const OC=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],zp=me("arrow-down-right",OC);const VC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Vo=me("arrow-right",VC);const zC=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],LC=me("arrow-up-right",zC);const UC=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],S1=me("banknote",UC);const PC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],BC=me("book-open",PC);const qC=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],A1=me("box",qC);const HC=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Wv=me("calculator",HC);const FC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],k1=me("calendar",FC);const GC=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],KC=me("chart-pie",GC);const YC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Bd=me("check",YC);const QC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}],["path",{d:"M16 12H8",key:"1fr5h0"}]],qd=me("circle-arrow-left",QC);const $C=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],XC=me("circle-check-big",$C);const ZC=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],JC=me("clipboard-list",ZC);const WC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],C1=me("clock",WC);const ej=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],rc=me("coins",ej);const tj=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],nj=me("credit-card",tj);const sj=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ij=me("external-link",sj);const aj=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Lp=me("file-spreadsheet",aj);const rj=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],j1=me("funnel",rj);const lj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],R1=me("globe",lj);const oj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],I1=me("info",oj);const cj=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ex=me("layers",cj);const uj=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Hd=me("layout-dashboard",uj);const dj=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],D1=me("link",dj);const hj=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],M1=me("list-todo",hj);const fj=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],mj=me("log-in",fj);const pj=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],gj=me("log-out",pj);const yj=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],tx=me("map-pin",yj);const bj=[["path",{d:"M5 12h14",key:"1ays0h"}]],vj=me("minus",bj);const xj=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],O1=me("moon",xj);const _j=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ya=me("package",_j);const wj=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],nx=me("palette",wj);const Tj=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Lm=me("pen-tool",Tj);const Ej=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],Nj=me("pin",Ej);const Sj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ns=me("plus",Sj);const Aj=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Um=me("printer",Aj);const kj=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],V1=me("refresh-cw",kj);const Cj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],lc=me("search",Cj);const jj=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],z1=me("settings",jj);const Rj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Up=me("shield-alert",Rj);const Ij=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Pp=me("shopping-bag",Ij);const Dj=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Fd=me("shopping-cart",Dj);const Mj=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Oj=me("sparkles",Mj);const Vj=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Pm=me("square-pen",Vj);const zj=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],L1=me("store",zj);const Lj=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Bm=me("sun",Lj);const Uj=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],sn=me("trash-2",Uj);const Pj=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["rect",{width:"3",height:"9",x:"7",y:"7",key:"14n3xi"}],["rect",{width:"3",height:"5",x:"14",y:"7",key:"s4azjd"}]],Bp=me("trello",Pj);const Bj=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],qj=me("trending-down",Bj);const Hj=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],xd=me("trending-up",Hj);const Fj=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Gd=me("triangle-alert",Fj);const Gj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Kj=me("user",Gj);const Yj=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],qp=me("wallet",Yj);const Qj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ms=me("x",Qj);class $j extends le.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){console.error("Uygulama Hatas:",e,s)}render(){return this.state.hasError?d.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-red-50 text-red-800 p-8 text-center",children:[d.jsx(Gd,{size:48,className:"mb-4"}),d.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Bir eyler ters gitti."}),d.jsx("p",{className:"mb-4",children:"Uygulama kt. Ltfen sayfay yenileyin."}),d.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-red-700",children:"Sayfay Yenile"})]}):this.props.children}}let Yr,el,Gi,Fa=!1;try{if(typeof __firebase_config<"u"&&__firebase_config){const i=JSON.parse(__firebase_config);Yr=mm(i),el=Yb(Yr),Gi=Kv(Yr),Fa=!0}else{const i={apiKey:"AIzaSyCt6qLthhCPMlQ5GYUdOQAbByb9HAlccbM",authDomain:"berilden-ede58.firebaseapp.com",projectId:"berilden-ede58",storageBucket:"berilden-ede58.firebasestorage.app",messagingSenderId:"59384339014",appId:"1:59384339014:web:ffa57c12d4b65f4b28c847",measurementId:"G-EK5M5X22JV"};i.apiKey&&i.apiKey!=="SZN_API_KEYNZ"&&(Yr=mm(i),el=Yb(Yr),Gi=Kv(Yr),Fa=!0)}}catch(i){console.error("Firebase Hatas:",i)}const Qr=typeof __app_id<"u"?__app_id:"berilden-store-v3",Fi=(i,e,s="success")=>{i({message:e,type:s}),setTimeout(()=>i(null),3e3)},Xj=({size:i,className:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),d.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),Zj=({children:i,onClose:e,title:s})=>d.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full sm:max-w-md rounded-t-2xl sm:rounded-2xl shadow-2xl flex flex-col max-h-[90vh] animate-slide-up",children:[d.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-slate-700",children:[d.jsx("h3",{className:"font-bold text-lg dark:text-white",children:s}),d.jsx("button",{onClick:e,className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:d.jsx(Ms,{size:20,className:"text-slate-500 dark:text-slate-300"})})]}),d.jsx("div",{className:"p-4 overflow-y-auto custom-scrollbar",children:i})]})}),Jj=({onLogin:i,loading:e,error:s,setError:a})=>{const[o,u]=le.useState(""),[m,b]=le.useState("");return Fa?e?d.jsx("div",{className:"h-screen flex items-center justify-center text-orange-600 font-bold animate-pulse text-xl",children:"Ykleniyor..."}):d.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-100 p-4",children:d.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-sm",children:[d.jsx("h2",{className:"text-2xl font-bold text-center text-orange-600 mb-6",children:"BerildenStore"}),d.jsxs("form",{onSubmit:g=>{g.preventDefault(),i(o,m)},children:[d.jsx("input",{className:"w-full p-3 border rounded-lg mb-4",placeholder:"Kullanc Ad",value:o,onChange:g=>u(g.target.value)}),d.jsx("input",{className:"w-full p-3 border rounded-lg mb-6",type:"password",placeholder:"ifre",value:m,onChange:g=>b(g.target.value)}),d.jsxs("button",{className:"w-full py-3 bg-orange-600 text-white rounded-lg font-bold hover:bg-orange-700 transition-colors flex items-center justify-center gap-2",children:[d.jsx(mj,{size:18})," Giri Yap"]}),s&&d.jsx("p",{className:"text-red-500 text-center mt-3 text-sm",children:s})]})]})}):d.jsxs("div",{className:"h-screen flex items-center justify-center text-red-500 font-bold p-4 text-center",children:["Veritaban Balants Yok",d.jsx("br",{}),d.jsx("span",{className:"text-sm font-normal text-slate-500",children:"Ltfen API Key ayarlarn kontrol edin."})]})},Wj=({data:i,setActiveTab:e})=>{const{items:s,orders:a,recentSales:o,markets:u,expenses:m,shoppingList:b,printers:g,printJobs:y}=i,_=o.reduce((T,I)=>T+(Number(I.totalPrice)||0),0)+u.reduce((T,I)=>T+(Number(I.totalRevenue)||0),0),N=m.reduce((T,I)=>T+(Number(I.amount)||0),0)+u.reduce((T,I)=>T+(Number(I.totalExpenses)||0),0),k=_-N,q=s.filter(T=>T.stock<3),Z=a.filter(T=>T.status==="new"||T.status==="processing"),z=b.filter(T=>!T.completed&&T.priority==="high"),D=g.filter(T=>T.status==="printing"),$=le.useMemo(()=>{const T={},I=new Date;return I.setDate(I.getDate()-30),o.forEach(ae=>{(ae.createdAt?new Date(ae.createdAt.seconds*1e3):new Date(ae.date))>=I&&(T[ae.productName]=(T[ae.productName]||0)+(Number(ae.quantity)||1))}),Object.entries(T).map(([ae,de])=>({name:ae,qty:de})).sort((ae,de)=>de.qty-ae.qty).slice(0,3)},[o]);return d.jsxs("div",{className:"space-y-6 animate-in fade-in pb-24",children:[d.jsxs("div",{className:"flex justify-between items-end",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Hd,{className:"text-orange-600"})," Kontrol Paneli"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Operasyonel durum zeti."})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase",children:"Bugn"}),d.jsx("p",{className:"text-sm font-bold dark:text-white",children:new Date().toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border dark:border-slate-700 shadow-sm relative overflow-hidden",children:[d.jsx("div",{className:"absolute right-0 top-0 p-3 opacity-5 text-orange-600",children:d.jsx(rc,{size:80})}),d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase mb-1",children:"Ciro"}),d.jsxs("p",{className:"text-2xl font-black text-slate-800 dark:text-white",children:[_,""]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border dark:border-slate-700 shadow-sm relative overflow-hidden",children:[d.jsx("div",{className:"absolute right-0 top-0 p-3 opacity-5 text-blue-600",children:d.jsx(qp,{size:80})}),d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase mb-1",children:"Net Kr"}),d.jsxs("p",{className:`text-2xl font-black ${k>=0?"text-blue-600":"text-red-500"}`,children:[k,""]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border dark:border-slate-700 shadow-sm relative overflow-hidden",children:[d.jsx("div",{className:"absolute right-0 top-0 p-3 opacity-5 text-purple-600",children:d.jsx(Bp,{size:80})}),d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase mb-1",children:"Sipari"}),d.jsx("p",{className:"text-2xl font-black text-slate-800 dark:text-white",children:Z.length}),d.jsx("p",{className:"text-[10px] text-orange-500 font-bold",children:"lem Bekliyor"})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border dark:border-slate-700 shadow-sm relative overflow-hidden",children:[d.jsx("div",{className:"absolute right-0 top-0 p-3 opacity-5 text-green-600",children:d.jsx(Um,{size:80})}),d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase mb-1",children:"Atlye"}),d.jsxs("p",{className:"text-2xl font-black text-slate-800 dark:text-white",children:[D.length," / ",g.length]}),d.jsx("p",{className:"text-[10px] text-green-500 font-bold",children:"Cihaz alyor"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-full",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm flex flex-col h-full min-h-[400px]",children:[d.jsxs("h3",{className:"font-bold text-lg mb-4 dark:text-white flex items-center gap-2",children:[d.jsx(Up,{size:20,className:"text-red-500"})," Aksiyon Merkezi"]}),d.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-3 pr-1",children:[q.length>0&&d.jsxs("div",{onClick:()=>e("inventory"),className:"p-4 bg-red-50 dark:bg-red-900/10 border border-red-100 dark:border-red-900/30 rounded-xl flex items-center gap-4 cursor-pointer hover:bg-red-100 transition-colors group",children:[d.jsx("div",{className:"bg-white dark:bg-red-900/40 p-3 rounded-xl text-red-500 shadow-sm",children:d.jsx(Gd,{size:24})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-bold text-red-700 dark:text-red-300 group-hover:underline",children:"Kritik Stok Seviyesi"}),d.jsxs("p",{className:"text-xs text-red-600/70 dark:text-red-400",children:[q.length," rn tkenmek zere."]})]}),d.jsx(Vo,{size:18,className:"text-red-400"})]}),Z.length>0&&d.jsxs("div",{onClick:()=>e("orders"),className:"p-4 bg-orange-50 dark:bg-orange-900/10 border border-orange-100 dark:border-orange-900/30 rounded-xl flex items-center gap-4 cursor-pointer hover:bg-orange-100 transition-colors group",children:[d.jsx("div",{className:"bg-white dark:bg-orange-900/40 p-3 rounded-xl text-orange-500 shadow-sm",children:d.jsx(C1,{size:24})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-bold text-orange-700 dark:text-orange-300 group-hover:underline",children:"Bekleyen Sipariler"}),d.jsxs("p",{className:"text-xs text-orange-600/70 dark:text-orange-400",children:[Z.length," sipari hazrlanmal."]})]}),d.jsx(Vo,{size:18,className:"text-orange-400"})]}),z.length>0&&d.jsxs("div",{onClick:()=>e("shopping"),className:"p-4 bg-yellow-50 dark:bg-yellow-900/10 border border-yellow-100 dark:border-yellow-900/30 rounded-xl flex items-center gap-4 cursor-pointer hover:bg-yellow-100 transition-colors group",children:[d.jsx("div",{className:"bg-white dark:bg-yellow-900/40 p-3 rounded-xl text-yellow-600 shadow-sm",children:d.jsx(Pp,{size:24})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-bold text-yellow-700 dark:text-yellow-300 group-hover:underline",children:"Acil Malzeme htiyac"}),d.jsxs("p",{className:"text-xs text-yellow-600/70 dark:text-yellow-400",children:[z.length," acil ncelikli malzeme alnmal."]})]}),d.jsx(Vo,{size:18,className:"text-yellow-400"})]}),q.length===0&&Z.length===0&&z.length===0&&d.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-400 h-full",children:[d.jsx(XC,{size:48,className:"mb-4 text-green-500 opacity-50"}),d.jsx("p",{className:"font-bold text-slate-500",children:"Harika!"}),d.jsx("p",{className:"text-sm",children:"u an acil bir durum yok."})]})]})]}),d.jsxs("div",{className:"flex flex-col gap-6",children:[d.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 text-white p-6 rounded-2xl shadow-lg relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:d.jsx(xd,{size:100})}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[d.jsx(xd,{size:20,className:"text-yellow-300"})," Son 30 Gnn Yldzlar"]}),d.jsxs("div",{className:"space-y-3",children:[$.map((T,I)=>d.jsxs("div",{className:"flex items-center gap-3 bg-white/10 p-3 rounded-xl backdrop-blur-sm border border-white/10",children:[d.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-black text-sm shadow-sm ${I===0?"bg-yellow-400 text-yellow-900":I===1?"bg-slate-300 text-slate-800":"bg-orange-300 text-orange-900"}`,children:I+1}),d.jsx("div",{className:"flex-1 min-w-0",children:d.jsx("p",{className:"font-bold text-sm truncate",children:T.name})}),d.jsxs("div",{className:"bg-white/20 px-2 py-1 rounded text-xs font-bold",children:[T.qty," Adet"]})]},I)),$.length===0&&d.jsx("p",{className:"text-sm opacity-70 text-center py-4",children:"Henz yeterli sat verisi yok."})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"font-bold text-lg dark:text-white flex items-center gap-2",children:[d.jsx(Um,{size:20,className:"text-slate-500"})," Atlye"]}),d.jsx("button",{onClick:()=>e("workshop"),className:"text-xs bg-slate-100 dark:bg-slate-700 px-3 py-1 rounded-lg hover:bg-slate-200",children:"Ynet"})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[g.slice(0,6).map(T=>d.jsxs("div",{className:`p-2 rounded-lg border flex flex-col items-center text-center transition-all ${T.status==="printing"?"bg-green-50 border-green-200":"bg-slate-50 dark:bg-slate-900 border-slate-200 dark:border-slate-700"}`,children:[d.jsx("div",{className:`w-2 h-2 rounded-full mb-1 ${T.status==="printing"?"bg-green-500 animate-pulse":T.status==="maintenance"?"bg-red-500":"bg-slate-300"}`}),d.jsx("span",{className:"text-[10px] font-bold dark:text-white truncate w-full",children:T.name})]},T.id)),g.length===0&&d.jsx("div",{className:"col-span-3 text-center text-xs text-slate-400",children:"Yazc yok."})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{onClick:()=>e("sales"),className:"bg-white dark:bg-slate-800 border dark:border-slate-700 hover:border-blue-400 p-3 rounded-xl flex flex-col items-center justify-center gap-1 transition-colors group shadow-sm",children:[d.jsx(Fd,{size:20,className:"text-slate-400 group-hover:text-blue-500"}),d.jsx("span",{className:"text-xs font-bold dark:text-white",children:"Sat Yap"})]}),d.jsxs("button",{onClick:()=>e("orders"),className:"bg-white dark:bg-slate-800 border dark:border-slate-700 hover:border-blue-400 p-3 rounded-xl flex flex-col items-center justify-center gap-1 transition-colors group shadow-sm",children:[d.jsx(ns,{size:20,className:"text-slate-400 group-hover:text-blue-500"}),d.jsx("span",{className:"text-xs font-bold dark:text-white",children:"Sipari Al"})]})]})]})]})]})},e4=({items:i,ops:e})=>{const[s,a]=le.useState(""),[o,u]=le.useState("Tm"),[m,b]=le.useState("list"),[g,y]=le.useState(!1),[_,N]=le.useState({}),k=["Tm",...new Set(i.map(T=>T.type||"Genel").filter(T=>T))],q=i.filter(T=>{const I=T.name.toLowerCase().includes(s.toLowerCase()),ae=o==="Tm"||T.type===o;return I&&ae}),Z=i.reduce((T,I)=>T+Number(I.sellPrice||0)*Number(I.stock||0),0),z=i.filter(T=>T.stock<3).length,D=()=>{_.id?e.update("inventory",_.id,_):e.add("inventory",_),y(!1)},$=(T,I)=>{const ae=Number(T.stock)+I;ae<0||e.update("inventory",T.id,{stock:ae})};return d.jsxs("div",{className:"space-y-6 animate-in fade-in pb-20",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Toplam rn"}),d.jsx("p",{className:"text-2xl font-black dark:text-white",children:i.length})]}),d.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg text-blue-600",children:d.jsx(Ya,{size:24})})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Stok Deeri"}),d.jsxs("p",{className:"text-2xl font-black text-purple-600",children:[Z,""]})]}),d.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg text-purple-600",children:d.jsx(rc,{size:24})})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Kritik Stok"}),d.jsx("p",{className:`text-2xl font-black ${z>0?"text-red-600":"text-green-600"}`,children:z})]}),d.jsx("div",{className:`p-3 rounded-lg ${z>0?"bg-red-50 text-red-600":"bg-green-50 text-green-600"}`,children:d.jsx(Gd,{size:24})})]})]}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700",children:[d.jsx("div",{className:"flex gap-2 w-full md:w-auto overflow-x-auto pb-2 md:pb-0",children:k.map(T=>d.jsx("button",{type:"button",onClick:()=>u(T),className:`px-4 py-2 rounded-lg text-sm font-bold transition-colors whitespace-nowrap ${o===T?"bg-slate-800 text-white dark:bg-white dark:text-slate-900":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-300 hover:bg-slate-200"}`,children:T},T))}),d.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(lc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),d.jsx("input",{className:"w-full pl-10 pr-4 py-2 bg-slate-100 dark:bg-slate-700 dark:text-white rounded-lg outline-none focus:ring-2 focus:ring-blue-100",placeholder:"Ara...",value:s,onChange:T=>a(T.target.value)})]}),d.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 rounded-lg p-1",children:[d.jsx("button",{type:"button",onClick:()=>b("list"),className:`p-2 rounded-md transition-all ${m==="list"?"bg-white dark:bg-slate-600 shadow-sm text-blue-600":"text-slate-400"}`,children:d.jsx(M1,{size:18})}),d.jsx("button",{type:"button",onClick:()=>b("grid"),className:`p-2 rounded-md transition-all ${m==="grid"?"bg-white dark:bg-slate-600 shadow-sm text-blue-600":"text-slate-400"}`,children:d.jsx(Hd,{size:18})})]}),d.jsxs("button",{type:"button",onClick:()=>{N({}),y(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-bold hover:bg-blue-700 transition-colors flex items-center gap-2",children:[d.jsx(ns,{size:20})," ",d.jsx("span",{className:"hidden lg:inline",children:"Ekle"})]})]})]}),m==="list"&&d.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border dark:border-slate-700 overflow-hidden shadow-sm",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 text-slate-500",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-4",children:"rn"}),d.jsx("th",{className:"p-4",children:"Kategori"}),d.jsx("th",{className:"p-4 text-center",children:"Stok Ynetimi"}),d.jsx("th",{className:"p-4 text-right",children:"Fiyat"}),d.jsx("th",{className:"p-4 text-right",children:"lem"})]})}),d.jsx("tbody",{children:q.map(T=>d.jsxs("tr",{className:"border-t dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors group",children:[d.jsxs("td",{className:"p-4 font-bold dark:text-white flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-100 dark:bg-slate-600 flex items-center justify-center overflow-hidden",children:T.imageUrl?d.jsx("img",{src:T.imageUrl,className:"w-full h-full object-cover"}):d.jsx(Ya,{className:"text-slate-400"})}),T.name]}),d.jsx("td",{className:"p-4 text-slate-500",children:d.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded text-xs",children:T.type||"Genel"})}),d.jsx("td",{className:"p-4",children:d.jsxs("div",{className:"flex items-center justify-center gap-3",children:[d.jsx("button",{type:"button",onClick:()=>$(T,-1),className:"w-6 h-6 rounded bg-slate-100 dark:bg-slate-700 hover:bg-red-100 hover:text-red-600 flex items-center justify-center font-bold text-slate-500 transition-colors",children:"-"}),d.jsx("span",{className:`w-8 text-center font-bold ${T.stock<3?"text-red-500":"dark:text-white"}`,children:T.stock}),d.jsx("button",{type:"button",onClick:()=>$(T,1),className:"w-6 h-6 rounded bg-slate-100 dark:bg-slate-700 hover:bg-green-100 hover:text-green-600 flex items-center justify-center font-bold text-slate-500 transition-colors",children:"+"})]})}),d.jsxs("td",{className:"p-4 text-right font-mono font-bold text-slate-700 dark:text-slate-300",children:[T.sellPrice,""]}),d.jsx("td",{className:"p-4 text-right",children:d.jsxs("div",{className:"flex justify-end gap-2 opacity-50 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{type:"button",onClick:()=>{N(T),y(!0)},className:"p-2 hover:bg-blue-50 text-blue-500 rounded-lg transition-colors",children:d.jsx(Pm,{size:16})}),d.jsx("button",{type:"button",onClick:()=>e.delete(T.id,"inventory"),className:"p-2 hover:bg-red-50 text-red-500 rounded-lg transition-colors",children:d.jsx(sn,{size:16})})]})})]},T.id))})]})}),m==="grid"&&d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:q.map(T=>d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border dark:border-slate-700 overflow-hidden hover:shadow-lg transition-all group relative flex flex-col",children:[d.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:[d.jsx("button",{type:"button",onClick:()=>{N(T),y(!0)},className:"p-1.5 bg-white/90 text-blue-500 rounded-lg shadow-sm",children:d.jsx(Pm,{size:14})}),d.jsx("button",{type:"button",onClick:()=>e.delete(T.id,"inventory"),className:"p-1.5 bg-white/90 text-red-500 rounded-lg shadow-sm",children:d.jsx(sn,{size:14})})]}),d.jsxs("div",{className:"aspect-square bg-slate-100 dark:bg-slate-700 flex items-center justify-center relative overflow-hidden",children:[T.imageUrl?d.jsx("img",{src:T.imageUrl,className:"w-full h-full object-cover"}):d.jsx(Ya,{size:48,className:"text-slate-300"}),T.stock<3&&d.jsx("div",{className:"absolute bottom-2 left-2 bg-red-500 text-white text-[10px] px-2 py-0.5 rounded-full font-bold shadow-sm",children:"Kritik Stok"})]}),d.jsxs("div",{className:"p-3 flex flex-col flex-1",children:[d.jsxs("div",{className:"flex justify-between items-start mb-1",children:[d.jsx("span",{className:"text-[10px] bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 rounded text-slate-500",children:T.type||"Genel"}),d.jsxs("span",{className:"font-bold text-blue-600",children:[T.sellPrice,""]})]}),d.jsx("h4",{className:"font-bold text-sm dark:text-white line-clamp-2 mb-2 flex-1",children:T.name}),d.jsxs("div",{className:"flex items-center justify-between bg-slate-50 dark:bg-slate-900/50 rounded-lg p-1",children:[d.jsx("button",{type:"button",onClick:()=>$(T,-1),className:"w-6 h-6 flex items-center justify-center hover:bg-white dark:hover:bg-slate-700 rounded text-slate-500",children:"-"}),d.jsxs("span",{className:`text-xs font-bold ${T.stock<3?"text-red-500":"dark:text-white"}`,children:[T.stock," Adet"]}),d.jsx("button",{type:"button",onClick:()=>$(T,1),className:"w-6 h-6 flex items-center justify-center hover:bg-white dark:hover:bg-slate-700 rounded text-slate-500",children:"+"})]})]})]},T.id))}),g&&d.jsx(Zj,{title:_.id?"rn Dzenle":"Yeni rn",onClose:()=>y(!1),children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("input",{className:"w-full p-4 bg-slate-50 dark:bg-slate-700 rounded-xl font-bold dark:text-white outline-none",placeholder:"rn Ad",value:_.name||"",onChange:T=>N({..._,name:T.target.value})}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"text-xs font-bold text-slate-400 ml-1 uppercase",children:"Stok"}),d.jsx("input",{type:"number",inputMode:"decimal",className:"w-full p-3 bg-slate-50 dark:bg-slate-700 rounded-xl outline-none",value:_.stock||"",onChange:T=>N({..._,stock:T.target.value})})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"text-xs font-bold text-slate-400 ml-1 uppercase",children:"Fiyat ()"}),d.jsx("input",{type:"number",inputMode:"decimal",className:"w-full p-3 bg-slate-50 dark:bg-slate-700 rounded-xl outline-none font-bold text-blue-600",value:_.sellPrice||"",onChange:T=>N({..._,sellPrice:T.target.value})})]})]}),d.jsx("input",{className:"w-full p-3 bg-slate-50 dark:bg-slate-700 rounded-xl outline-none text-sm",placeholder:"Kategori (3D, Elektronik...)",value:_.type||"",onChange:T=>N({..._,type:T.target.value})}),d.jsx("input",{className:"w-full p-3 bg-slate-50 dark:bg-slate-700 rounded-xl outline-none text-sm",placeholder:"Resim URL",value:_.imageUrl||"",onChange:T=>N({..._,imageUrl:T.target.value})}),d.jsx("div",{className:"flex gap-3 pt-2",children:d.jsx("button",{onClick:D,className:"w-full py-3 bg-blue-600 text-white rounded-xl font-bold shadow-lg shadow-blue-200 dark:shadow-none active:scale-95 transition-transform",children:"Kaydet"})})]})})]})},t4=({items:i,ops:e})=>{const[s,a]=le.useState([]),[o,u]=le.useState(""),[m,b]=le.useState("Tm"),[g,y]=le.useState(!1),[_,N]=le.useState({name:"",price:""}),k=["Tm",...new Set(i.map(I=>I.type||"Genel").filter(I=>I))],q=i.filter(I=>{const ae=I.name.toLowerCase().includes(o.toLowerCase()),de=m==="Tm"||I.type===m;return ae&&de}),Z=I=>{const ae=s.find(de=>de.id===I.id);if(ae){if(!I.isManual&&ae.qty>=I.stock)return alert("Stok yetersiz!");a(s.map(de=>de.id===I.id?{...de,qty:de.qty+1}:de))}else a([...s,{...I,qty:1}])},z=(I,ae)=>{const de=s.find(j=>j.id===I);if(!de)return;const ye=de.qty+ae;if(ye<=0){a(s.filter(j=>j.id!==I));return}if(!de.isManual&&ye>de.stock){alert("Stok snrna ulald!");return}a(s.map(j=>j.id===I?{...j,qty:ye}:j))},D=()=>{if(!_.name||!_.price)return;const I={id:`manual_${Date.now()}`,name:_.name,sellPrice:Number(_.price),stock:9999,isManual:!0,imageUrl:null};Z(I),N({name:"",price:""}),y(!1)},$=async I=>{if(s.length===0)return;const ae=s.reduce((de,ye)=>de+ye.sellPrice*ye.qty,0);await Promise.all(s.map(async de=>{de.isManual||await e.update("inventory",de.id,{stock:Number(de.stock)-de.qty}),await e.add("sales_history",{productName:de.name,quantity:de.qty,totalPrice:de.sellPrice*de.qty,unitPrice:de.sellPrice,platform:I==="Cash"?"Kasa (Nakit)":"Kasa (Kart)",date:new Date().toLocaleDateString("tr-TR"),paymentMethod:I})})),a([]),alert(`Sat Baarl! 
Toplam: ${ae} 
deme: ${I==="Cash"?"Nakit":"Kredi Kart"}`)},T=s.reduce((I,ae)=>I+ae.sellPrice*ae.qty,0);return d.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-[calc(100vh-140px)] animate-in fade-in pb-20",children:[d.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-800 rounded-2xl border dark:border-slate-700 flex flex-col overflow-hidden shadow-sm",children:[d.jsxs("div",{className:"p-4 border-b dark:border-slate-700 flex flex-col gap-4",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(lc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),d.jsx("input",{className:"w-full pl-10 pr-4 py-3 bg-slate-100 dark:bg-slate-900 dark:text-white rounded-xl outline-none focus:ring-2 focus:ring-blue-100",placeholder:"rn barkodu veya ad ara...",value:o,onChange:I=>u(I.target.value),autoFocus:!0})]}),d.jsxs("button",{type:"button",onClick:()=>y(!0),className:"bg-purple-100 text-purple-600 px-4 rounded-xl font-bold hover:bg-purple-200 transition-colors flex items-center gap-2 whitespace-nowrap",children:[d.jsx(Lm,{size:18})," ",d.jsx("span",{className:"hidden sm:inline",children:"Manuel Ekle"})]})]}),d.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 custom-scrollbar",children:k.map(I=>d.jsx("button",{type:"button",onClick:()=>b(I),className:`px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap transition-colors ${m===I?"bg-slate-800 text-white dark:bg-white dark:text-slate-900":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-300 hover:bg-slate-200"}`,children:I},I))})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar bg-slate-50 dark:bg-slate-900/50",children:d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:q.map(I=>d.jsxs("button",{type:"button",onClick:()=>Z(I),disabled:I.stock<=0,className:"bg-white dark:bg-slate-800 p-3 rounded-xl border dark:border-slate-700 hover:border-blue-500 hover:shadow-md dark:hover:border-blue-500 text-left disabled:opacity-50 disabled:cursor-not-allowed transition-all group flex flex-col h-full relative",children:[I.stock>0&&d.jsx("span",{className:"absolute top-2 right-2 bg-slate-100 dark:bg-slate-700 text-[10px] font-bold px-1.5 py-0.5 rounded text-slate-500",children:I.stock}),I.stock<=0&&d.jsx("span",{className:"absolute top-2 right-2 bg-red-100 text-red-600 text-[10px] font-bold px-1.5 py-0.5 rounded",children:"Tkendi"}),d.jsx("div",{className:"aspect-square bg-slate-100 dark:bg-slate-700 mb-3 rounded-lg flex items-center justify-center overflow-hidden",children:I.imageUrl?d.jsx("img",{src:I.imageUrl,className:"h-full w-full object-cover group-hover:scale-105 transition-transform"}):d.jsx(Ya,{className:"text-slate-300",size:32})}),d.jsx("div",{className:"font-bold text-sm text-slate-800 dark:text-white line-clamp-2 flex-1 mb-1",children:I.name}),d.jsxs("div",{className:"text-blue-600 font-black text-lg",children:[I.sellPrice,""]})]},I.id))})})]}),d.jsxs("div",{className:"w-full lg:w-96 bg-white dark:bg-slate-800 rounded-2xl border dark:border-slate-700 flex flex-col shadow-xl",children:[d.jsxs("div",{className:"p-5 border-b dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 rounded-t-2xl flex justify-between items-center",children:[d.jsxs("h3",{className:"font-black text-lg flex items-center gap-2 dark:text-white",children:[d.jsx(Pp,{className:"text-blue-600"})," Sat Sepeti"]}),s.length>0&&d.jsx("button",{type:"button",onClick:()=>a([]),className:"text-red-500 text-xs font-bold hover:bg-red-50 px-2 py-1 rounded transition-colors",children:"Sepeti Temizle"})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar",children:s.length===0?d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 opacity-50 space-y-4",children:[d.jsx(Fd,{size:64,strokeWidth:1}),d.jsx("p",{children:"Sepete rn ekleyin"})]}):s.map(I=>d.jsxs("div",{className:"flex flex-col bg-white dark:bg-slate-700 p-3 rounded-xl border border-slate-100 dark:border-slate-600 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("span",{className:"font-bold text-sm dark:text-white line-clamp-2",children:I.name}),d.jsxs("span",{className:"font-bold text-blue-600",children:[I.sellPrice*I.qty,""]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"text-xs text-slate-400",children:[I.sellPrice," / adet"]}),d.jsxs("div",{className:"flex items-center gap-3 bg-slate-100 dark:bg-slate-800 rounded-lg p-1",children:[d.jsx("button",{type:"button",onClick:()=>z(I.id,-1),className:"w-6 h-6 flex items-center justify-center hover:bg-white dark:hover:bg-slate-700 rounded text-slate-500 transition-colors",children:d.jsx(vj,{size:14})}),d.jsx("span",{className:"w-6 text-center font-bold text-sm dark:text-white",children:I.qty}),d.jsx("button",{type:"button",onClick:()=>z(I.id,1),className:"w-6 h-6 flex items-center justify-center hover:bg-white dark:hover:bg-slate-700 rounded text-slate-500 transition-colors",children:d.jsx(ns,{size:14})})]})]})]},I.id))}),d.jsxs("div",{className:"p-5 border-t dark:border-slate-700 bg-slate-50 dark:bg-slate-900/30 rounded-b-2xl",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("span",{className:"text-slate-500 font-bold",children:"TOPLAM TUTAR"}),d.jsxs("span",{className:"text-3xl font-black text-slate-800 dark:text-white",children:[T,""]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{type:"button",onClick:()=>$("Cash"),disabled:s.length===0,className:"py-4 bg-green-600 text-white rounded-xl font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:bg-green-700 transition-all flex flex-col items-center justify-center gap-1 active:scale-95",children:[d.jsx(S1,{size:24}),d.jsx("span",{children:"NAKT"})]}),d.jsxs("button",{type:"button",onClick:()=>$("Card"),disabled:s.length===0,className:"py-4 bg-blue-600 text-white rounded-xl font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-700 transition-all flex flex-col items-center justify-center gap-1 active:scale-95",children:[d.jsx(nj,{size:24}),d.jsx("span",{children:"KART"})]})]})]})]}),g&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl w-full max-w-sm shadow-2xl animate-in zoom-in-95",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("h3",{className:"font-bold text-xl dark:text-white flex items-center gap-2",children:[d.jsx(Lm,{size:20,className:"text-purple-600"})," Manuel Sat"]}),d.jsx("button",{type:"button",onClick:()=>y(!1),className:"text-slate-400 hover:text-slate-600",children:d.jsx(Ms,{})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"rn / Hizmet Ad"}),d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white outline-none focus:border-purple-500",placeholder:"rn: Hediye Paketi",value:_.name,onChange:I=>N({..._,name:I.target.value}),autoFocus:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Fiyat ()"}),d.jsx("input",{type:"number",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white outline-none focus:border-purple-500",placeholder:"0.00",value:_.price,onChange:I=>N({..._,price:I.target.value})})]}),d.jsx("button",{type:"button",onClick:D,className:"w-full py-3 bg-purple-600 text-white rounded-xl font-bold mt-2 hover:bg-purple-700 transition-colors",children:"Sepete Ekle"})]})]})})]})},n4=({orders:i,ops:e})=>{const[s,a]=le.useState(""),[o,u]=le.useState("Tm"),[m,b]=le.useState(!1),[g,y]=le.useState({}),_=["Instagram","Shopier","Dolap","Etsy","Trendyol","Hepsiburada","ieksepeti","Dier"],N=i.filter(D=>{const $=(D.customerName||"").toLowerCase().includes(s.toLowerCase())||(D.productName||"").toLowerCase().includes(s.toLowerCase()),T=o==="Tm"||D.platform===o;return $&&T}),k=N.filter(D=>D.status!=="completed"&&D.status!=="cancelled").reduce((D,$)=>D+(Number($.price)||0),0),q=()=>{const D={...g,createdAt:g.createdAt||Pn(),status:g.status||"new"};g.id?e.update("orders",g.id,D):e.add("orders",D),b(!1),y({})},Z=()=>{if(N.length===0)return alert("Listede indirilecek sipari yok.");let D=`Sipari Tarihi;Mteri Ad;Tutar;Platform;rn;Sipari No;Durum
`;N.forEach(ae=>{const ye=[ae.createdAt?.seconds?new Date(ae.createdAt.seconds*1e3).toLocaleDateString("tr-TR"):"-",`"${ae.customerName}"`,`${ae.price}`.replace(".",","),ae.platform,`"${ae.productName}"`,`"${ae.note||""}"`,ae.status==="new"?"Yeni":ae.status==="processing"?"Hazrlanyor":"Tamamland"].join(";");D+=ye+`
`});const $=new Blob(["\uFEFF"+D],{type:"text/csv;charset=utf-8;"}),T=URL.createObjectURL($),I=document.createElement("a");I.setAttribute("href",T),I.setAttribute("download",`Siparis_Listesi_${new Date().toLocaleDateString("tr-TR")}.csv`),document.body.appendChild(I),I.click(),document.body.removeChild(I)},z=D=>{switch(D){case"Trendyol":return"bg-orange-100 text-orange-600 border-orange-200";case"Hepsiburada":return"bg-orange-100 text-orange-800 border-orange-200";case"ieksepeti":return"bg-blue-100 text-blue-600 border-blue-200";case"Instagram":return"bg-pink-100 text-pink-600 border-pink-200";case"Shopier":return"bg-blue-100 text-blue-600 border-blue-200";default:return"bg-slate-100 text-slate-600 border-slate-200"}};return d.jsxs("div",{className:"space-y-6 animate-in fade-in h-[calc(100vh-140px)] flex flex-col",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[d.jsxs("div",{className:"relative flex-1 md:w-64",children:[d.jsx(lc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),d.jsx("input",{className:"w-full pl-10 pr-4 py-2 bg-slate-100 dark:bg-slate-900 dark:text-white rounded-lg outline-none focus:ring-2 focus:ring-blue-100",placeholder:"Sipari, Mteri Ara...",value:s,onChange:D=>a(D.target.value)})]}),d.jsxs("select",{className:"p-2 bg-slate-100 dark:bg-slate-900 dark:text-white rounded-lg outline-none border-none text-sm font-medium",value:o,onChange:D=>u(D.target.value),children:[d.jsx("option",{value:"Tm",children:"Tm Platformlar"}),_.map(D=>d.jsx("option",{value:D,children:D},D))]})]}),d.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto justify-between md:justify-end",children:[d.jsxs("div",{className:"text-right hidden md:block",children:[d.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Bekleyen Ciro"}),d.jsxs("p",{className:"font-bold text-lg text-blue-600",children:[k,""]})]}),d.jsxs("button",{type:"button",onClick:Z,className:"bg-green-600 text-white px-4 py-2 rounded-lg font-bold hover:bg-green-700 transition-colors flex items-center gap-2",children:[d.jsx(Lp,{size:20})," ",d.jsx("span",{className:"hidden sm:inline",children:"Excel ndir"})]}),d.jsxs("button",{type:"button",onClick:()=>{y({status:"new",platform:"Instagram"}),b(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-bold hover:bg-blue-700 transition-colors flex items-center gap-2",children:[d.jsx(ns,{size:20})," ",d.jsx("span",{className:"hidden sm:inline",children:"Manuel Ekle"})]})]})]}),d.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 flex-1 custom-scrollbar",children:["new","processing","shipped","completed"].map(D=>{const $={new:"Yeni Sipari",processing:"Hazrlanyor",shipped:"Kargoland",completed:"Tamamland"},T={new:"border-blue-200 bg-blue-50 text-blue-700",processing:"border-yellow-200 bg-yellow-50 text-yellow-700",shipped:"border-purple-200 bg-purple-50 text-purple-700",completed:"border-green-200 bg-green-50 text-green-700"};return d.jsxs("div",{className:"min-w-[300px] w-full md:w-1/4 bg-slate-50 dark:bg-slate-800/50 rounded-xl border dark:border-slate-700 flex flex-col h-full",children:[d.jsxs("div",{className:"p-3 font-bold uppercase text-xs border-b dark:border-slate-700 flex justify-between items-center rounded-t-xl bg-white dark:bg-slate-800 dark:text-white",children:[d.jsx("span",{className:`px-2 py-1 rounded border ${T[D].replace("text-","text-opacity-80 ")} bg-white`,children:$[D]}),d.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded text-slate-600 dark:text-slate-300",children:N.filter(I=>I.status===D).length})]}),d.jsxs("div",{className:"p-2 space-y-3 overflow-y-auto flex-1 custom-scrollbar",children:[N.filter(I=>I.status===D).map(I=>d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm group relative hover:shadow-md transition-all",children:[d.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white dark:bg-slate-800 p-1 rounded-lg shadow-sm z-10",children:[d.jsx("button",{type:"button",onClick:()=>{y(I),b(!0)},className:"p-1.5 hover:bg-blue-50 text-blue-500 rounded",children:d.jsx(Pm,{size:14})}),d.jsx("button",{type:"button",onClick:()=>e.delete(I.id,"orders"),className:"p-1.5 hover:bg-red-50 text-red-500 rounded",children:d.jsx(sn,{size:14})})]}),d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded border ${z(I.platform)}`,children:I.platform}),d.jsx("span",{className:"text-[10px] text-slate-400",children:I.createdAt?.seconds?new Date(I.createdAt.seconds*1e3).toLocaleDateString("tr-TR"):"-"})]}),d.jsxs("div",{className:"mb-3",children:[d.jsx("h4",{className:"font-bold text-sm text-slate-800 dark:text-white line-clamp-1",children:I.customerName}),d.jsx("p",{className:"text-xs text-slate-500 line-clamp-2 mt-0.5",children:I.productName})]}),I.note&&d.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-2 rounded-lg mb-3 border border-amber-100 dark:border-amber-800/30",children:d.jsxs("p",{className:"text-[10px] text-amber-700 dark:text-amber-400 italic flex gap-1",children:[d.jsx(I1,{size:12,className:"shrink-0 mt-0.5"})," ",I.note]})}),d.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-dashed dark:border-slate-700",children:[d.jsxs("span",{className:"font-bold text-blue-600",children:[I.price,""]}),d.jsxs("div",{className:"flex gap-1",children:[D!=="new"&&d.jsx("button",{type:"button",onClick:()=>e.update("orders",I.id,{status:D==="completed"?"shipped":D==="shipped"?"processing":"new"}),className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded text-slate-400",title:"Geri Al",children:d.jsx(qd,{size:16})}),D!=="completed"&&d.jsx("button",{type:"button",onClick:()=>e.update("orders",I.id,{status:D==="new"?"processing":D==="processing"?"shipped":"completed"}),className:"p-1.5 hover:bg-green-50 dark:hover:bg-green-900/30 rounded text-green-500",title:"lerlet",children:d.jsx(Vo,{size:16})})]})]})]},I.id)),N.filter(I=>I.status===D).length===0&&d.jsxs("div",{className:"text-center py-10 opacity-30 flex flex-col items-center",children:[d.jsx(Bp,{size:32,className:"mb-2"}),d.jsx("span",{className:"text-xs",children:"Sipari Yok"})]})]})]},D)})}),m&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl w-full max-w-md shadow-2xl animate-in zoom-in-95",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"font-bold text-xl dark:text-white",children:g.id?"Siparii Dzenle":"Yeni Sipari"}),d.jsx("button",{type:"button",onClick:()=>b(!1),children:d.jsx(Ms,{className:"text-slate-400 hover:text-slate-600"})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Mteri Ad"}),d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"Ad Soyad",value:g.customerName||"",onChange:D=>y({...g,customerName:D.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"rn / Hizmet Detay"}),d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"rn ad, renk, beden...",value:g.productName||"",onChange:D=>y({...g,productName:D.target.value})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Fiyat ()"}),d.jsx("input",{type:"number",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"0.00",value:g.price||"",onChange:D=>y({...g,price:D.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Platform"}),d.jsx("select",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:g.platform||"Instagram",onChange:D=>y({...g,platform:D.target.value}),children:_.map(D=>d.jsx("option",{value:D,children:D},D))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Sipari Notu"}),d.jsx("textarea",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white h-20 resize-none",placeholder:"Kargo notu, zel istekler...",value:g.note||"",onChange:D=>y({...g,note:D.target.value})})]}),g.id&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Stat"}),d.jsx("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-1 rounded-xl",children:["new","processing","shipped","completed"].map(D=>d.jsx("button",{type:"button",onClick:()=>y({...g,status:D}),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-colors ${g.status===D?"bg-white dark:bg-slate-600 shadow text-blue-600":"text-slate-400"}`,children:D==="new"?"Yeni":D==="processing"?"Hazr":D==="shipped"?"Kargo":"Tamam"},D))})]}),d.jsx("button",{type:"button",onClick:q,className:"w-full bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200 dark:shadow-none mt-2",children:g.id?"Deiiklikleri Kaydet":"Siparii Olutur"})]})]})})]})},s4=({todos:i,proposals:e,ideas:s,ops:a})=>{const[o,u]=le.useState("tasks"),[m,b]=le.useState(!1),[g,y]=le.useState({}),[_,N]=le.useState("all"),k=i.filter(T=>T.status==="pending").length,q=i.filter(T=>T.status==="pending"&&T.priority==="high").length,Z=e.filter(T=>T.status==="pending").length,z=i.filter(T=>_==="all"||T.priority===_),D=()=>{const T=o==="tasks"||o==="calendar"?"todos":o==="proposals"?"proposals":"ideas",I={...g,createdAt:Pn(),status:g.status||"pending",priority:g.priority||"medium"};o==="ideas"&&(I.isPinned=!1),g.id?a.update(T,g.id,I):a.add(T,I),b(!1),y({})},$=()=>{const T=Array.from({length:30},(ae,de)=>de+1),I=new Date().getDate();return d.jsx("div",{className:"grid grid-cols-7 gap-2",children:T.map(ae=>{const de=i.filter(ye=>ye.endDate&&new Date(ye.endDate).getDate()===ae&&new Date(ye.endDate).getMonth()===new Date().getMonth());return d.jsxs("div",{className:`min-h-[100px] bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-xl p-2 flex flex-col ${ae===I?"ring-2 ring-blue-500":""}`,children:[d.jsx("span",{className:`text-xs font-bold mb-1 ${ae===I?"text-blue-600":"text-slate-400"}`,children:ae}),d.jsx("div",{className:"flex-1 space-y-1 overflow-y-auto custom-scrollbar",children:de.map(ye=>d.jsx("div",{onClick:()=>{y(ye),b(!0)},className:`text-[9px] p-1 rounded border cursor-pointer truncate ${ye.priority==="high"?"bg-red-50 text-red-600 border-red-100":"bg-blue-50 text-blue-600 border-blue-100"}`,children:ye.title},ye.id))})]},ae)})})};return d.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Bekleyen Grev"}),d.jsx("p",{className:"text-2xl font-black text-slate-800 dark:text-white",children:k})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Acil ler"}),d.jsx("p",{className:"text-2xl font-black text-red-600",children:q})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Ak Teklifler"}),d.jsx("p",{className:"text-2xl font-black text-purple-600",children:Z})]}),d.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm flex items-center justify-center",children:d.jsxs("button",{type:"button",onClick:()=>{y({}),b(!0)},className:"w-full h-full bg-blue-600 text-white rounded-lg font-bold flex flex-col items-center justify-center gap-1 hover:bg-blue-700 transition-colors",children:[d.jsx(ns,{size:24}),d.jsx("span",{children:"Yeni Ekle"})]})})]}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-slate-100 dark:bg-slate-800 p-2 rounded-xl",children:[d.jsx("div",{className:"flex gap-1 bg-white dark:bg-slate-700 p-1 rounded-lg shadow-sm w-full md:w-auto overflow-x-auto",children:[{id:"tasks",label:"Grev Panosu",icon:M1},{id:"calendar",label:"Takvim",icon:k1},{id:"proposals",label:"Teklifler",icon:Lp},{id:"ideas",label:"Fikirler",icon:Oj}].map(T=>d.jsxs("button",{type:"button",onClick:()=>u(T.id),className:`px-4 py-2 rounded-md text-sm font-bold flex items-center gap-2 transition-all whitespace-nowrap ${o===T.id?"bg-slate-800 text-white dark:bg-slate-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-600 dark:text-slate-300"}`,children:[d.jsx(T.icon,{size:16})," ",T.label]},T.id))}),o==="tasks"&&d.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-500",children:[d.jsx(j1,{size:16}),d.jsxs("select",{className:"bg-transparent outline-none cursor-pointer dark:text-slate-300",value:_,onChange:T=>N(T.target.value),children:[d.jsx("option",{value:"all",children:"Tm ncelikler"}),d.jsx("option",{value:"high",children:"Yksek ncelik"}),d.jsx("option",{value:"medium",children:"Orta ncelik"}),d.jsx("option",{value:"low",children:"Dk ncelik"})]})]})]}),o==="calendar"&&$(),o==="tasks"&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 h-[calc(100vh-320px)] overflow-hidden",children:["pending","in_progress","completed"].map(T=>d.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl border dark:border-slate-700 flex flex-col h-full",children:[d.jsxs("div",{className:"p-4 border-b dark:border-slate-700 flex justify-between items-center bg-white dark:bg-slate-800 rounded-t-xl",children:[d.jsx("h4",{className:"font-bold uppercase text-xs text-slate-500",children:T==="pending"?"Yaplacak":T==="in_progress"?"Sryor":"Tamamland"}),d.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded text-xs font-bold",children:z.filter(I=>I.status===T).length})]}),d.jsx("div",{className:"p-3 space-y-3 flex-1 overflow-y-auto custom-scrollbar",children:z.filter(I=>I.status===T).map(I=>d.jsxs("div",{className:`bg-white dark:bg-slate-800 p-4 rounded-xl border shadow-sm group relative hover:shadow-md transition-all ${I.priority==="high"?"border-l-4 border-l-red-500":"dark:border-slate-700"}`,children:[d.jsxs("div",{className:"flex justify-between items-start mb-1",children:[d.jsx("h5",{className:`font-bold text-sm ${T==="completed"?"line-through text-slate-400":"dark:text-white"}`,children:I.title}),I.endDate&&new Date(I.endDate)<new Date&&T!=="completed"&&d.jsx(Gd,{size:14,className:"text-red-500",title:"Gecikmi"})]}),d.jsx("p",{className:"text-xs text-slate-500 mb-3 line-clamp-2",children:I.desc}),d.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-dashed dark:border-slate-700",children:[I.endDate&&d.jsxs("span",{className:`text-[10px] flex items-center gap-1 ${I.endDate&&new Date(I.endDate)<new Date?"text-red-500 font-bold":"text-slate-400"}`,children:[d.jsx(C1,{size:12})," ",new Date(I.endDate).toLocaleDateString()]}),d.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[T!=="pending"&&d.jsx("button",{type:"button",onClick:()=>a.update("todos",I.id,{status:"pending"}),className:"p-1 hover:bg-slate-100 rounded text-slate-400",children:d.jsx(qd,{size:14})}),d.jsx("button",{type:"button",onClick:()=>a.delete(I.id,"todos"),className:"p-1 hover:bg-red-50 text-red-500 rounded",children:d.jsx(sn,{size:14})}),T!=="completed"&&d.jsx("button",{type:"button",onClick:()=>a.update("todos",I.id,{status:T==="pending"?"in_progress":"completed"}),className:"p-1 hover:bg-green-50 text-green-500 rounded",children:d.jsx(Vo,{size:14})})]})]})]},I.id))})]},T))}),o==="proposals"&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(T=>d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm relative group hover:border-purple-300 transition-colors",children:[d.jsx("button",{type:"button",onClick:()=>a.delete(T.id,"proposals"),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 text-red-500",children:d.jsx(sn,{size:16})}),d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-50 dark:bg-purple-900/20 text-purple-600 flex items-center justify-center",children:d.jsx(Kj,{size:20})}),d.jsxs("div",{children:[d.jsx("h5",{className:"font-bold text-sm dark:text-white",children:T.customer}),d.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded ${T.status==="accepted"?"bg-green-100 text-green-600":"bg-yellow-100 text-yellow-600"}`,children:T.status==="accepted"?"Onayland":"Bekliyor"})]})]}),d.jsx("div",{className:"bg-slate-50 dark:bg-slate-900 p-3 rounded-lg mb-3 text-xs text-slate-600 dark:text-slate-300 line-clamp-3",children:T.product}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("span",{className:"font-bold text-lg text-blue-600",children:[T.price,""]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"button",onClick:()=>a.update("proposals",T.id,{status:"rejected"}),className:"p-2 hover:bg-red-50 text-red-500 rounded-lg",children:d.jsx(Ms,{size:16})}),d.jsx("button",{type:"button",onClick:()=>a.update("proposals",T.id,{status:"accepted"}),className:"p-2 hover:bg-green-50 text-green-500 rounded-lg",children:d.jsx(Bd,{size:16})})]})]})]},T.id))}),o==="ideas"&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:s.map(T=>d.jsxs("div",{className:`p-4 rounded-xl border shadow-sm relative group transition-all hover:-translate-y-1 ${T.isPinned?"bg-yellow-50 border-yellow-200":"bg-white dark:bg-slate-800 dark:border-slate-700"}`,children:[d.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{type:"button",onClick:()=>a.update("ideas",T.id,{isPinned:!T.isPinned}),className:"p-1.5 bg-white/50 rounded-full hover:bg-white",children:d.jsx(Nj,{size:14,className:T.isPinned?"fill-current text-yellow-600":"text-slate-400"})}),d.jsx("button",{type:"button",onClick:()=>a.delete(T.id,"ideas"),className:"p-1.5 bg-white/50 rounded-full hover:bg-white hover:text-red-500",children:d.jsx(sn,{size:14})})]}),d.jsx("span",{className:"text-[10px] font-bold opacity-50 uppercase tracking-wider mb-2 block",children:T.category}),d.jsx("h4",{className:"font-bold mb-2 dark:text-white leading-tight",children:T.title}),d.jsx("p",{className:"text-sm opacity-80 dark:text-slate-300 whitespace-pre-wrap",children:T.desc})]},T.id))}),m&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl w-full max-w-md shadow-2xl animate-in zoom-in-95",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("h3",{className:"font-bold text-xl dark:text-white",children:["Yeni ",o==="tasks"||o==="calendar"?"Grev":o==="proposals"?"Teklif":"Fikir"]}),d.jsx("button",{type:"button",onClick:()=>b(!1),children:d.jsx(Ms,{})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"Balk / Mteri",value:g.title||g.customer||"",onChange:T=>y({...g,[o==="proposals"?"customer":"title"]:T.target.value})}),d.jsx("textarea",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white h-24 resize-none",placeholder:"Detaylar...",value:g.desc||g.product||"",onChange:T=>y({...g,[o==="proposals"?"product":"desc"]:T.target.value})}),(o==="tasks"||o==="calendar")&&d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx("input",{type:"date",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:g.endDate||"",onChange:T=>y({...g,endDate:T.target.value})}),d.jsxs("select",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:g.priority||"medium",onChange:T=>y({...g,priority:T.target.value}),children:[d.jsx("option",{value:"low",children:"Dk"}),d.jsx("option",{value:"medium",children:"Orta"}),d.jsx("option",{value:"high",children:"Yksek"})]})]}),o==="proposals"&&d.jsx("input",{type:"number",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"Fiyat",value:g.price||"",onChange:T=>y({...g,price:T.target.value})}),o==="ideas"&&d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"Kategori",value:g.category||"",onChange:T=>y({...g,category:T.target.value})}),d.jsx("button",{type:"button",onClick:D,className:"w-full bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200 dark:shadow-none",children:"Kaydet"})]})]})})]})},i4=({printers:i,jobs:e,filaments:s,archive:a,ops:o})=>{const[u,m]=le.useState("overview"),[b,g]=le.useState(!1),[y,_]=le.useState({}),[N,k]=le.useState(""),[q,Z]=le.useState({weight:0,hours:0,filamentCost:400,electricity:5,profitMargin:100}),z=q.weight*(q.filamentCost/1e3)+q.hours*q.electricity,D=z*(1+q.profitMargin/100),$=T=>{T.preventDefault(),N&&window.open(`https://www.thingiverse.com/search?q=${N}&type=things&sort=relevant`,"_blank")};return d.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[d.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 justify-between items-start lg:items-center bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm",children:[d.jsx("div",{className:"flex gap-2 w-full lg:w-auto overflow-x-auto pb-2 lg:pb-0",children:[{id:"overview",label:"Genel Bak",icon:Hd},{id:"queue",label:" Kuyruu",icon:ex},{id:"filaments",label:"Filamentler",icon:nx},{id:"archive",label:"Ariv",icon:vd},{id:"calculator",label:"Maliyet",icon:Wv}].map(T=>d.jsxs("button",{type:"button",onClick:()=>m(T.id),className:`px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 transition-all whitespace-nowrap ${u===T.id?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[d.jsx(T.icon,{size:16})," ",T.label]},T.id))}),d.jsxs("form",{onSubmit:$,className:"flex gap-2 w-full lg:w-auto",children:[d.jsxs("div",{className:"relative flex-1 lg:w-64",children:[d.jsx(lc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),d.jsx("input",{className:"w-full pl-9 pr-4 py-2 bg-slate-100 dark:bg-slate-900 rounded-lg text-sm outline-none focus:ring-2 focus:ring-indigo-500 dark:text-white",placeholder:"3D Model Ara...",value:N,onChange:T=>k(T.target.value)})]}),d.jsx("button",{type:"submit",className:"bg-slate-200 dark:bg-slate-700 p-2 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",children:d.jsx(ij,{size:18})})]})]}),u==="overview"&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.map(T=>d.jsxs("div",{className:`p-5 rounded-2xl border-2 shadow-sm relative group transition-all ${T.status==="printing"?"border-green-500 bg-green-50":T.status==="maintenance"?"border-red-500 bg-red-50":"border-slate-200 bg-white"} dark:border-slate-700`,children:[d.jsx("button",{type:"button",onClick:()=>o.delete(T.id,"printers"),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 p-1.5 bg-white rounded-lg text-red-500 shadow-sm",children:d.jsx(sn,{size:14})}),d.jsx("div",{className:"flex justify-between items-start mb-4",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-white shadow-sm ${T.status==="printing"?"bg-green-500":T.status==="maintenance"?"bg-red-500":"bg-slate-400"}`,children:d.jsx(Um,{size:20})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-slate-800",children:T.name}),d.jsx("span",{className:"text-xs font-bold uppercase opacity-60",children:T.status==="printing"?"Baslyor...":T.status==="maintenance"?"Bakmda":"Hazr"})]})]})}),d.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-4",children:[d.jsx("button",{type:"button",onClick:()=>o.update("printers",T.id,{status:"idle"}),className:"py-1.5 rounded-lg text-xs font-bold bg-slate-100 hover:bg-slate-200",children:"Bota"}),d.jsx("button",{type:"button",onClick:()=>o.update("printers",T.id,{status:"printing"}),className:"py-1.5 rounded-lg text-xs font-bold bg-green-100 text-green-600 hover:bg-green-200",children:"Balat"}),d.jsx("button",{type:"button",onClick:()=>o.update("printers",T.id,{status:"maintenance"}),className:"py-1.5 rounded-lg text-xs font-bold bg-red-100 text-red-600 hover:bg-red-200",children:"Bakm"})]})]},T.id)),d.jsxs("button",{type:"button",onClick:()=>{_({}),g(!0)},className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-2xl p-6 flex flex-col items-center justify-center text-slate-400 hover:text-indigo-500 hover:border-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all min-h-[180px]",children:[d.jsx(ns,{size:32,className:"mb-2"}),d.jsx("span",{className:"font-bold",children:"Yeni Yazc Ekle"})]})]}),u==="queue"&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("h3",{className:"font-bold text-lg dark:text-white flex items-center gap-2",children:[d.jsx(ex,{className:"text-indigo-500"})," Bekleyen ler"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{className:"p-2 border rounded-lg text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white outline-none w-48",placeholder:"Dosya ad...",value:y.jobName||"",onChange:T=>_({...y,jobName:T.target.value})}),d.jsx("button",{type:"button",onClick:()=>{y.jobName&&o.add("workshop_jobs",{name:y.jobName,status:"pending",createdAt:Pn()}),_({})},className:"bg-indigo-600 text-white px-4 py-2 rounded-lg font-bold text-sm hover:bg-indigo-700",children:"Ekle"})]})]}),d.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto custom-scrollbar",children:e.map(T=>d.jsxs("div",{className:"flex justify-between items-center p-4 border dark:border-slate-700 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors group",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${T.status==="done"?"bg-green-500":"bg-orange-500"}`}),d.jsx("span",{className:`font-medium ${T.status==="done"?"line-through text-slate-400":"dark:text-white"}`,children:T.name})]}),d.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{type:"button",onClick:()=>o.update("workshop_jobs",T.id,{status:T.status==="done"?"pending":"done"}),className:`p-2 rounded-lg ${T.status==="done"?"text-orange-500 bg-orange-50":"text-green-600 bg-green-50"}`,children:T.status==="done"?d.jsx(qd,{size:16}):d.jsx(Bd,{size:16})}),d.jsx("button",{type:"button",onClick:()=>o.delete(T.id,"workshop_jobs"),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100",children:d.jsx(sn,{size:16})})]})]},T.id))})]}),u==="filaments"&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("h3",{className:"font-bold text-lg dark:text-white flex items-center gap-2",children:[d.jsx(nx,{className:"text-pink-500"})," Filament Stou"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{className:"p-2 border rounded-lg text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white outline-none",placeholder:"Marka/Tr",value:y.filName||"",onChange:T=>_({...y,filName:T.target.value})}),d.jsx("input",{type:"color",className:"h-9 w-12 p-1 border rounded-lg cursor-pointer bg-transparent",value:y.filColor||"#000000",onChange:T=>_({...y,filColor:T.target.value})}),d.jsx("button",{type:"button",onClick:()=>{y.filName&&o.add("workshop_filaments",{name:y.filName,color:y.filColor||"#000000"}),_({...y,filName:""})},className:"bg-indigo-600 text-white px-4 py-2 rounded-lg font-bold text-sm hover:bg-indigo-700",children:"Ekle"})]})]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:s.map(T=>d.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-xl flex flex-col items-center text-center relative group hover:shadow-md transition-all dark:bg-slate-900/50",children:[d.jsx("button",{type:"button",onClick:()=>o.delete(T.id,"workshop_filaments"),className:"absolute top-2 right-2 text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(sn,{size:14})}),d.jsx("div",{className:"w-16 h-16 rounded-full shadow-inner mb-3 border-4 border-white dark:border-slate-700",style:{backgroundColor:T.color}}),d.jsx("span",{className:"font-bold text-sm dark:text-white truncate w-full",children:T.name})]},T.id))})]}),u==="archive"&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("h3",{className:"font-bold text-lg dark:text-white flex items-center gap-2",children:[d.jsx(vd,{className:"text-orange-500"})," Bask Arivi"]}),d.jsxs("button",{type:"button",onClick:()=>{_({}),g(!0)},className:"bg-orange-600 text-white px-4 py-2 rounded-lg font-bold text-sm hover:bg-orange-700 flex items-center gap-2",children:[d.jsx(ns,{size:16})," Kayt Ekle"]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900 text-slate-500 uppercase text-xs",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3",children:"Model"}),d.jsx("th",{className:"p-3",children:"Gramaj"}),d.jsx("th",{className:"p-3",children:"Maliyet"}),d.jsx("th",{className:"p-3",children:"Link"}),d.jsx("th",{className:"p-3 text-right",children:"Sil"})]})}),d.jsx("tbody",{children:a.map(T=>d.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[d.jsx("td",{className:"p-3 font-bold dark:text-white",children:T.name}),d.jsxs("td",{className:"p-3 font-mono",children:[T.weight,"g"]}),d.jsxs("td",{className:"p-3 font-bold text-green-600",children:[T.cost,""]}),d.jsx("td",{className:"p-3",children:T.link&&d.jsxs("a",{href:T.link,target:"_blank",className:"text-blue-500 hover:underline flex items-center gap-1",children:[d.jsx(D1,{size:14})," Git"]})}),d.jsx("td",{className:"p-3 text-right",children:d.jsx("button",{type:"button",onClick:()=>o.delete(T.id,"print_archive"),className:"text-slate-400 hover:text-red-500 transition-colors",children:d.jsx(sn,{size:16})})})]},T.id))})]})})]}),u==="calculator"&&d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsxs("h3",{className:"font-bold text-lg mb-6 dark:text-white flex items-center gap-2",children:[d.jsx(Wv,{className:"text-blue-500"})," Maliyet Parametreleri"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Model Arl (Gram)"}),d.jsx("input",{type:"number",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600",value:q.weight,onChange:T=>Z({...q,weight:Number(T.target.value)})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Bask Sresi (Saat)"}),d.jsx("input",{type:"number",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600",value:q.hours,onChange:T=>Z({...q,hours:Number(T.target.value)})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Filament (/kg)"}),d.jsx("input",{type:"number",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600",value:q.filamentCost,onChange:T=>Z({...q,filamentCost:Number(T.target.value)})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Elektrik (/saat)"}),d.jsx("input",{type:"number",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600",value:q.electricity,onChange:T=>Z({...q,electricity:Number(T.target.value)})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Kr Marj (%)"}),d.jsx("input",{type:"number",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600",value:q.profitMargin,onChange:T=>Z({...q,profitMargin:Number(T.target.value)})})]})]})]}),d.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-600 p-8 rounded-2xl text-white shadow-xl flex flex-col justify-center relative overflow-hidden",children:[d.jsx(rc,{className:"absolute top-0 right-0 p-8 opacity-20",size:200}),d.jsxs("div",{className:"relative z-10 space-y-6",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-indigo-200 font-bold uppercase text-sm mb-1",children:"Hammadde Maliyeti"}),d.jsxs("p",{className:"text-2xl font-mono",children:[(q.weight*q.filamentCost/1e3).toFixed(2),""]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-indigo-200 font-bold uppercase text-sm mb-1",children:"Enerji/Amortisman"}),d.jsxs("p",{className:"text-2xl font-mono",children:[(q.hours*q.electricity).toFixed(2),""]})]}),d.jsxs("div",{className:"pt-6 border-t border-white/20",children:[d.jsx("p",{className:"text-indigo-100 font-bold uppercase text-sm mb-2",children:"nerilen Sat Fiyat"}),d.jsxs("p",{className:"text-6xl font-black tracking-tight",children:[D.toFixed(2),""]}),d.jsxs("p",{className:"text-sm mt-2 opacity-80",children:["Toplam Maliyet: ",z.toFixed(2),"  Kr: ",(D-z).toFixed(2),""]})]})]})]})]}),b&&u==="overview"&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl w-full max-w-md shadow-2xl animate-in zoom-in-95",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"font-bold text-xl dark:text-white",children:"Yeni Yazc Ekle"}),d.jsx("button",{onClick:()=>g(!1),children:d.jsx(Ms,{})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"Yazc Ad (rn: Ender 3 V2)",value:y.name||"",onChange:T=>_({...y,name:T.target.value}),autoFocus:!0}),d.jsx("button",{onClick:()=>{if(!y.name)return alert("Ltfen bir isim giriniz");o.add("printers",{name:y.name,status:"idle"}),g(!1)},className:"w-full bg-indigo-600 text-white py-3 rounded-xl font-bold hover:bg-indigo-700 transition-colors",children:"Kaydet"})]})]})}),b&&u==="archive"&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl w-full max-w-md shadow-2xl animate-in zoom-in-95",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"font-bold text-xl dark:text-white",children:"Ariv Kayd Ekle"}),d.jsx("button",{type:"button",onClick:()=>g(!1),children:d.jsx(Ms,{})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600",placeholder:"Model Ad",value:y.name||"",onChange:T=>_({...y,name:T.target.value})}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("input",{type:"number",className:"flex-1 p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600",placeholder:"Gramaj (g)",value:y.weight||"",onChange:T=>_({...y,weight:T.target.value})}),d.jsx("input",{type:"number",className:"flex-1 p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600",placeholder:"Maliyet ()",value:y.cost||"",onChange:T=>_({...y,cost:T.target.value})})]}),d.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700 dark:border-slate-600",placeholder:"Link (Opsiyonel)",value:y.link||"",onChange:T=>_({...y,link:T.target.value})}),d.jsx("button",{type:"button",onClick:()=>{o.add("print_archive",y),g(!1),_({})},className:"w-full bg-orange-600 text-white py-3 rounded-xl font-bold hover:bg-orange-700",children:"Kaydet"})]})]})})]})},a4=({markets:i,items:e,sales:s,expenses:a,ops:o})=>{const[u,m]=le.useState(null),[b,g]=le.useState("pos"),[y,_]=le.useState(""),[N,k]=le.useState(!1),[q,Z]=le.useState({}),[z,D]=le.useState({desc:"",amount:""}),[$,T]=le.useState({name:"",price:""}),[I,ae]=le.useState(!1);le.useEffect(()=>{if(u){const S=i.find(xe=>xe.id===u.id);S&&m(S)}},[i]);const de=i.reduce((S,xe)=>S+(xe.totalRevenue||0),0),ye=i.reduce((S,xe)=>S+(xe.totalExpenses||0),0),j=de-ye,A=S=>{const xe=new Date(S),Fe=new Date;return xe.getDate()===Fe.getDate()&&xe.getMonth()===Fe.getMonth()&&xe.getFullYear()===Fe.getFullYear()},R=S=>A(S)?{label:"BUGN AKTF",color:"bg-green-100 text-green-700 border-green-200 animate-pulse"}:new Date(S)>new Date?{label:"YAKLAIYOR",color:"bg-blue-100 text-blue-700 border-blue-200"}:{label:"TAMAMLANDI",color:"bg-slate-100 text-slate-500 border-slate-200"},L=async S=>{if(!u)return;if(S.stock<=0)return alert("Stok yetersiz!");await o.update("inventory",S.id,{stock:Number(S.stock)-1}),await o.add("sales_history",{productName:S.name,quantity:1,totalPrice:Number(S.sellPrice),unitPrice:Number(S.sellPrice),platform:`Pazar: ${u.name}`,date:new Date().toLocaleDateString("tr-TR"),marketId:u.id,createdAt:Pn()});const xe=(u.totalRevenue||0)+Number(S.sellPrice);await o.update("markets",u.id,{totalRevenue:xe}),m({...u,totalRevenue:xe})},O=async S=>{S.preventDefault();const xe=Number($.price),Fe=(u.totalRevenue||0)+xe;await o.update("markets",u.id,{totalRevenue:Fe}),await o.add("sales_history",{productName:$.name,quantity:1,unitPrice:xe,totalPrice:xe,platform:`Pazar: ${u.name} (Manuel)`,marketId:u.id,date:new Date().toLocaleDateString("tr-TR"),createdAt:Pn()}),m(B=>({...B,totalRevenue:Fe})),ae(!1)},P=async()=>{if(!z.amount||!u)return;const S=Number(z.amount);await o.add("general_expenses",{description:`Pazar: ${u.name} - ${z.desc}`,amount:S,category:"Pazar",marketId:u.id,date:new Date().toLocaleDateString("tr-TR"),createdAt:Pn()});const xe=(u.totalExpenses||0)+S;await o.update("markets",u.id,{totalExpenses:xe}),m({...u,totalExpenses:xe}),D({desc:"",amount:""})};if(u){const S=s.filter(B=>B.marketId===u.id),xe=a.filter(B=>B.marketId===u.id||B.category==="Pazar"&&B.description.includes(u.name)),Fe=(u.totalRevenue||0)-(u.totalExpenses||0);return d.jsxs("div",{className:"space-y-6 animate-in fade-in h-[calc(100vh-140px)] flex flex-col",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm shrink-0",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:()=>m(null),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-500",children:d.jsx(qd,{size:24})}),d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold dark:text-white flex items-center gap-2",children:[u.name,d.jsx("span",{className:"text-xs font-medium bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded text-slate-500",children:new Date(u.date).toLocaleDateString("tr-TR")})]}),d.jsxs("p",{className:"text-xs text-slate-400 flex items-center gap-1",children:[d.jsx(tx,{size:12})," ",u.location||"Konum belirtilmedi"]})]})]}),d.jsxs("div",{className:"flex gap-4 text-right bg-slate-50 dark:bg-slate-900/50 p-2 rounded-lg",children:[d.jsxs("div",{className:"px-2 border-r border-slate-200 dark:border-slate-700",children:[d.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Ciro"}),d.jsxs("p",{className:"font-bold text-green-600",children:["+",u.totalRevenue||0,""]})]}),d.jsxs("div",{className:"px-2 border-r border-slate-200 dark:border-slate-700",children:[d.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Gider"}),d.jsxs("p",{className:"font-bold text-red-500",children:["-",u.totalExpenses||0,""]})]}),d.jsxs("div",{className:"px-2",children:[d.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Net"}),d.jsxs("p",{className:`font-bold ${Fe>=0?"text-blue-600":"text-red-500"}`,children:[Fe,""]})]})]})]}),d.jsxs("div",{className:"flex gap-1 mt-4 border-t dark:border-slate-700 pt-4",children:[d.jsxs("button",{onClick:()=>g("pos"),className:`px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 ${b==="pos"?"bg-blue-50 text-blue-600 dark:bg-blue-900/20":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[d.jsx(Fd,{size:16})," Sat Yap"]}),d.jsxs("button",{onClick:()=>g("expenses"),className:`px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 ${b==="expenses"?"bg-red-50 text-red-600 dark:bg-red-900/20":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[d.jsx(qp,{size:16})," Giderler"]}),d.jsxs("button",{onClick:()=>g("summary"),className:`px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 ${b==="summary"?"bg-purple-50 text-purple-600 dark:bg-purple-900/20":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[d.jsx(Lp,{size:16})," zet Rapor"]})]})]}),d.jsxs("div",{className:"flex-1 overflow-hidden bg-white dark:bg-slate-800 rounded-xl border dark:border-slate-700 shadow-sm flex flex-col",children:[b==="pos"&&d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"p-4 border-b dark:border-slate-700 flex justify-between items-center gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[d.jsx(lc,{size:18,className:"text-slate-400"}),d.jsx("input",{className:"w-full p-2 bg-slate-50 dark:bg-slate-900 rounded-xl border-none outline-none focus:ring-2 focus:ring-blue-100 dark:text-white",placeholder:"rn Ara...",value:y,onChange:B=>_(B.target.value),autoFocus:!0})]}),d.jsxs("button",{onClick:()=>ae(!0),className:"bg-purple-600 text-white px-3 py-1.5 rounded-lg text-sm font-bold hover:bg-purple-700 flex items-center gap-1",children:[d.jsx(Lm,{size:14})," Manuel"]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:e.filter(B=>B.name.toLowerCase().includes(y.toLowerCase())).map(B=>d.jsxs("button",{disabled:B.stock<=0,onClick:()=>L(B),className:"p-3 border dark:border-slate-700 rounded-xl hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left disabled:opacity-50 disabled:cursor-not-allowed transition-all group flex flex-col relative bg-white dark:bg-slate-800",children:[d.jsx("div",{className:"absolute top-2 right-2 bg-slate-100 dark:bg-slate-700 text-[10px] font-bold px-1.5 py-0.5 rounded text-slate-500",children:B.stock}),d.jsx("div",{className:"aspect-square mb-2 bg-slate-100 dark:bg-slate-700 rounded-lg overflow-hidden flex items-center justify-center",children:B.imageUrl?d.jsx("img",{src:B.imageUrl,className:"w-full h-full object-cover"}):d.jsx(Ya,{className:"text-slate-300"})}),d.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-white line-clamp-1 mb-1",children:B.name}),d.jsxs("p",{className:"text-blue-600 font-bold",children:[B.sellPrice,""]})]},B.id))})})]}),b==="expenses"&&d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"p-6 border-b dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50",children:[d.jsx("h3",{className:"font-bold mb-4 dark:text-white",children:"Yeni Gider Ekle"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{className:"flex-1 p-3 border rounded-xl dark:bg-slate-800 dark:border-slate-600 dark:text-white",placeholder:"Aklama (rn: Yemek, Otopark)",value:z.desc,onChange:B=>D({...z,desc:B.target.value})}),d.jsx("input",{type:"number",className:"w-32 p-3 border rounded-xl dark:bg-slate-800 dark:border-slate-600 dark:text-white",placeholder:"Tutar",value:z.amount,onChange:B=>D({...z,amount:B.target.value})}),d.jsx("button",{onClick:P,className:"bg-red-600 text-white px-6 rounded-xl font-bold hover:bg-red-700 transition-colors",children:"Kaydet"})]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-50 dark:bg-slate-900 dark:text-slate-400",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3",children:"Aklama"}),d.jsx("th",{className:"p-3 text-right",children:"Tutar"}),d.jsx("th",{className:"p-3 text-right",children:"Sil"})]})}),d.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[xe.map(B=>d.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[d.jsx("td",{className:"p-3 font-medium dark:text-white",children:B.description.replace(`Pazar: ${u.name} - `,"")}),d.jsxs("td",{className:"p-3 text-right text-red-500 font-bold",children:["-",B.amount,""]}),d.jsx("td",{className:"p-3 text-right",children:d.jsx("button",{onClick:()=>o.delete(B.id,"general_expenses"),className:"text-slate-400 hover:text-red-500",children:d.jsx(sn,{size:16})})})]},B.id)),xe.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:"3",className:"p-8 text-center text-slate-400",children:"Henz gider eklenmedi."})})]})]})})]}),b==="summary"&&d.jsxs("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:[d.jsxs("h3",{className:"font-bold mb-4 dark:text-white flex items-center gap-2",children:[d.jsx(DC,{size:20})," Sat zeti"]}),d.jsxs("div",{className:"space-y-2",children:[Object.values(S.reduce((B,se)=>(B[se.productName]||(B[se.productName]={name:se.productName,qty:0,total:0}),B[se.productName].qty+=se.quantity,B[se.productName].total+=se.totalPrice,B),{})).sort((B,se)=>se.total-B.total).map((B,se)=>d.jsxs("div",{className:"flex justify-between items-center p-3 border dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 text-slate-500 w-6 h-6 flex items-center justify-center rounded-full text-xs font-bold",children:se+1}),d.jsx("span",{className:"font-medium dark:text-white",children:B.name})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("span",{className:"text-xs bg-blue-50 text-blue-600 px-2 py-0.5 rounded mr-2",children:[B.qty," Adet"]}),d.jsxs("span",{className:"font-bold text-green-600",children:[B.total,""]})]})]},se)),S.length===0&&d.jsx("div",{className:"text-center text-slate-400 py-10",children:"Henz sat yaplmad."})]})]})]}),I&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl w-full max-w-sm shadow-2xl animate-scale-in",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"font-bold text-xl text-slate-800 dark:text-white",children:"Pazarda Manuel Sat"}),d.jsx("button",{onClick:()=>ae(!1),className:"text-slate-400 hover:text-slate-600",children:d.jsx(Ms,{size:24})})]}),d.jsxs("form",{onSubmit:O,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"rn / Hizmet Ad"}),d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600",placeholder:"rn: zel Tasarm, ndirimli rn",value:$.name,onChange:B=>T({...$,name:B.target.value}),autoFocus:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Sat Fiyat ()"}),d.jsx("input",{type:"number",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600",placeholder:"0.00",value:$.price,onChange:B=>T({...$,price:B.target.value})})]}),d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg text-xs text-blue-700 dark:text-blue-300",children:[d.jsx(Xj,{size:14,className:"inline mr-1"})," Bu ilem stoktan dmez, sadece pazar cirosuna ve sat gemiine eklenir."]}),d.jsx("button",{type:"submit",className:"w-full py-3 bg-green-600 text-white rounded-xl font-bold mt-2 hover:bg-green-700 transition-colors",children:"Sat Onayla"})]})]})})]})}return d.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-2xl font-bold dark:text-white",children:"Pazar Etkinlikleri"}),d.jsxs("button",{type:"button",onClick:()=>{Z({}),k(!0)},className:"bg-orange-600 text-white px-6 py-2 rounded-xl font-bold hover:bg-orange-700 flex items-center gap-2 shadow-lg shadow-orange-200 dark:shadow-none transition-all",children:[d.jsx(ns,{size:20})," Yeni Pazar"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Toplam Pazar Cirosu"}),d.jsxs("p",{className:"text-2xl font-black text-slate-800 dark:text-white",children:[de,""]})]}),d.jsx("div",{className:"bg-green-50 text-green-600 p-3 rounded-lg",children:d.jsx(rc,{size:24})})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Toplam Kr"}),d.jsxs("p",{className:"text-2xl font-black text-blue-600",children:[j,""]})]}),d.jsx("div",{className:"bg-blue-50 text-blue-600 p-3 rounded-lg",children:d.jsx(xd,{size:24})})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Dzenlenen Etkinlik"}),d.jsx("p",{className:"text-2xl font-black text-purple-600",children:i.length})]}),d.jsx("div",{className:"bg-purple-50 text-purple-600 p-3 rounded-lg",children:d.jsx(L1,{size:24})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.map(S=>{const xe=R(S.date);return d.jsxs("div",{onClick:()=>m(S),className:"bg-white dark:bg-slate-800 rounded-2xl border dark:border-slate-700 overflow-hidden cursor-pointer hover:shadow-xl hover:-translate-y-1 transition-all group relative flex flex-col h-full",children:[d.jsx("button",{onClick:Fe=>{Fe.stopPropagation(),o.delete(S.id,"markets")},className:"absolute top-3 right-3 p-2 bg-white/90 dark:bg-slate-700/90 rounded-lg text-slate-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:d.jsx(sn,{size:16})}),d.jsxs("div",{className:"h-28 bg-gradient-to-br from-orange-400 to-pink-600 p-6 text-white relative",children:[d.jsx("div",{className:`absolute top-4 left-4 px-2 py-1 rounded text-[10px] font-bold border ${xe.color} bg-white/90 backdrop-blur-sm`,children:xe.label}),d.jsxs("div",{className:"absolute bottom-4 left-6",children:[d.jsx("h3",{className:"font-bold text-xl drop-shadow-md",children:S.name}),d.jsxs("div",{className:"text-sm opacity-90 flex gap-2 items-center mt-1",children:[d.jsx(k1,{size:12})," ",new Date(S.date).toLocaleDateString("tr-TR")]})]})]}),d.jsxs("div",{className:"p-5 flex-1 flex flex-col justify-center",children:[S.location&&d.jsxs("p",{className:"text-xs text-slate-500 mb-4 flex items-center gap-1",children:[d.jsx(tx,{size:12})," ",S.location]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[d.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-2 rounded-lg",children:[d.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Ciro"}),d.jsxs("p",{className:"font-bold text-green-600 text-lg",children:[S.totalRevenue||0,""]})]}),d.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-2 rounded-lg",children:[d.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Kr"}),d.jsxs("p",{className:"font-bold text-blue-600 text-lg",children:[(S.totalRevenue||0)-(S.totalExpenses||0),""]})]})]})]}),d.jsx("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/30 text-center border-t dark:border-slate-700 text-xs font-bold text-slate-500 group-hover:text-orange-600 transition-colors",children:"Ynetmek in Tkla"})]},S.id)}),d.jsxs("button",{onClick:()=>{Z({}),k(!0)},className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-2xl p-6 flex flex-col items-center justify-center text-slate-400 hover:text-orange-500 hover:border-orange-300 hover:bg-orange-50 dark:hover:bg-orange-900/10 transition-all min-h-[250px]",children:[d.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 p-4 rounded-full mb-3 group-hover:scale-110 transition-transform",children:d.jsx(ns,{size:32})}),d.jsx("span",{className:"font-bold",children:"Yeni Etkinlik Planla"})]})]}),N&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl w-full max-w-sm shadow-2xl animate-in zoom-in-95",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"font-bold text-xl dark:text-white",children:"Yeni Pazar Etkinlii"}),d.jsx("button",{onClick:()=>k(!1),children:d.jsx(Ms,{className:"text-slate-400 hover:text-slate-600"})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Etkinlik Ad"}),d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"rn: Tasarm Tomtom",value:q.name||"",onChange:S=>Z({...q,name:S.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Konum"}),d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"rn: Beyolu",value:q.location||"",onChange:S=>Z({...q,location:S.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Tarih"}),d.jsx("input",{type:"date",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:q.date||"",onChange:S=>Z({...q,date:S.target.value})})]}),d.jsx("button",{onClick:()=>{o.add("markets",{name:q.name,location:q.location,date:q.date,totalRevenue:0,totalExpenses:0}),k(!1)},className:"w-full bg-orange-600 text-white py-3 rounded-xl font-bold hover:bg-orange-700 transition-colors shadow-lg shadow-orange-200 dark:shadow-none",children:"Etkinlii Olutur"})]})]})})]})},r4=({expenses:i,sales:e,ops:s})=>{const[a,o]=le.useState("all"),[u,m]=le.useState("all"),[b,g]=le.useState({}),_=le.useMemo(()=>{const D=e.map(T=>({id:T.id,type:"income",desc:T.productName,amount:Number(T.totalPrice),category:"Sat",date:T.date,dateObj:T.createdAt?new Date(T.createdAt.seconds*1e3):new Date})),$=i.map(T=>({id:T.id,type:"expense",desc:T.description,amount:Number(T.amount),category:T.category||"Dier",date:T.date,dateObj:T.createdAt?new Date(T.createdAt.seconds*1e3):new Date}));return[...D,...$].sort((T,I)=>I.dateObj-T.dateObj)},[e,i]).filter(D=>{const $=u==="all"||D.type===u,T=a==="all"||D.dateObj.getMonth()===new Date().getMonth()&&D.dateObj.getFullYear()===new Date().getFullYear();return $&&T}),N=_.filter(D=>D.type==="income").reduce((D,$)=>D+$.amount,0),k=_.filter(D=>D.type==="expense").reduce((D,$)=>D+$.amount,0),q=N-k,Z=N>0?(q/N*100).toFixed(1):0,z=_.filter(D=>D.type==="expense").reduce((D,$)=>(D[$.category]=(D[$.category]||0)+$.amount,D),{});return d.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"Toplam Gelir"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("p",{className:"text-2xl font-black text-green-600",children:["+",N,""]}),d.jsx("div",{className:"bg-green-100 text-green-600 p-2 rounded-lg",children:d.jsx(xd,{size:20})})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"Toplam Gider"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("p",{className:"text-2xl font-black text-red-600",children:["-",k,""]}),d.jsx("div",{className:"bg-red-100 text-red-600 p-2 rounded-lg",children:d.jsx(qj,{size:20})})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"Net Kr"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("p",{className:`text-2xl font-black ${q>=0?"text-blue-600":"text-red-500"}`,children:[q,""]}),d.jsx("div",{className:"bg-blue-100 text-blue-600 p-2 rounded-lg",children:d.jsx(qp,{size:20})})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"Kr Marj"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("p",{className:"text-2xl font-black text-purple-600",children:["%",Z]}),d.jsx("div",{className:"bg-purple-100 text-purple-600 p-2 rounded-lg",children:d.jsx(KC,{size:20})})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"font-bold dark:text-white",children:"Bte Dengesi"}),d.jsxs("div",{className:"flex gap-2 text-sm font-bold",children:[d.jsx("button",{type:"button",onClick:()=>o("month"),className:`px-3 py-1 rounded transition-colors ${a==="month"?"bg-slate-800 text-white dark:bg-white dark:text-slate-900":"bg-slate-100 text-slate-500"}`,children:"Bu Ay"}),d.jsx("button",{type:"button",onClick:()=>o("all"),className:`px-3 py-1 rounded transition-colors ${a==="all"?"bg-slate-800 text-white dark:bg-white dark:text-slate-900":"bg-slate-100 text-slate-500"}`,children:"Tm Zamanlar"})]})]}),d.jsxs("div",{className:"h-4 bg-slate-100 rounded-full overflow-hidden flex",children:[d.jsx("div",{className:"bg-green-500 h-full transition-all duration-500",style:{width:`${N>0?N/(N+k)*100:0}%`}}),d.jsx("div",{className:"bg-red-500 h-full transition-all duration-500",style:{width:`${k>0?k/(N+k)*100:0}%`}})]}),d.jsxs("div",{className:"flex justify-between text-xs font-bold mt-2 text-slate-500",children:[d.jsxs("span",{className:"text-green-600",children:["Gelir %",(N>0?N/(N+k)*100:0).toFixed(0)]}),d.jsxs("span",{className:"text-red-600",children:["Gider %",(k>0?k/(N+k)*100:0).toFixed(0)]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2 dark:text-white",children:[d.jsx(S1,{size:20,className:"text-blue-500"})," Hzl Gider Ekle"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("select",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white outline-none",value:b.category||"Genel",onChange:D=>g({...b,category:D.target.value}),children:[d.jsx("option",{value:"Genel",children:"Genel"}),d.jsx("option",{value:"Malzeme",children:"Malzeme"}),d.jsx("option",{value:"Kargo",children:"Kargo"}),d.jsx("option",{value:"Yemek",children:"Yemek"}),d.jsx("option",{value:"Fatura",children:"Fatura"}),d.jsx("option",{value:"Pazar",children:"Pazar"})]}),d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white outline-none",placeholder:"Aklama",value:b.desc||"",onChange:D=>g({...b,desc:D.target.value})}),d.jsx("input",{type:"number",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white outline-none",placeholder:"Tutar",value:b.amount||"",onChange:D=>g({...b,amount:D.target.value})}),d.jsx("button",{type:"button",onClick:()=>{b.amount&&s.add("general_expenses",{description:b.desc,amount:Number(b.amount),category:b.category,date:new Date().toLocaleDateString("tr-TR"),createdAt:Pn()}),g({})},className:"w-full py-3 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-colors shadow-lg shadow-red-100 dark:shadow-none",children:"Kaydet"})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsx("h3",{className:"font-bold mb-4 dark:text-white text-sm uppercase text-slate-500",children:"Gider Dalm"}),d.jsxs("div",{className:"space-y-3",children:[Object.entries(z).sort((D,$)=>$[1]-D[1]).map(([D,$])=>d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"font-medium text-slate-600 dark:text-slate-300",children:D}),d.jsxs("span",{className:"font-bold text-slate-800 dark:text-white",children:[$,""]})]},D)),Object.keys(z).length===0&&d.jsx("div",{className:"text-slate-400 text-xs italic",children:"Veri yok."})]})]})]}),d.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-2xl border dark:border-slate-700 flex flex-col overflow-hidden shadow-sm h-[600px]",children:[d.jsxs("div",{className:"p-4 border-b dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 flex justify-between items-center",children:[d.jsx("h3",{className:"font-bold dark:text-white",children:"Hesap Hareketleri"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"button",onClick:()=>m("all"),className:`text-xs font-bold px-3 py-1 rounded-full ${u==="all"?"bg-slate-200 text-slate-800":"text-slate-400"}`,children:"Tm"}),d.jsx("button",{type:"button",onClick:()=>m("income"),className:`text-xs font-bold px-3 py-1 rounded-full ${u==="income"?"bg-green-100 text-green-700":"text-slate-400"}`,children:"Gelir"}),d.jsx("button",{type:"button",onClick:()=>m("expense"),className:`text-xs font-bold px-3 py-1 rounded-full ${u==="expense"?"bg-red-100 text-red-700":"text-slate-400"}`,children:"Gider"})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar space-y-2",children:[_.map(D=>d.jsxs("div",{className:"flex justify-between items-center p-4 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-xl hover:shadow-md transition-all group",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold shadow-sm ${D.type==="income"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:D.type==="income"?d.jsx(zp,{size:20}):d.jsx(LC,{size:20})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold dark:text-white text-sm line-clamp-1",children:D.desc}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[d.jsx("span",{children:D.date}),d.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-300"}),d.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-1.5 rounded",children:D.category})]})]})]}),d.jsxs("div",{className:"text-right flex items-center gap-4",children:[d.jsxs("p",{className:`font-black text-lg ${D.type==="income"?"text-green-600":"text-red-600"}`,children:[D.type==="income"?"+":"-",D.amount,""]}),d.jsx("button",{type:"button",onClick:()=>{let $="general_expenses";D.type==="income"?$="sales_history":$="general_expenses",s.delete(D.id,$)},className:"p-2 text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20",children:d.jsx(sn,{size:16})})]})]},D.id)),_.length===0&&d.jsxs("div",{className:"text-center py-20 text-slate-400 flex flex-col items-center gap-2",children:[d.jsx(j1,{size:32,className:"opacity-50"}),d.jsx("p",{children:"lem bulunamad."})]})]})]})]})]})},l4=({items:i,ops:e})=>{const[s,a]=le.useState("all"),[o,u]=le.useState(!1),[m,b]=le.useState({}),g=i.length,y=i.filter(z=>z.completed).length,_=i.filter(z=>!z.completed).reduce((z,D)=>z+(Number(D.estimatedCost)||0),0),N=g>0?y/g*100:0,k=i.filter(z=>s==="pending"?!z.completed:s==="completed"?z.completed:!0).sort((z,D)=>z.completed===D.completed?0:z.completed?1:-1),q=()=>{const z={text:m.text,category:m.category||"Genel",priority:m.priority||"medium",estimatedCost:Number(m.estimatedCost),link:m.link,completed:!1,createdAt:Pn()};e.add("shopping",z),u(!1),b({})},Z=z=>{switch(z){case"high":return d.jsx("span",{className:"bg-red-100 text-red-600 text-[10px] px-2 py-0.5 rounded border border-red-200 font-bold uppercase",children:"Acil"});case"medium":return d.jsx("span",{className:"bg-yellow-100 text-yellow-600 text-[10px] px-2 py-0.5 rounded border border-yellow-200 font-bold uppercase",children:"Normal"});default:return d.jsx("span",{className:"bg-blue-100 text-blue-600 text-[10px] px-2 py-0.5 rounded border border-blue-200 font-bold uppercase",children:"Dk"})}};return d.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold dark:text-white flex items-center gap-2",children:[d.jsx(Pp,{className:"text-orange-500"})," Alveri Listesi"]}),d.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Tahmini Tutar: ",d.jsxs("span",{className:"font-bold text-slate-800 dark:text-white",children:[_,""]})]})]}),d.jsxs("button",{type:"button",onClick:()=>{b({}),u(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-bold flex items-center gap-2 text-sm hover:bg-blue-700",children:[d.jsx(ns,{size:16})," Ekle"]})]}),d.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-900 rounded-full h-2.5 mb-2 overflow-hidden",children:d.jsx("div",{className:"bg-green-500 h-2.5 rounded-full transition-all duration-500",style:{width:`${N}%`}})}),d.jsxs("div",{className:"flex justify-between text-xs text-slate-500 font-medium",children:[d.jsxs("span",{children:[y,"/",g," Tamamland"]}),d.jsxs("span",{children:["%",N.toFixed(0)]})]})]}),d.jsx("div",{className:"flex gap-2 border-b dark:border-slate-700 pb-2 overflow-x-auto",children:["all","pending","completed"].map(z=>d.jsx("button",{type:"button",onClick:()=>a(z),className:`px-4 py-2 rounded-lg text-sm font-bold capitalize whitespace-nowrap transition-colors ${s===z?"bg-slate-800 text-white dark:bg-white dark:text-slate-900":"text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800"}`,children:z==="all"?"Tm":z==="pending"?"Alnacaklar":"Tamamlananlar"},z))}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:k.map(z=>d.jsx("div",{className:`bg-white dark:bg-slate-800 p-4 rounded-xl border shadow-sm group relative hover:shadow-md transition-all ${z.completed?"opacity-60 border-slate-200 dark:border-slate-700":"border-slate-200 dark:border-slate-600"}`,children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("button",{type:"button",onClick:()=>e.update("shopping",z.id,{completed:!z.completed}),className:`mt-1 w-5 h-5 rounded border flex items-center justify-center transition-colors ${z.completed?"bg-green-500 border-green-500 text-white":"border-slate-300 hover:border-blue-500"}`,children:z.completed&&d.jsx(Bd,{size:14})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex flex-wrap gap-2 mb-1",children:[Z(z.priority),d.jsx("span",{className:"text-[10px] bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded text-slate-500 uppercase font-bold",children:z.category})]}),d.jsx("h4",{className:`font-bold text-sm mb-1 ${z.completed?"line-through text-slate-400":"dark:text-white"}`,children:z.text}),z.estimatedCost>0&&d.jsxs("p",{className:"text-xs font-bold text-slate-500",children:["~",z.estimatedCost,""]}),z.link&&d.jsxs("a",{href:z.link,target:"_blank",className:"mt-3 inline-flex items-center gap-1 text-xs text-blue-500 hover:underline bg-blue-50 dark:bg-blue-900/20 px-2 py-1 rounded",children:[d.jsx(D1,{size:12})," Linke Git"]})]}),d.jsx("button",{type:"button",onClick:()=>e.delete(z.id,"shopping"),className:"text-slate-300 hover:text-red-500 transition-colors p-1",children:d.jsx(sn,{size:16})})]})},z.id))}),o&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl w-full max-w-sm shadow-2xl animate-in zoom-in-95",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"font-bold text-xl dark:text-white",children:"Yeni Ekle"}),d.jsx("button",{type:"button",onClick:()=>u(!1),children:d.jsx(Ms,{})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"Ne alnacak?",value:m.text||"",onChange:z=>b({...m,text:z.target.value})}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("select",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:m.category||"Genel",onChange:z=>b({...m,category:z.target.value}),children:[d.jsx("option",{value:"Genel",children:"Genel"}),d.jsx("option",{value:"Malzeme",children:"Malzeme"}),d.jsx("option",{value:"Ofis",children:"Ofis"}),d.jsx("option",{value:"Mutfak",children:"Mutfak"}),d.jsx("option",{value:"Elektronik",children:"Elektronik"})]}),d.jsxs("select",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:m.priority||"medium",onChange:z=>b({...m,priority:z.target.value}),children:[d.jsx("option",{value:"low",children:"Dk"}),d.jsx("option",{value:"medium",children:"Normal"}),d.jsx("option",{value:"high",children:"Acil"})]})]}),d.jsx("input",{type:"number",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"Tahmini Tutar (Opsiyonel)",value:m.estimatedCost||"",onChange:z=>b({...m,estimatedCost:z.target.value})}),d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"Link (Opsiyonel)",value:m.link||"",onChange:z=>b({...m,link:z.target.value})}),d.jsx("button",{type:"button",onClick:q,className:"w-full bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors",children:"Listeye Ekle"})]})]})})]})},o4=({ops:i})=>{const[e,s]=le.useState(!1),[a,o]=le.useState([]),[u,m]=le.useState({sellerId:"376308",apiKey:"9eXV6icsPUn67B54dtd4",apiSecret:"rHjrH8ep9wv4MElIgrFz"}),b=async()=>{s(!0);try{const _=await(await fetch("https://berilden-api.onrender.com/api/trendyol-orders",{method:"POST",headers:{"Content-Type":"application/json"}})).json();_.success?(o(_.data),_.data.length===0&&alert("Belirtilen tarihlerde yeni sipari bulunamad.")):alert("Hata: "+(_.error||"Bilinmeyen bir hata olutu"))}catch{alert("Sunucuya balanlamad. Terminalde 'node server.js' komutunu altrdnz m?")}finally{s(!1)}},g=async y=>{const _={customerName:`${y.customerFirstName} ${y.customerLastName}`,productName:y.lines[0]?.productName||"Belirsiz rn",price:y.grossAmount,platform:"Trendyol",status:"new",note:`Sipari No: ${y.orderNumber} - Kargo: ${y.cargoTrackingNumber}`,createdAt:Pn()};await i.add("orders",_),o(a.filter(N=>N.orderNumber!==y.orderNumber))};return d.jsxs("div",{className:"space-y-6 animate-in fade-in pb-20",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsxs("h2",{className:"text-xl font-bold dark:text-white mb-4 flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center text-white text-xs",children:"T"}),"Trendyol Entegrasyonu"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[d.jsxs("div",{className:"opacity-50 pointer-events-none",children:[d.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:"Satc ID"}),d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:u.sellerId,readOnly:!0})]}),d.jsxs("div",{className:"opacity-50 pointer-events-none",children:[d.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:"API Key"}),d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:u.apiKey,readOnly:!0})]}),d.jsxs("div",{className:"opacity-50 pointer-events-none",children:[d.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:"API Secret"}),d.jsx("input",{type:"password",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:u.apiSecret,readOnly:!0})]})]}),d.jsx("div",{className:"flex gap-3",children:d.jsxs("button",{onClick:b,disabled:e,className:"w-full px-4 py-3 bg-orange-600 text-white rounded-xl font-bold hover:bg-orange-700 flex justify-center items-center gap-2 shadow-lg shadow-orange-200 dark:shadow-none transition-all",children:[e?d.jsx(V1,{className:"animate-spin"}):d.jsx(zp,{})," SPARLER EK"]})})]}),a.length>0&&d.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.map(y=>d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-orange-200 dark:border-slate-700 flex flex-col md:flex-row justify-between items-center gap-4 shadow-sm hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsxs("span",{className:"bg-orange-100 text-orange-700 text-xs font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[d.jsx(A1,{size:10})," ",y.orderNumber]}),d.jsx("span",{className:"text-xs text-slate-400",children:new Date(y.createdDate).toLocaleDateString("tr-TR")}),d.jsx("span",{className:"text-[10px] bg-slate-100 text-slate-500 px-1.5 py-0.5 rounded",children:y.cargoTrackingNumber})]}),d.jsxs("h4",{className:"font-bold dark:text-white text-lg",children:[y.customerFirstName," ",y.customerLastName]}),d.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-300 flex items-center gap-1",children:[d.jsx(Ya,{size:14})," ",y.lines[0]?.productName," ",d.jsxs("span",{className:"text-xs opacity-50",children:["(",y.lines[0]?.quantity," Adet)"]})]})]}),d.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[d.jsxs("p",{className:"text-2xl font-black text-orange-600",children:[y.grossAmount,""]}),d.jsxs("button",{onClick:()=>g(y),className:"bg-blue-600 text-white px-5 py-2 rounded-lg text-sm font-bold hover:bg-blue-700 flex items-center gap-2 shadow-md shadow-blue-100 dark:shadow-none",children:[d.jsx(ns,{size:16})," Sisteme Ekle"]})]})]},y.orderNumber))})]})},c4=({ops:i})=>{const[e,s]=le.useState([]),[a,o]=le.useState(!1),[u]=le.useState({merchantId:"185984e9-ec40-46c6-9745-edd35bce9b7e",username:"softtr_dev",password:"c49hZmQ8g5Yy"}),m=async()=>{o(!0);try{const y=await(await fetch("https://berilden-api.onrender.com/api/hepsiburada-orders",{method:"POST",headers:{"Content-Type":"application/json"}})).json();y.success?(s(y.data),y.data.length===0&&alert("Yeni sipari bulunamad.")):alert("Hata: "+(y.error||"Balant salanamad."))}catch{alert("Sunucu hatas! Terminalde 'node server.js' alyor mu?")}o(!1)},b=async g=>{await i.add("orders",{customerName:g.customer?g.customer.name:"Hepsiburada Mterisi",productName:g.items?g.items[0].productName:"HB rn",price:g.totalPrice.amount,platform:"Hepsiburada",status:"new",note:`Sipari No: ${g.orderNumber}`,createdAt:Pn()}),s(e.filter(y=>y.orderNumber!==g.orderNumber))};return d.jsxs("div",{className:"space-y-6 animate-in fade-in pb-20",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-orange-200 dark:border-slate-700 shadow-sm",children:[d.jsx("h2",{className:"text-xl font-bold dark:text-white mb-4 text-orange-600 flex items-center gap-2",children:"Hepsiburada Entegrasyonu"}),d.jsxs("div",{className:"bg-orange-50 text-orange-800 p-3 rounded-lg mb-4 text-xs",children:[" API Bilgileri Tanml: ",u.merchantId]}),d.jsx("button",{onClick:m,disabled:a,className:"w-full py-3 bg-orange-600 text-white rounded-xl font-bold hover:bg-orange-700 transition-colors shadow-lg shadow-orange-100 dark:shadow-none flex justify-center items-center gap-2",children:a?"Balanyor...":"SPARLER EK"})]}),e.length>0&&d.jsx("div",{className:"grid grid-cols-1 gap-3",children:e.map(g=>d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border flex flex-col md:flex-row justify-between items-center gap-4 hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-bold dark:text-white",children:g.customer?g.customer.name:"Mteri Ad Gizli"}),d.jsxs("p",{className:"text-sm text-slate-500",children:[g.orderNumber,"  ",g.items?g.items[0].productName:"rn"]})]}),d.jsxs("div",{className:"text-right flex items-center gap-4",children:[d.jsxs("p",{className:"font-bold text-orange-600 text-lg",children:[g.totalPrice.amount,""]}),d.jsx("button",{onClick:()=>b(g),className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-bold text-sm hover:bg-blue-700",children:"Sisteme Al"})]})]},g.id))})]})},u4=({ops:i})=>{const[e,s]=le.useState([]),[a,o]=le.useState(!1),[u]=le.useState("NhHlBcIq3JYvXZv8wKtBfv33h0xn6qL63NgASFMg"),m=async()=>{o(!0);try{const y=await(await fetch("https://berilden-api.onrender.com/api/ciceksepeti-orders",{method:"POST",headers:{"Content-Type":"application/json"}})).json();y.success?(s(y.data),y.data.length===0&&alert("Yeni sipari bulunamad.")):alert("Hata: "+(y.error||"Balant salanamad."))}catch{alert("Sunucu hatas!")}o(!1)},b=async g=>{await i.add("orders",{customerName:g.receiverName,productName:g.orderItems?g.orderItems[0].productName:"ieksepeti rn",price:g.totalPrice,platform:"ieksepeti",status:"new",note:`Sipari No: ${g.orderId}`,createdAt:Pn()}),s(e.filter(y=>y.orderId!==g.orderId))};return d.jsxs("div",{className:"space-y-6 animate-in fade-in pb-20",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-blue-200 dark:border-slate-700 shadow-sm",children:[d.jsx("h2",{className:"text-xl font-bold dark:text-white mb-4 text-blue-600",children:"ieksepeti Entegrasyonu"}),d.jsx("div",{className:"bg-blue-50 text-blue-800 p-3 rounded-lg mb-4 text-xs",children:" API Anahtar Tanml"}),d.jsx("button",{onClick:m,disabled:a,className:"w-full py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-100 dark:shadow-none",children:a?"Balanyor...":"SPARLER EK"})]}),e.length>0&&d.jsx("div",{className:"grid grid-cols-1 gap-3",children:e.map(g=>d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border flex flex-col md:flex-row justify-between items-center gap-4 hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-bold dark:text-white",children:g.receiverName}),d.jsx("p",{className:"text-sm text-slate-500",children:g.orderId})]}),d.jsxs("div",{className:"text-right flex items-center gap-4",children:[d.jsxs("p",{className:"font-bold text-blue-600 text-lg",children:[g.totalPrice,""]}),d.jsx("button",{onClick:()=>b(g),className:"bg-green-600 text-white px-4 py-2 rounded-lg font-bold text-sm hover:bg-green-700",children:"Sisteme Al"})]})]},g.orderId))})]})},d4=({ops:i})=>{const[e,s]=le.useState("trendyol");return d.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold dark:text-white flex items-center gap-2",children:[d.jsx(R1,{className:"text-blue-500"})," Pazaryeri Entegrasyonlar"]}),d.jsx("p",{className:"text-sm text-slate-500",children:"Tm maazalarnz tek ekrandan ynetin."})]}),d.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 p-1 rounded-lg mt-4 md:mt-0 overflow-x-auto w-full md:w-auto",children:[d.jsx("button",{onClick:()=>s("trendyol"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all flex items-center gap-2 ${e==="trendyol"?"bg-white dark:bg-slate-700 shadow text-orange-600":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"Trendyol"}),d.jsx("button",{onClick:()=>s("hepsiburada"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all flex items-center gap-2 ${e==="hepsiburada"?"bg-white dark:bg-slate-700 shadow text-orange-800":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"Hepsiburada"}),d.jsx("button",{onClick:()=>s("ciceksepeti"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all flex items-center gap-2 ${e==="ciceksepeti"?"bg-white dark:bg-slate-700 shadow text-blue-600":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"ieksepeti"})]})]}),d.jsxs("div",{className:"min-h-[500px]",children:[e==="trendyol"&&d.jsx(o4,{ops:i}),e==="hepsiburada"&&d.jsx(c4,{ops:i}),e==="ciceksepeti"&&d.jsx(u4,{ops:i})]})]})};function h4(){const[i,e]=le.useState(null),[s,a]=le.useState(!0),[o,u]=le.useState("home"),[m,b]=le.useState(null),[g,y]=le.useState(localStorage.getItem("theme")||"light"),[_,N]=le.useState({items:[],orders:[],recentSales:[],markets:[],expenses:[],shoppingList:[],printers:[],printJobs:[],todos:[],proposals:[],ideas:[],filaments:[],printArchive:[]}),k=le.useMemo(()=>Fa?{add:async(z,D)=>{try{await NC(Hu(Gi,"artifacts",Qr,"public","data",z),{...D,createdAt:Pn()}),Fi(b,"Eklendi")}catch($){console.error($),Fi(b,"Hata","error")}},update:async(z,D,$)=>{try{await EC(Vm(Gi,"artifacts",Qr,"public","data",z,D),$),Fi(b,"Gncellendi")}catch(T){console.error(T),Fi(b,"Hata","error")}},delete:async(z,D)=>{if(confirm("Silmek istediine emin misin?"))try{await Zv(Vm(Gi,"artifacts",Qr,"public","data",D,z)),Fi(b,"Silindi")}catch($){console.error($),Fi(b,"Hata","error")}}}:{add:()=>{},update:()=>{},delete:()=>{}},[]),q=async()=>{if(!confirm(` DKKAT: Tm veritaban silinecek! 

Stok, sipariler, mteriler, ayarlar... Her ey kalc olarak yok olacak.

Onaylyor musunuz?`))return;if(prompt("lemi onaylamak iin 'SIFIRLA' yaznz:")!=="SIFIRLA"){alert("lem iptal edildi.");return}a(!0);try{const D=["inventory","orders","sales_history","markets","general_expenses","shopping","printers","workshop_jobs","workshop_filaments","print_archive","todos","proposals","ideas"];for(const $ of D){const T=Hu(Gi,"artifacts",Qr,"public","data",$),ae=(await Xv(T)).docs.map(de=>Zv(de.ref));await Promise.all(ae)}Fi(b,"Sistem fabrika ayarlarna dndrld.")}catch(D){console.error(D),Fi(b,"Sfrlama hatas: "+D.message,"error")}finally{a(!1)}};if(le.useEffect(()=>{document.documentElement.classList.toggle("dark",g==="dark"),localStorage.setItem("theme",g)},[g]),le.useEffect(()=>{if(!Fa){a(!1);return}return(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token&&await JE(el,__initial_auth_token),a(!1)})(),tN(el,e)},[]),le.useEffect(()=>{if(!i||!Fa)return;const z=$=>Hu(Gi,"artifacts",Qr,"public","data",$),D=[Tn(z("inventory"),$=>N(T=>({...T,items:$.docs.map(I=>({id:I.id,...I.data()}))}))),Tn(z("orders"),$=>N(T=>({...T,orders:$.docs.map(I=>({id:I.id,...I.data()}))}))),Tn(z("sales_history"),$=>N(T=>({...T,recentSales:$.docs.map(I=>({id:I.id,...I.data()}))}))),Tn(z("markets"),$=>N(T=>({...T,markets:$.docs.map(I=>({id:I.id,...I.data()}))}))),Tn(z("general_expenses"),$=>N(T=>({...T,expenses:$.docs.map(I=>({id:I.id,...I.data()}))}))),Tn(z("shopping"),$=>N(T=>({...T,shoppingList:$.docs.map(I=>({id:I.id,...I.data()}))}))),Tn(z("printers"),$=>N(T=>({...T,printers:$.docs.map(I=>({id:I.id,...I.data()}))}))),Tn(z("workshop_jobs"),$=>N(T=>({...T,printJobs:$.docs.map(I=>({id:I.id,...I.data()}))}))),Tn(z("todos"),$=>N(T=>({...T,todos:$.docs.map(I=>({id:I.id,...I.data()}))}))),Tn(z("proposals"),$=>N(T=>({...T,proposals:$.docs.map(I=>({id:I.id,...I.data()}))}))),Tn(z("ideas"),$=>N(T=>({...T,ideas:$.docs.map(I=>({id:I.id,...I.data()}))}))),Tn(z("workshop_filaments"),$=>N(T=>({...T,filaments:$.docs.map(I=>({id:I.id,...I.data()}))}))),Tn(z("print_archive"),$=>N(T=>({...T,printArchive:$.docs.map(I=>({id:I.id,...I.data()}))})))];return()=>D.forEach($=>$())},[i]),s)return d.jsx("div",{className:"h-screen flex items-center justify-center text-orange-600 font-bold animate-pulse",children:"Ykleniyor..."});if(!i)return d.jsx(Jj,{onLogin:async(z,D)=>{if(!Fa)return alert("Firebase bal deil.");const $=xC(Hu(Gi,"artifacts",Qr,"public","data","users"),Yv("username","==",z),Yv("password","==",D));(await Xv($)).empty?alert("Hatal Giri"):(el.currentUser||await YE(el),e({uid:"user"}))},loading:s,error:"",setError:alert});const Z=[{id:"home",label:"Dashboard",icon:Hd,view:d.jsx(Wj,{data:_,setActiveTab:u})},{id:"inventory",label:"Stok",icon:Ya,view:d.jsx(e4,{items:_.items,ops:k})},{id:"sales",label:"Sat",icon:Fd,view:d.jsx(t4,{items:_.items,ops:k})},{id:"orders",label:"Sipariler",icon:Bp,view:d.jsx(n4,{orders:_.orders,ops:k})},{id:"planning",label:"Planlama",icon:BC,view:d.jsx(s4,{todos:_.todos,proposals:_.proposals,ideas:_.ideas,ops:k})},{id:"marketplaces",label:"Pazaryeri",icon:R1,view:d.jsx(d4,{ops:k})},{id:"workshop",label:"3D Atlye",icon:A1,view:d.jsx(i4,{printers:_.printers,jobs:_.printJobs,filaments:_.filaments,archive:_.printArchive,ops:k})},{id:"market",label:"Pazar",icon:L1,view:d.jsx(a4,{markets:_.markets,items:_.items,sales:_.recentSales,expenses:_.expenses,ops:k})},{id:"accounting",label:"Muhasebe",icon:rc,view:d.jsx(r4,{expenses:_.expenses,sales:_.recentSales,ops:k})},{id:"shopping",label:"Alnacaklar",icon:JC,view:d.jsx(l4,{items:_.shoppingList,ops:k})},{id:"settings",label:"Ayarlar",icon:z1,view:d.jsx(f4,{user:i,onReset:q,fullData:_,theme:g,setTheme:y})}];return d.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-slate-900 font-sans text-slate-800 transition-colors",children:[d.jsxs("aside",{className:"hidden md:flex flex-col w-64 bg-white dark:bg-slate-800 border-r border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:[d.jsx("h1",{className:"text-2xl font-bold text-orange-600",children:"BerildenStore"}),d.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"Ynetim Paneli V11.4"})]}),d.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto custom-scrollbar",children:Z.map(z=>d.jsxs("button",{type:"button",onClick:()=>u(z.id),className:`w-full flex items-center gap-3 p-3 rounded-xl transition-all duration-200 ${o===z.id?"bg-orange-50 dark:bg-orange-900/20 text-orange-600":"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[d.jsx(z.icon,{size:20})," ",d.jsx("span",{className:"text-sm font-medium",children:z.label})]},z.id))}),d.jsxs("div",{className:"p-4 border-t border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[d.jsx("button",{type:"button",onClick:()=>y(g==="light"?"dark":"light"),className:"p-2 rounded-lg bg-slate-100 dark:bg-slate-700 dark:text-white",children:g==="light"?d.jsx(O1,{size:18}):d.jsx(Bm,{size:18})}),d.jsx("button",{type:"button",onClick:()=>{e(null),localStorage.removeItem("berilden_logged_in")},className:"text-red-500 font-bold text-sm",children:"k"})]})]}),d.jsxs("main",{className:"flex-1 flex flex-col h-screen overflow-hidden relative",children:[m&&d.jsxs("div",{className:`absolute top-4 left-1/2 -translate-x-1/2 px-6 py-3 rounded-full shadow-xl z-50 text-white font-bold flex items-center gap-2 animate-in slide-in-from-top-4 ${m.type==="error"?"bg-red-600":"bg-green-600"}`,children:[m.type==="success"?d.jsx(Bd,{size:18}):d.jsx(Up,{size:18})," ",m.message]}),d.jsxs("div",{className:"md:hidden p-4 bg-white dark:bg-slate-800 shadow-sm flex justify-between z-20",children:[d.jsx("span",{className:"font-bold text-orange-600 text-lg",children:"BerildenStore"}),d.jsx("button",{type:"button",onClick:()=>e(null),children:d.jsx(gj,{className:"text-slate-500"})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 custom-scrollbar",children:Z.find(z=>z.id===o)?.view}),d.jsx("div",{className:"md:hidden bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 flex justify-between px-2 py-2 safe-area-bottom z-20",children:Z.slice(0,5).map(z=>d.jsxs("button",{type:"button",onClick:()=>u(z.id),className:`flex flex-col items-center min-w-[60px] ${o===z.id?"text-orange-600":"text-slate-400"}`,children:[d.jsx(z.icon,{size:20}),d.jsx("span",{className:"text-[9px] mt-1 font-medium",children:z.label})]},z.id))})]})]})}const f4=({user:i,onReset:e,fullData:s,theme:a,setTheme:o})=>{const u=()=>{if(!s)return alert("Veri bulunamad.");const m="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(s)),b=document.createElement("a");b.setAttribute("href",m),b.setAttribute("download","berilden_yedek_"+new Date().toLocaleDateString("tr-TR").replace(/\./g,"-")+".json"),document.body.appendChild(b),b.click(),b.remove()};return d.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 animate-in fade-in pb-20",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm flex flex-col md:flex-row justify-between items-center gap-4",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold dark:text-white flex items-center gap-2",children:[d.jsx(z1,{className:"text-slate-500"})," Sistem Ayarlar"]}),d.jsx("p",{className:"text-slate-500 mt-1",children:"Uygulama tercihleri ve veri ynetimi."})]}),d.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 dark:bg-slate-900/50 px-4 py-2 rounded-xl border dark:border-slate-700",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center font-bold",children:i?.username?i.username.charAt(0).toUpperCase():"A"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-bold dark:text-white",children:i?.username||"Ynetici"}),d.jsx("p",{className:"text-xs text-slate-400",children:"Tam Yetkili"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsxs("h3",{className:"font-bold text-lg mb-4 dark:text-white flex items-center gap-2",children:[d.jsx(Bm,{size:20,className:"text-yellow-500"})," Grnm"]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{onClick:()=>o("light"),className:`p-4 rounded-xl border flex flex-col items-center gap-2 transition-all ${a==="light"?"bg-orange-50 border-orange-200 text-orange-600 ring-2 ring-orange-100":"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[d.jsx(Bm,{size:24}),d.jsx("span",{className:"text-sm font-bold",children:"Aydnlk"})]}),d.jsxs("button",{onClick:()=>o("dark"),className:`p-4 rounded-xl border flex flex-col items-center gap-2 transition-all ${a==="dark"?"bg-slate-700 border-slate-600 text-white ring-2 ring-slate-600":"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[d.jsx(O1,{size:24}),d.jsx("span",{className:"text-sm font-bold",children:"Karanlk"})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsxs("h3",{className:"font-bold text-lg mb-4 dark:text-white flex items-center gap-2",children:[d.jsx(I1,{size:20,className:"text-blue-500"})," Hakknda"]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-900/50 rounded-lg",children:[d.jsx("span",{className:"text-sm font-medium dark:text-white",children:"Versiyon"}),d.jsx("span",{className:"text-xs font-bold bg-slate-200 dark:bg-slate-700 px-2 py-1 rounded",children:"v11.5.0"})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-900/50 rounded-lg",children:[d.jsx("span",{className:"text-sm font-medium dark:text-white",children:"Son Gncelleme"}),d.jsx("span",{className:"text-xs text-slate-500",children:"Aralk 2024"})]}),d.jsxs("button",{type:"button",onClick:()=>window.location.reload(),className:"w-full py-3 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-lg font-bold hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors flex items-center justify-center gap-2 text-sm",children:[d.jsx(V1,{size:16})," Uygulamay Yeniden Balat"]})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 p-6 rounded-2xl text-white shadow-lg relative overflow-hidden group",children:[d.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:opacity-20 transition-opacity transform group-hover:scale-110 duration-500",children:d.jsx(vd,{size:120})}),d.jsxs("h3",{className:"font-bold text-xl mb-2 relative z-10 flex items-center gap-2",children:[d.jsx(vd,{size:20})," Veri Yedekleme"]}),d.jsx("p",{className:"text-blue-100 text-sm mb-6 relative z-10 opacity-90",children:"Tm stok, sipari, mteri ve muhasebe kaytlarnz gvenli bir ekilde bilgisayarnza indirin."}),d.jsxs("button",{onClick:u,className:"w-full py-3 bg-white text-blue-600 rounded-xl font-bold shadow-lg flex items-center justify-center gap-2 hover:bg-blue-50 transition-colors relative z-10",children:[d.jsx(zp,{size:20})," Yedek ndir (.json)"]}),d.jsx("p",{className:"text-[10px] text-center mt-3 text-blue-200 relative z-10",children:"ndirilen dosya .json formatndadr."})]}),d.jsxs("div",{className:"bg-red-50 dark:bg-red-900/10 p-6 rounded-2xl border border-red-100 dark:border-red-900/30",children:[d.jsxs("h3",{className:"font-bold text-red-600 mb-4 flex items-center gap-2",children:[d.jsx(Up,{size:20})," Tehlikeli Blge"]}),d.jsx("p",{className:"text-sm text-red-800/70 dark:text-red-300 mb-4",children:"Fabrika ayarlarna dnmek tm verilerinizi kalc olarak siler. Bu ilem geri alnamaz."}),d.jsxs("button",{type:"button",onClick:e,className:"w-full py-3 bg-white dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 rounded-xl font-bold hover:bg-red-600 hover:text-white dark:hover:bg-red-800 transition-colors flex items-center justify-center gap-2",children:[d.jsx(sn,{size:18})," Verileri Sfrla"]})]})]})]})]})};function m4(){return d.jsx($j,{children:d.jsx(h4,{})})}console.log("--> Main.jsx alt! React balatlyor...");const sx=document.getElementById("root");sx?ST.createRoot(sx).render(d.jsx(bT.StrictMode,{children:d.jsx(m4,{})})):(console.error("KRTK HATA: 'root' elementi bulunamad!"),document.body.innerHTML="<h1 style='color:red; padding:20px'>HATA: Sitede root elementi yok.</h1>");
//# sourceMappingURL=index--KLL0cDG.js.map
