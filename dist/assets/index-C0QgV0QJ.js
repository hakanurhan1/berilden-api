(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const m of u.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function s(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=s(o);fetch(o.href,u)}})();function ix(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Gf={exports:{}},Eo={};var cb;function pT(){if(cb)return Eo;cb=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,o,u){var m=null;if(u!==void 0&&(m=""+u),o.key!==void 0&&(m=""+o.key),"key"in o){u={};for(var b in o)b!=="key"&&(u[b]=o[b])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:m,ref:o!==void 0?o:null,props:u}}return Eo.Fragment=e,Eo.jsx=s,Eo.jsxs=s,Eo}var ub;function gT(){return ub||(ub=1,Gf.exports=pT()),Gf.exports}var d=gT(),Kf={exports:{}},Ne={};var db;function yT(){if(db)return Ne;db=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),m=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),k=Symbol.iterator;function L(V){return V===null||typeof V!="object"?null:(V=k&&V[k]||V["@@iterator"],typeof V=="function"?V:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,D={};function $(V,ee,le){this.props=V,this.context=ee,this.refs=D,this.updater=le||Z}$.prototype.isReactComponent={},$.prototype.setState=function(V,ee){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ee,"setState")},$.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function T(){}T.prototype=$.prototype;function I(V,ee,le){this.props=V,this.context=ee,this.refs=D,this.updater=le||Z}var se=I.prototype=new T;se.constructor=I,G(se,$.prototype),se.isPureReactComponent=!0;var ie=Array.isArray;function pe(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(V,ee,le){var de=le.ref;return{$$typeof:i,type:V,key:ee,ref:de!==void 0?de:null,props:le}}function z(V,ee){return R(V.type,ee,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function P(V){var ee={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(le){return ee[le]})}var S=/\/+/g;function xe(V,ee){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):ee.toString(36)}function Fe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(pe,pe):(V.status="pending",V.then(function(ee){V.status==="pending"&&(V.status="fulfilled",V.value=ee)},function(ee){V.status==="pending"&&(V.status="rejected",V.reason=ee)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function B(V,ee,le,de,Te){var Ce=typeof V;(Ce==="undefined"||Ce==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(Ce){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case i:case e:Ue=!0;break;case _:return Ue=V._init,B(Ue(V._payload),ee,le,de,Te)}}if(Ue)return Te=Te(V),Ue=de===""?"."+xe(V,0):de,ie(Te)?(le="",Ue!=null&&(le=Ue.replace(S,"$&/")+"/"),B(Te,ee,le,"",function(dr){return dr})):Te!=null&&(O(Te)&&(Te=z(Te,le+(Te.key==null||V&&V.key===Te.key?"":(""+Te.key).replace(S,"$&/")+"/")+Ue)),ee.push(Te)),1;Ue=0;var Rt=de===""?".":de+":";if(ie(V))for(var lt=0;lt<V.length;lt++)de=V[lt],Ce=Rt+xe(de,lt),Ue+=B(de,ee,le,Ce,Te);else if(lt=L(V),typeof lt=="function")for(V=lt.call(V),lt=0;!(de=V.next()).done;)de=de.value,Ce=Rt+xe(de,lt++),Ue+=B(de,ee,le,Ce,Te);else if(Ce==="object"){if(typeof V.then=="function")return B(Fe(V),ee,le,de,Te);throw ee=String(V),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function re(V,ee,le){if(V==null)return V;var de=[],Te=0;return B(V,de,"","",function(Ce){return ee.call(le,Ce,Te++)}),de}function be(V){if(V._status===-1){var ee=V._result;ee=ee(),ee.then(function(le){(V._status===0||V._status===-1)&&(V._status=1,V._result=le)},function(le){(V._status===0||V._status===-1)&&(V._status=2,V._result=le)}),V._status===-1&&(V._status=0,V._result=ee)}if(V._status===1)return V._result.default;throw V._result}var Be=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Qe={map:re,forEach:function(V,ee,le){re(V,function(){ee.apply(this,arguments)},le)},count:function(V){var ee=0;return re(V,function(){ee++}),ee},toArray:function(V){return re(V,function(ee){return ee})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ne.Activity=N,Ne.Children=Qe,Ne.Component=$,Ne.Fragment=s,Ne.Profiler=o,Ne.PureComponent=I,Ne.StrictMode=r,Ne.Suspense=g,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},Ne.cache=function(V){return function(){return V.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(V,ee,le){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var de=G({},V.props),Te=V.key;if(ee!=null)for(Ce in ee.key!==void 0&&(Te=""+ee.key),ee)!A.call(ee,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ee.ref===void 0||(de[Ce]=ee[Ce]);var Ce=arguments.length-2;if(Ce===1)de.children=le;else if(1<Ce){for(var Ue=Array(Ce),Rt=0;Rt<Ce;Rt++)Ue[Rt]=arguments[Rt+2];de.children=Ue}return R(V.type,Te,de)},Ne.createContext=function(V){return V={$$typeof:m,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ne.createElement=function(V,ee,le){var de,Te={},Ce=null;if(ee!=null)for(de in ee.key!==void 0&&(Ce=""+ee.key),ee)A.call(ee,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Te[de]=ee[de]);var Ue=arguments.length-2;if(Ue===1)Te.children=le;else if(1<Ue){for(var Rt=Array(Ue),lt=0;lt<Ue;lt++)Rt[lt]=arguments[lt+2];Te.children=Rt}if(V&&V.defaultProps)for(de in Ue=V.defaultProps,Ue)Te[de]===void 0&&(Te[de]=Ue[de]);return R(V,Ce,Te)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(V){return{$$typeof:b,render:V}},Ne.isValidElement=O,Ne.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:be}},Ne.memo=function(V,ee){return{$$typeof:y,type:V,compare:ee===void 0?null:ee}},Ne.startTransition=function(V){var ee=C.T,le={};C.T=le;try{var de=V(),Te=C.S;Te!==null&&Te(le,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(pe,Be)}catch(Ce){Be(Ce)}finally{ee!==null&&le.types!==null&&(ee.types=le.types),C.T=ee}},Ne.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ne.use=function(V){return C.H.use(V)},Ne.useActionState=function(V,ee,le){return C.H.useActionState(V,ee,le)},Ne.useCallback=function(V,ee){return C.H.useCallback(V,ee)},Ne.useContext=function(V){return C.H.useContext(V)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(V,ee){return C.H.useDeferredValue(V,ee)},Ne.useEffect=function(V,ee){return C.H.useEffect(V,ee)},Ne.useEffectEvent=function(V){return C.H.useEffectEvent(V)},Ne.useId=function(){return C.H.useId()},Ne.useImperativeHandle=function(V,ee,le){return C.H.useImperativeHandle(V,ee,le)},Ne.useInsertionEffect=function(V,ee){return C.H.useInsertionEffect(V,ee)},Ne.useLayoutEffect=function(V,ee){return C.H.useLayoutEffect(V,ee)},Ne.useMemo=function(V,ee){return C.H.useMemo(V,ee)},Ne.useOptimistic=function(V,ee){return C.H.useOptimistic(V,ee)},Ne.useReducer=function(V,ee,le){return C.H.useReducer(V,ee,le)},Ne.useRef=function(V){return C.H.useRef(V)},Ne.useState=function(V){return C.H.useState(V)},Ne.useSyncExternalStore=function(V,ee,le){return C.H.useSyncExternalStore(V,ee,le)},Ne.useTransition=function(){return C.H.useTransition()},Ne.version="19.2.1",Ne}var hb;function qm(){return hb||(hb=1,Kf.exports=yT()),Kf.exports}var oe=qm();const bT=ix(oe);var Yf={exports:{}},No={},Qf={exports:{}},$f={};var fb;function vT(){return fb||(fb=1,(function(i){function e(B,re){var be=B.length;B.push(re);e:for(;0<be;){var Be=be-1>>>1,Qe=B[Be];if(0<o(Qe,re))B[Be]=re,B[be]=Qe,be=Be;else break e}}function s(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var re=B[0],be=B.pop();if(be!==re){B[0]=be;e:for(var Be=0,Qe=B.length,V=Qe>>>1;Be<V;){var ee=2*(Be+1)-1,le=B[ee],de=ee+1,Te=B[de];if(0>o(le,be))de<Qe&&0>o(Te,le)?(B[Be]=Te,B[de]=be,Be=de):(B[Be]=le,B[ee]=be,Be=ee);else if(de<Qe&&0>o(Te,be))B[Be]=Te,B[de]=be,Be=de;else break e}}return re}function o(B,re){var be=B.sortIndex-re.sortIndex;return be!==0?be:B.id-re.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var m=Date,b=m.now();i.unstable_now=function(){return m.now()-b}}var g=[],y=[],_=1,N=null,k=3,L=!1,Z=!1,G=!1,D=!1,$=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function se(B){for(var re=s(y);re!==null;){if(re.callback===null)r(y);else if(re.startTime<=B)r(y),re.sortIndex=re.expirationTime,e(g,re);else break;re=s(y)}}function ie(B){if(G=!1,se(B),!Z)if(s(g)!==null)Z=!0,pe||(pe=!0,P());else{var re=s(y);re!==null&&Fe(ie,re.startTime-B)}}var pe=!1,C=-1,A=5,R=-1;function z(){return D?!0:!(i.unstable_now()-R<A)}function O(){if(D=!1,pe){var B=i.unstable_now();R=B;var re=!0;try{e:{Z=!1,G&&(G=!1,T(C),C=-1),L=!0;var be=k;try{t:{for(se(B),N=s(g);N!==null&&!(N.expirationTime>B&&z());){var Be=N.callback;if(typeof Be=="function"){N.callback=null,k=N.priorityLevel;var Qe=Be(N.expirationTime<=B);if(B=i.unstable_now(),typeof Qe=="function"){N.callback=Qe,se(B),re=!0;break t}N===s(g)&&r(g),se(B)}else r(g);N=s(g)}if(N!==null)re=!0;else{var V=s(y);V!==null&&Fe(ie,V.startTime-B),re=!1}}break e}finally{N=null,k=be,L=!1}re=void 0}}finally{re?P():pe=!1}}}var P;if(typeof I=="function")P=function(){I(O)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,xe=S.port2;S.port1.onmessage=O,P=function(){xe.postMessage(null)}}else P=function(){$(O,0)};function Fe(B,re){C=$(function(){B(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return k},i.unstable_next=function(B){switch(k){case 1:case 2:case 3:var re=3;break;default:re=k}var be=k;k=re;try{return B()}finally{k=be}},i.unstable_requestPaint=function(){D=!0},i.unstable_runWithPriority=function(B,re){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var be=k;k=B;try{return re()}finally{k=be}},i.unstable_scheduleCallback=function(B,re,be){var Be=i.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?Be+be:Be):be=Be,B){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=be+Qe,B={id:_++,callback:re,priorityLevel:B,startTime:be,expirationTime:Qe,sortIndex:-1},be>Be?(B.sortIndex=be,e(y,B),s(g)===null&&B===s(y)&&(G?(T(C),C=-1):G=!0,Fe(ie,be-Be))):(B.sortIndex=Qe,e(g,B),Z||L||(Z=!0,pe||(pe=!0,P()))),B},i.unstable_shouldYield=z,i.unstable_wrapCallback=function(B){var re=k;return function(){var be=k;k=re;try{return B.apply(this,arguments)}finally{k=be}}}})($f)),$f}var mb;function xT(){return mb||(mb=1,Qf.exports=vT()),Qf.exports}var Xf={exports:{}},$t={};var pb;function _T(){if(pb)return $t;pb=1;var i=qm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,_){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:N==null?null:""+N,children:g,containerInfo:y,implementation:_}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$t.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,_)},$t.flushSync=function(g){var y=m.T,_=r.p;try{if(m.T=null,r.p=2,g)return g()}finally{m.T=y,r.p=_,r.d.f()}},$t.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},$t.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},$t.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,N=b(_,y.crossOrigin),k=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:N,integrity:k,fetchPriority:L}):_==="script"&&r.d.X(g,{crossOrigin:N,integrity:k,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$t.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=b(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},$t.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,N=b(_,y.crossOrigin);r.d.L(g,_,{crossOrigin:N,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$t.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=b(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},$t.requestFormReset=function(g){r.d.r(g)},$t.unstable_batchedUpdates=function(g,y){return g(y)},$t.useFormState=function(g,y,_){return m.H.useFormState(g,y,_)},$t.useFormStatus=function(){return m.H.useHostTransitionStatus()},$t.version="19.2.1",$t}var gb;function wT(){if(gb)return Xf.exports;gb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Xf.exports=_T(),Xf.exports}var yb;function TT(){if(yb)return No;yb=1;var i=xT(),e=qm(),s=wT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function m(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===l)return g(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var v=!1,w=h.child;w;){if(w===a){v=!0,a=h,l=f;break}if(w===l){v=!0,l=h,a=f;break}w=w.sibling}if(!v){for(w=f.child;w;){if(w===a){v=!0,a=f,l=h;break}if(w===l){v=!0,l=f,a=h;break}w=w.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var N=Object.assign,k=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),I=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case $:return"Profiler";case D:return"StrictMode";case ie:return"Suspense";case pe:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case I:return t.displayName||"Context";case T:return(t._context.displayName||"Context")+".Consumer";case se:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:xe(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return xe(t(n))}catch{}}return null}var Fe=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},Be=[],Qe=-1;function V(t){return{current:t}}function ee(t){0>Qe||(t.current=Be[Qe],Be[Qe]=null,Qe--)}function le(t,n){Qe++,Be[Qe]=t.current,t.current=n}var de=V(null),Te=V(null),Ce=V(null),Ue=V(null);function Rt(t,n){switch(le(Ce,n),le(Te,t),le(de,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Iy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Iy(n),t=Dy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(de),le(de,t)}function lt(){ee(de),ee(Te),ee(Ce)}function dr(t){t.memoizedState!==null&&le(Ue,t);var n=de.current,a=Dy(n,t.type);n!==a&&(le(Te,t),le(de,a))}function sa(t){Te.current===t&&(ee(de),ee(Te)),Ue.current===t&&(ee(Ue),xo._currentValue=be)}var ia,ra;function is(t){if(ia===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ia=n&&n[1]||"",ra=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ia+t+ra}var vl=!1;function hr(t,n){if(!t||vl)return"";vl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Q){var K=Q}Reflect.construct(t,[],W)}else{try{W.call()}catch(Q){K=Q}t.call(W.prototype)}}else{try{throw Error()}catch(Q){K=Q}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],w=f[1];if(v&&w){var j=v.split(`
`),F=w.split(`
`);for(h=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===j.length||h===F.length)for(l=j.length-1,h=F.length-1;1<=l&&0<=h&&j[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(j[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||j[l]!==F[h]){var X=`
`+j[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{vl=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?is(a):""}function xl(t,n){switch(t.tag){case 26:case 27:case 5:return is(t.type);case 16:return is("Lazy");case 13:return t.child!==n&&n!==null?is("Suspense Fallback"):is("Suspense");case 19:return is("SuspenseList");case 0:case 15:return hr(t.type,!1);case 11:return hr(t.type.render,!1);case 1:return hr(t.type,!0);case 31:return is("Activity");default:return""}}function _l(t){try{var n="",a=null;do n+=xl(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,It=i.unstable_scheduleCallback,ui=i.unstable_cancelCallback,Kd=i.unstable_shouldYield,oc=i.unstable_requestPaint,en=i.unstable_now,fr=i.unstable_getCurrentPriorityLevel,wl=i.unstable_ImmediatePriority,Tl=i.unstable_UserBlockingPriority,di=i.unstable_NormalPriority,Yd=i.unstable_LowPriority,cc=i.unstable_IdlePriority,uc=i.log,dc=i.unstable_setDisableYieldValue,Bn=null,Ut=null;function Sn(t){if(typeof uc=="function"&&dc(t),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(Bn,t)}catch{}}var ft=Math.clz32?Math.clz32:fc,hc=Math.log,aa=Math.LN2;function fc(t){return t>>>=0,t===0?32:31-(hc(t)/aa|0)|0}var rs=256,mr=262144,vt=4194304;function as(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ls(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~f,l!==0?h=as(l):(v&=w,v!==0?h=as(v):a||(a=w&~t,a!==0&&(h=as(a))))):(w=l&~f,w!==0?h=as(w):v!==0?h=as(v):a||(a=l&~t,a!==0&&(h=as(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function qn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Qd(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mc(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function os(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function pr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function $d(t,n,a,l,h,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,j=t.expirationTimes,F=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-ft(a),W=1<<X;w[X]=0,j[X]=-1;var K=F[X];if(K!==null)for(F[X]=null,X=0;X<K.length;X++){var Q=K[X];Q!==null&&(Q.lane&=-536870913)}a&=~W}l!==0&&gr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function gr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ft(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function El(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-ft(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Nl(t,n){var a=n&-n;return a=(a&42)!==0?1:yr(a),(a&(t.suspendedLanes|n))!==0?0:a}function yr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Os(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function pc(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:nb(t.type))}function Hn(t,n){var a=re.p;try{return re.p=t,n()}finally{re.p=a}}var Fn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Fn,Ot="__reactProps$"+Fn,cs="__reactContainer$"+Fn,la="__reactEvents$"+Fn,Xd="__reactListeners$"+Fn,gc="__reactHandles$"+Fn,yc="__reactResources$"+Fn,us="__reactMarker$"+Fn;function oa(t){delete t[xt],delete t[Ot],delete t[la],delete t[Xd],delete t[gc]}function ds(t){var n=t[xt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[cs]||a[xt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Py(t);t!==null;){if(a=t[xt])return a;t=Py(t)}return n}t=a,a=t.parentNode}return null}function An(t){if(t=t[xt]||t[cs]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function mn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function hs(t){var n=t[yc];return n||(n=t[yc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _t(t){t[us]=!0}var Sl=new Set,Al={};function fs(t,n){ms(t,n),ms(t+"Capture",n)}function ms(t,n){for(Al[t]=n,t=0;t<n.length;t++)Sl.add(n[t])}var kl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cl={},jl={};function bc(t){return bt.call(jl,t)?!0:bt.call(Cl,t)?!1:kl.test(t)?jl[t]=!0:(Cl[t]=!0,!1)}function ca(t,n,a){if(bc(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function pn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function wt(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Vt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Rl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function $e(t){if(!t._valueTracker){var n=hi(t)?"checked":"value";t._valueTracker=Rl(t,n,""+t[n])}}function br(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=hi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ps(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vr=/[\n"\\]/g;function rn(t){return t.replace(vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ua(t,n,a,l,h,f,v,w){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Vt(n)):t.value!==""+Vt(n)&&(t.value=""+Vt(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Il(t,v,Vt(n)):a!=null?Il(t,v,Vt(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Vt(w):t.removeAttribute("name")}function vc(t,n,a,l,h,f,v,w){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){$e(t);return}a=a!=null?""+Vt(a):"",n=n!=null?""+Vt(n):a,w||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),$e(t)}function Il(t,n,a){n==="number"&&ps(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function fi(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Vt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function xc(t,n,a){if(n!=null&&(n=""+Vt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Vt(a):""}function mi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(Fe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Vt(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),$e(t)}function an(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var _c=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||_c.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ml(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Dl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Dl(t,f,n[f])}function da(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ha(t){return pi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var Ol=null;function kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gi=null,gs=null;function xr(t){var n=An(t);if(n&&(t=n.stateNode)){var a=t[Ot]||null;e:switch(t=n.stateNode,n.type){case"input":if(ua(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Ot]||null;if(!h)throw Error(r(90));ua(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&br(l)}break e;case"textarea":xc(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&fi(t,!!a.multiple,n,!1)}}}var fa=!1;function yi(t,n,a){if(fa)return t(n,a);fa=!0;try{var l=t(n);return l}finally{if(fa=!1,(gi!==null||gs!==null)&&(pu(),gi&&(n=gi,t=gs,gs=gi=null,xr(n),t)))for(n=0;n<t.length;n++)xr(t[n])}}function Kn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Ot]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_r=!1;if(Cn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){_r=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{_r=!1}var ys=null,Vl=null,wr=null;function zl(){if(wr)return wr;var t,n=Vl,a=n.length,l,h="value"in ys?ys.value:ys.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&n[a-l]===h[f-l];l++);return wr=h.slice(t,1<l?1-l:void 0)}function Tr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Vs(){return!0}function Yn(){return!1}function Pt(t){function n(a,l,h,f,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Vs:Yn,this.isPropagationStopped=Yn,this}return N(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),n}var zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bs=Pt(zs),bi=N({},zs,{view:0,detail:0}),Ll=Pt(bi),vi,ma,vs,pa=N({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vs&&(vs&&t.type==="mousemove"?(vi=t.screenX-vs.screenX,ma=t.screenY-vs.screenY):ma=vi=0,vs=t),vi)},movementY:function(t){return"movementY"in t?t.movementY:ma}}),Ul=Pt(pa),Er=N({},pa,{dataTransfer:0}),Tc=Pt(Er),Ec=N({},bi,{relatedTarget:0}),Nr=Pt(Ec),Pl=N({},zs,{animationName:0,elapsedTime:0,pseudoElement:0}),Nc=Pt(Pl),ga=N({},zs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sc=Pt(ga),Ac=N({},zs,{data:0}),xs=Pt(Ac),kc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rc(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=jc[t])?!!n[t]:!1}function xi(){return Rc}var tn=N({},bi,{key:function(t){if(t.key){var n=kc[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Tr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xi,charCode:function(t){return t.type==="keypress"?Tr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ic=Pt(tn),Dc=N({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ls=Pt(Dc),c=N({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xi}),p=Pt(c),x=N({},zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=Pt(x),q=N({},pa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Pt(q),ae=N({},zs,{newState:0,oldState:0}),Ae=Pt(ae),mt=[9,13,27,32],Ge=Cn&&"CompositionEvent"in window,ot=null;Cn&&"documentMode"in document&&(ot=document.documentMode);var jn=Cn&&"TextEvent"in window&&!ot,_s=Cn&&(!Ge||ot&&8<ot&&11>=ot),Qn=" ",$n=!1;function Sr(t,n){switch(t){case"keyup":return mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ba=!1;function U1(t,n){switch(t){case"compositionend":return ya(n);case"keypress":return n.which!==32?null:($n=!0,Qn);case"textInput":return t=n.data,t===Qn&&$n?null:t;default:return null}}function P1(t,n){if(ba)return t==="compositionend"||!Ge&&Sr(t,n)?(t=zl(),wr=Vl=ys=null,ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _s&&n.locale!=="ko"?null:n.data;default:return null}}var B1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!B1[t.type]:n==="textarea"}function Fp(t,n,a,l){gi?gs?gs.push(l):gs=[l]:gi=l,n=wu(n,"onChange"),0<n.length&&(a=new bs("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Bl=null,ql=null;function q1(t){Sy(t,0)}function Mc(t){var n=mn(t);if(br(n))return t}function Gp(t,n){if(t==="change")return n}var Kp=!1;if(Cn){var Zd;if(Cn){var Jd="oninput"in document;if(!Jd){var Yp=document.createElement("div");Yp.setAttribute("oninput","return;"),Jd=typeof Yp.oninput=="function"}Zd=Jd}else Zd=!1;Kp=Zd&&(!document.documentMode||9<document.documentMode)}function Qp(){Bl&&(Bl.detachEvent("onpropertychange",$p),ql=Bl=null)}function $p(t){if(t.propertyName==="value"&&Mc(ql)){var n=[];Fp(n,ql,t,kn(t)),yi(q1,n)}}function H1(t,n,a){t==="focusin"?(Qp(),Bl=n,ql=a,Bl.attachEvent("onpropertychange",$p)):t==="focusout"&&Qp()}function F1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mc(ql)}function G1(t,n){if(t==="click")return Mc(n)}function K1(t,n){if(t==="input"||t==="change")return Mc(n)}function Y1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var gn=typeof Object.is=="function"?Object.is:Y1;function Hl(t,n){if(gn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!bt.call(n,h)||!gn(t[h],n[h]))return!1}return!0}function Xp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zp(t,n){var a=Xp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Xp(a)}}function Jp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Jp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Wp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ps(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ps(t.document)}return n}function Wd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Q1=Cn&&"documentMode"in document&&11>=document.documentMode,va=null,eh=null,Fl=null,th=!1;function eg(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;th||va==null||va!==ps(l)||(l=va,"selectionStart"in l&&Wd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Fl&&Hl(Fl,l)||(Fl=l,l=wu(eh,"onSelect"),0<l.length&&(n=new bs("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=va)))}function Ar(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var xa={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionrun:Ar("Transition","TransitionRun"),transitionstart:Ar("Transition","TransitionStart"),transitioncancel:Ar("Transition","TransitionCancel"),transitionend:Ar("Transition","TransitionEnd")},nh={},tg={};Cn&&(tg=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function kr(t){if(nh[t])return nh[t];if(!xa[t])return t;var n=xa[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in tg)return nh[t]=n[a];return t}var ng=kr("animationend"),sg=kr("animationiteration"),ig=kr("animationstart"),$1=kr("transitionrun"),X1=kr("transitionstart"),Z1=kr("transitioncancel"),rg=kr("transitionend"),ag=new Map,sh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sh.push("scrollEnd");function Xn(t,n){ag.set(t,n),fs(n,[t])}var Oc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Rn=[],_a=0,ih=0;function Vc(){for(var t=_a,n=ih=_a=0;n<t;){var a=Rn[n];Rn[n++]=null;var l=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&lg(a,h,f)}}function zc(t,n,a,l){Rn[_a++]=t,Rn[_a++]=n,Rn[_a++]=a,Rn[_a++]=l,ih|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function rh(t,n,a,l){return zc(t,n,a,l),Lc(t)}function Cr(t,n){return zc(t,null,null,n),Lc(t)}function lg(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-ft(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Lc(t){if(50<fo)throw fo=0,pf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var wa={};function J1(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,n,a,l){return new J1(t,n,a,l)}function ah(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Us(t,n){var a=t.alternate;return a===null?(a=yn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function og(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Uc(t,n,a,l,h,f){var v=0;if(l=t,typeof t=="function")ah(t)&&(v=1);else if(typeof t=="string")v=sT(t,a,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=yn(31,a,n,h),t.elementType=R,t.lanes=f,t;case G:return jr(a.children,h,f,n);case D:v=8,h|=24;break;case $:return t=yn(12,a,n,h|2),t.elementType=$,t.lanes=f,t;case ie:return t=yn(13,a,n,h),t.elementType=ie,t.lanes=f,t;case pe:return t=yn(19,a,n,h),t.elementType=pe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I:v=10;break e;case T:v=9;break e;case se:v=11;break e;case C:v=14;break e;case A:v=16,l=null;break e}v=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=yn(v,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function jr(t,n,a,l){return t=yn(7,t,l,n),t.lanes=a,t}function lh(t,n,a){return t=yn(6,t,null,n),t.lanes=a,t}function cg(t){var n=yn(18,null,null,0);return n.stateNode=t,n}function oh(t,n,a){return n=yn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ug=new WeakMap;function In(t,n){if(typeof t=="object"&&t!==null){var a=ug.get(t);return a!==void 0?a:(n={value:t,source:n,stack:_l(n)},ug.set(t,n),n)}return{value:t,source:n,stack:_l(n)}}var Ta=[],Ea=0,Pc=null,Gl=0,Dn=[],Mn=0,_i=null,ws=1,Ts="";function Ps(t,n){Ta[Ea++]=Gl,Ta[Ea++]=Pc,Pc=t,Gl=n}function dg(t,n,a){Dn[Mn++]=ws,Dn[Mn++]=Ts,Dn[Mn++]=_i,_i=t;var l=ws;t=Ts;var h=32-ft(l)-1;l&=~(1<<h),a+=1;var f=32-ft(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,ws=1<<32-ft(n)+h|a<<h|l,Ts=f+t}else ws=1<<f|a<<h|l,Ts=t}function ch(t){t.return!==null&&(Ps(t,1),dg(t,1,0))}function uh(t){for(;t===Pc;)Pc=Ta[--Ea],Ta[Ea]=null,Gl=Ta[--Ea],Ta[Ea]=null;for(;t===_i;)_i=Dn[--Mn],Dn[Mn]=null,Ts=Dn[--Mn],Dn[Mn]=null,ws=Dn[--Mn],Dn[Mn]=null}function hg(t,n){Dn[Mn++]=ws,Dn[Mn++]=Ts,Dn[Mn++]=_i,ws=n.id,Ts=n.overflow,_i=t}var Bt=null,it=null,Le=!1,wi=null,On=!1,dh=Error(r(519));function Ti(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(In(n,t)),dh}function fg(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[xt]=t,n[Ot]=l,a){case"dialog":Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":case"embed":Ie("load",n);break;case"video":case"audio":for(a=0;a<po.length;a++)Ie(po[a],n);break;case"source":Ie("error",n);break;case"img":case"image":case"link":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"input":Ie("invalid",n),vc(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ie("invalid",n);break;case"textarea":Ie("invalid",n),mi(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||jy(n.textContent,a)?(l.popover!=null&&(Ie("beforetoggle",n),Ie("toggle",n)),l.onScroll!=null&&Ie("scroll",n),l.onScrollEnd!=null&&Ie("scrollend",n),l.onClick!=null&&(n.onclick=Gn),n=!0):n=!1,n||Ti(t,!0)}function mg(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Bt=Bt.return}}function Na(t){if(t!==Bt)return!1;if(!Le)return mg(t),Le=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||jf(t.type,t.memoizedProps)),a=!a),a&&it&&Ti(t),mg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));it=Uy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));it=Uy(t)}else n===27?(n=it,zi(t.type)?(t=Of,Of=null,it=t):it=n):it=Bt?zn(t.stateNode.nextSibling):null;return!0}function Rr(){it=Bt=null,Le=!1}function hh(){var t=wi;return t!==null&&(un===null?un=t:un.push.apply(un,t),wi=null),t}function Kl(t){wi===null?wi=[t]:wi.push(t)}var fh=V(null),Ir=null,Bs=null;function Ei(t,n,a){le(fh,n._currentValue),n._currentValue=a}function qs(t){t._currentValue=fh.current,ee(fh)}function mh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function ph(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;e:for(;f!==null;){var w=f;f=h;for(var j=0;j<n.length;j++)if(w.context===n[j]){f.lanes|=a,w=f.alternate,w!==null&&(w.lanes|=a),mh(f.return,a,t),l||(v=null);break e}f=w.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),mh(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Sa(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var w=h.type;gn(h.pendingProps.value,v.value)||(t!==null?t.push(w):t=[w])}}else if(h===Ue.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(xo):t=[xo])}h=h.return}t!==null&&ph(n,t,a,l),n.flags|=262144}function Bc(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Dr(t){Ir=t,Bs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return pg(Ir,t)}function qc(t,n){return Ir===null&&Dr(t),pg(t,n)}function pg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Bs===null){if(t===null)throw Error(r(308));Bs=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Bs=Bs.next=n;return a}var W1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},ew=i.unstable_scheduleCallback,tw=i.unstable_NormalPriority,Tt={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gh(){return{controller:new W1,data:new Map,refCount:0}}function Yl(t){t.refCount--,t.refCount===0&&ew(tw,function(){t.controller.abort()})}var Ql=null,yh=0,Aa=0,ka=null;function nw(t,n){if(Ql===null){var a=Ql=[];yh=0,Aa=_f(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return yh++,n.then(gg,gg),n}function gg(){if(--yh===0&&Ql!==null){ka!==null&&(ka.status="fulfilled");var t=Ql;Ql=null,Aa=0,ka=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function sw(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var yg=B.S;B.S=function(t,n){ey=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&nw(t,n),yg!==null&&yg(t,n)};var Mr=V(null);function bh(){var t=Mr.current;return t!==null?t:nt.pooledCache}function Hc(t,n){n===null?le(Mr,Mr.current):le(Mr,n.pool)}function bg(){var t=bh();return t===null?null:{parent:Tt._currentValue,pool:t}}var Ca=Error(r(460)),vh=Error(r(474)),Fc=Error(r(542)),Gc={then:function(){}};function vg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Gn,Gn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,wg(t),t;default:if(typeof n.status=="string")n.then(Gn,Gn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,wg(t),t}throw Vr=n,Ca}}function Or(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Vr=a,Ca):a}}var Vr=null;function _g(){if(Vr===null)throw Error(r(459));var t=Vr;return Vr=null,t}function wg(t){if(t===Ca||t===Fc)throw Error(r(483))}var ja=null,$l=0;function Kc(t){var n=$l;return $l+=1,ja===null&&(ja=[]),xg(ja,t,n)}function Xl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Yc(t,n){throw n.$$typeof===k?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Tg(t){function n(U,M){if(t){var H=U.deletions;H===null?(U.deletions=[M],U.flags|=16):H.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)n(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=Us(U,M),U.index=0,U.sibling=null,U}function f(U,M,H){return U.index=H,t?(H=U.alternate,H!==null?(H=H.index,H<M?(U.flags|=67108866,M):H):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function w(U,M,H,J){return M===null||M.tag!==6?(M=lh(H,U.mode,J),M.return=U,M):(M=h(M,H),M.return=U,M)}function j(U,M,H,J){var ge=H.type;return ge===G?X(U,M,H.props.children,J,H.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&Or(ge)===M.type)?(M=h(M,H.props),Xl(M,H),M.return=U,M):(M=Uc(H.type,H.key,H.props,null,U.mode,J),Xl(M,H),M.return=U,M)}function F(U,M,H,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=oh(H,U.mode,J),M.return=U,M):(M=h(M,H.children||[]),M.return=U,M)}function X(U,M,H,J,ge){return M===null||M.tag!==7?(M=jr(H,U.mode,J,ge),M.return=U,M):(M=h(M,H),M.return=U,M)}function W(U,M,H){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=lh(""+M,U.mode,H),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case L:return H=Uc(M.type,M.key,M.props,null,U.mode,H),Xl(H,M),H.return=U,H;case Z:return M=oh(M,U.mode,H),M.return=U,M;case A:return M=Or(M),W(U,M,H)}if(Fe(M)||P(M))return M=jr(M,U.mode,H,null),M.return=U,M;if(typeof M.then=="function")return W(U,Kc(M),H);if(M.$$typeof===I)return W(U,qc(U,M),H);Yc(U,M)}return null}function K(U,M,H,J){var ge=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ge!==null?null:w(U,M,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case L:return H.key===ge?j(U,M,H,J):null;case Z:return H.key===ge?F(U,M,H,J):null;case A:return H=Or(H),K(U,M,H,J)}if(Fe(H)||P(H))return ge!==null?null:X(U,M,H,J,null);if(typeof H.then=="function")return K(U,M,Kc(H),J);if(H.$$typeof===I)return K(U,M,qc(U,H),J);Yc(U,H)}return null}function Q(U,M,H,J,ge){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(H)||null,w(M,U,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case L:return U=U.get(J.key===null?H:J.key)||null,j(M,U,J,ge);case Z:return U=U.get(J.key===null?H:J.key)||null,F(M,U,J,ge);case A:return J=Or(J),Q(U,M,H,J,ge)}if(Fe(J)||P(J))return U=U.get(H)||null,X(M,U,J,ge,null);if(typeof J.then=="function")return Q(U,M,H,Kc(J),ge);if(J.$$typeof===I)return Q(U,M,H,qc(M,J),ge);Yc(M,J)}return null}function he(U,M,H,J){for(var ge=null,qe=null,fe=M,je=M=0,Me=null;fe!==null&&je<H.length;je++){fe.index>je?(Me=fe,fe=null):Me=fe.sibling;var He=K(U,fe,H[je],J);if(He===null){fe===null&&(fe=Me);break}t&&fe&&He.alternate===null&&n(U,fe),M=f(He,M,je),qe===null?ge=He:qe.sibling=He,qe=He,fe=Me}if(je===H.length)return a(U,fe),Le&&Ps(U,je),ge;if(fe===null){for(;je<H.length;je++)fe=W(U,H[je],J),fe!==null&&(M=f(fe,M,je),qe===null?ge=fe:qe.sibling=fe,qe=fe);return Le&&Ps(U,je),ge}for(fe=l(fe);je<H.length;je++)Me=Q(fe,U,je,H[je],J),Me!==null&&(t&&Me.alternate!==null&&fe.delete(Me.key===null?je:Me.key),M=f(Me,M,je),qe===null?ge=Me:qe.sibling=Me,qe=Me);return t&&fe.forEach(function(qi){return n(U,qi)}),Le&&Ps(U,je),ge}function ve(U,M,H,J){if(H==null)throw Error(r(151));for(var ge=null,qe=null,fe=M,je=M=0,Me=null,He=H.next();fe!==null&&!He.done;je++,He=H.next()){fe.index>je?(Me=fe,fe=null):Me=fe.sibling;var qi=K(U,fe,He.value,J);if(qi===null){fe===null&&(fe=Me);break}t&&fe&&qi.alternate===null&&n(U,fe),M=f(qi,M,je),qe===null?ge=qi:qe.sibling=qi,qe=qi,fe=Me}if(He.done)return a(U,fe),Le&&Ps(U,je),ge;if(fe===null){for(;!He.done;je++,He=H.next())He=W(U,He.value,J),He!==null&&(M=f(He,M,je),qe===null?ge=He:qe.sibling=He,qe=He);return Le&&Ps(U,je),ge}for(fe=l(fe);!He.done;je++,He=H.next())He=Q(fe,U,je,He.value,J),He!==null&&(t&&He.alternate!==null&&fe.delete(He.key===null?je:He.key),M=f(He,M,je),qe===null?ge=He:qe.sibling=He,qe=He);return t&&fe.forEach(function(mT){return n(U,mT)}),Le&&Ps(U,je),ge}function tt(U,M,H,J){if(typeof H=="object"&&H!==null&&H.type===G&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case L:e:{for(var ge=H.key;M!==null;){if(M.key===ge){if(ge=H.type,ge===G){if(M.tag===7){a(U,M.sibling),J=h(M,H.props.children),J.return=U,U=J;break e}}else if(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&Or(ge)===M.type){a(U,M.sibling),J=h(M,H.props),Xl(J,H),J.return=U,U=J;break e}a(U,M);break}else n(U,M);M=M.sibling}H.type===G?(J=jr(H.props.children,U.mode,J,H.key),J.return=U,U=J):(J=Uc(H.type,H.key,H.props,null,U.mode,J),Xl(J,H),J.return=U,U=J)}return v(U);case Z:e:{for(ge=H.key;M!==null;){if(M.key===ge)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){a(U,M.sibling),J=h(M,H.children||[]),J.return=U,U=J;break e}else{a(U,M);break}else n(U,M);M=M.sibling}J=oh(H,U.mode,J),J.return=U,U=J}return v(U);case A:return H=Or(H),tt(U,M,H,J)}if(Fe(H))return he(U,M,H,J);if(P(H)){if(ge=P(H),typeof ge!="function")throw Error(r(150));return H=ge.call(H),ve(U,M,H,J)}if(typeof H.then=="function")return tt(U,M,Kc(H),J);if(H.$$typeof===I)return tt(U,M,qc(U,H),J);Yc(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,M!==null&&M.tag===6?(a(U,M.sibling),J=h(M,H),J.return=U,U=J):(a(U,M),J=lh(H,U.mode,J),J.return=U,U=J),v(U)):a(U,M)}return function(U,M,H,J){try{$l=0;var ge=tt(U,M,H,J);return ja=null,ge}catch(fe){if(fe===Ca||fe===Fc)throw fe;var qe=yn(29,fe,null,U.mode);return qe.lanes=J,qe.return=U,qe}finally{}}}var zr=Tg(!0),Eg=Tg(!1),Ni=!1;function xh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _h(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Si(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ai(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Lc(t),lg(t,null,a),n}return zc(t,l,n,a),Lc(t)}function Zl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,El(t,a)}}function wh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Th=!1;function Jl(){if(Th){var t=ka;if(t!==null)throw t}}function Wl(t,n,a,l){Th=!1;var h=t.updateQueue;Ni=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var j=w,F=j.next;j.next=null,v===null?f=F:v.next=F,v=j;var X=t.alternate;X!==null&&(X=X.updateQueue,w=X.lastBaseUpdate,w!==v&&(w===null?X.firstBaseUpdate=F:w.next=F,X.lastBaseUpdate=j))}if(f!==null){var W=h.baseState;v=0,X=F=j=null,w=f;do{var K=w.lane&-536870913,Q=K!==w.lane;if(Q?(De&K)===K:(l&K)===K){K!==0&&K===Aa&&(Th=!0),X!==null&&(X=X.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var he=t,ve=w;K=n;var tt=a;switch(ve.tag){case 1:if(he=ve.payload,typeof he=="function"){W=he.call(tt,W,K);break e}W=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ve.payload,K=typeof he=="function"?he.call(tt,W,K):he,K==null)break e;W=N({},W,K);break e;case 2:Ni=!0}}K=w.callback,K!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},X===null?(F=X=Q,j=W):X=X.next=Q,v|=K;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);X===null&&(j=W),h.baseState=j,h.firstBaseUpdate=F,h.lastBaseUpdate=X,f===null&&(h.shared.lanes=0),Ii|=v,t.lanes=v,t.memoizedState=W}}function Ng(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Sg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ng(a[t],n)}var Ra=V(null),Qc=V(0);function Ag(t,n){t=Zs,le(Qc,t),le(Ra,n),Zs=t|n.baseLanes}function Eh(){le(Qc,Zs),le(Ra,Ra.current)}function Nh(){Zs=Qc.current,ee(Ra),ee(Qc)}var bn=V(null),Vn=null;function ki(t){var n=t.alternate;le(pt,pt.current&1),le(bn,t),Vn===null&&(n===null||Ra.current!==null||n.memoizedState!==null)&&(Vn=t)}function Sh(t){le(pt,pt.current),le(bn,t),Vn===null&&(Vn=t)}function kg(t){t.tag===22?(le(pt,pt.current),le(bn,t),Vn===null&&(Vn=t)):Ci()}function Ci(){le(pt,pt.current),le(bn,bn.current)}function vn(t){ee(bn),Vn===t&&(Vn=null),ee(pt)}var pt=V(0);function $c(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Df(a)||Mf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Hs=0,ke=null,We=null,Et=null,Xc=!1,Ia=!1,Lr=!1,Zc=0,eo=0,Da=null,iw=0;function dt(){throw Error(r(321))}function Ah(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!gn(t[a],n[a]))return!1;return!0}function kh(t,n,a,l,h,f){return Hs=f,ke=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=t===null||t.memoizedState===null?d0:Hh,Lr=!1,f=a(l,h),Lr=!1,Ia&&(f=jg(n,a,l,h)),Cg(t),f}function Cg(t){B.H=so;var n=We!==null&&We.next!==null;if(Hs=0,Et=We=ke=null,Xc=!1,eo=0,Da=null,n)throw Error(r(300));t===null||Nt||(t=t.dependencies,t!==null&&Bc(t)&&(Nt=!0))}function jg(t,n,a,l){ke=t;var h=0;do{if(Ia&&(Da=null),eo=0,Ia=!1,25<=h)throw Error(r(301));if(h+=1,Et=We=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}B.H=h0,f=n(a,l)}while(Ia);return f}function rw(){var t=B.H,n=t.useState()[0];return n=typeof n.then=="function"?to(n):n,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(ke.flags|=1024),n}function Ch(){var t=Zc!==0;return Zc=0,t}function jh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Rh(t){if(Xc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Xc=!1}Hs=0,Et=We=ke=null,Ia=!1,eo=Zc=0,Da=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?ke.memoizedState=Et=t:Et=Et.next=t,Et}function gt(){if(We===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var n=Et===null?ke.memoizedState:Et.next;if(n!==null)Et=n,We=t;else{if(t===null)throw ke.alternate===null?Error(r(467)):Error(r(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Et===null?ke.memoizedState=Et=t:Et=Et.next=t}return Et}function Jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function to(t){var n=eo;return eo+=1,Da===null&&(Da=[]),t=xg(Da,t,n),n=ke,(Et===null?n.memoizedState:Et.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?d0:Hh),t}function Wc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return to(t);if(t.$$typeof===I)return qt(t)}throw Error(r(438,String(t)))}function Ih(t){var n=null,a=ke.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Jc(),ke.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=z;return n.index++,a}function Fs(t,n){return typeof n=="function"?n(t):n}function eu(t){var n=gt();return Dh(n,We,t)}function Dh(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var w=v=null,j=null,F=n,X=!1;do{var W=F.lane&-536870913;if(W!==F.lane?(De&W)===W:(Hs&W)===W){var K=F.revertLane;if(K===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),W===Aa&&(X=!0);else if((Hs&K)===K){F=F.next,K===Aa&&(X=!0);continue}else W={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},j===null?(w=j=W,v=f):j=j.next=W,ke.lanes|=K,Ii|=K;W=F.action,Lr&&a(f,W),f=F.hasEagerState?F.eagerState:a(f,W)}else K={lane:W,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},j===null?(w=j=K,v=f):j=j.next=K,ke.lanes|=W,Ii|=W;F=F.next}while(F!==null&&F!==n);if(j===null?v=f:j.next=w,!gn(f,t.memoizedState)&&(Nt=!0,X&&(a=ka,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=j,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Mh(t){var n=gt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);gn(f,n.memoizedState)||(Nt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Rg(t,n,a){var l=ke,h=gt(),f=Le;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var v=!gn((We||h).memoizedState,a);if(v&&(h.memoizedState=a,Nt=!0),h=h.queue,zh(Mg.bind(null,l,h,t),[t]),h.getSnapshot!==n||v||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,Ma(9,{destroy:void 0},Dg.bind(null,l,h,a,n),null),nt===null)throw Error(r(349));f||(Hs&127)!==0||Ig(l,n,a)}return a}function Ig(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=ke.updateQueue,n===null?(n=Jc(),ke.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Dg(t,n,a,l){n.value=a,n.getSnapshot=l,Og(n)&&Vg(t)}function Mg(t,n,a){return a(function(){Og(n)&&Vg(t)})}function Og(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!gn(t,a)}catch{return!0}}function Vg(t){var n=Cr(t,2);n!==null&&dn(n,t,2)}function Oh(t){var n=nn();if(typeof t=="function"){var a=t;if(t=a(),Lr){Sn(!0);try{a()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:t},n}function zg(t,n,a,l){return t.baseState=a,Dh(t,We,typeof l=="function"?l:Fs)}function aw(t,n,a,l,h){if(su(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};B.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Lg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Lg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=B.T,v={};B.T=v;try{var w=a(h,l),j=B.S;j!==null&&j(v,w),Ug(t,n,w)}catch(F){Vh(t,n,F)}finally{f!==null&&v.types!==null&&(f.types=v.types),B.T=f}}else try{f=a(h,l),Ug(t,n,f)}catch(F){Vh(t,n,F)}}function Ug(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Pg(t,n,l)},function(l){return Vh(t,n,l)}):Pg(t,n,a)}function Pg(t,n,a){n.status="fulfilled",n.value=a,Bg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Lg(t,a)))}function Vh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Bg(n),n=n.next;while(n!==l)}t.action=null}function Bg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function qg(t,n){return n}function Hg(t,n){if(Le){var a=nt.formState;if(a!==null){e:{var l=ke;if(Le){if(it){t:{for(var h=it,f=On;h.nodeType!==8;){if(!f){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){it=zn(h.nextSibling),l=h.data==="F!";break e}}Ti(l)}l=!1}l&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qg,lastRenderedState:n},a.queue=l,a=o0.bind(null,ke,l),l.dispatch=a,l=Oh(!1),f=qh.bind(null,ke,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=aw.bind(null,ke,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Fg(t){var n=gt();return Gg(n,We,t)}function Gg(t,n,a){if(n=Dh(t,n,qg)[0],t=eu(Fs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=to(n)}catch(v){throw v===Ca?Fc:v}else l=n;n=gt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(ke.flags|=2048,Ma(9,{destroy:void 0},lw.bind(null,h,a),null)),[l,f,t]}function lw(t,n){t.action=n}function Kg(t){var n=gt(),a=We;if(a!==null)return Gg(n,a,t);gt(),n=n.memoizedState,a=gt();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Ma(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=ke.updateQueue,n===null&&(n=Jc(),ke.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Yg(){return gt().memoizedState}function tu(t,n,a,l){var h=nn();ke.flags|=t,h.memoizedState=Ma(1|n,{destroy:void 0},a,l===void 0?null:l)}function nu(t,n,a,l){var h=gt();l=l===void 0?null:l;var f=h.memoizedState.inst;We!==null&&l!==null&&Ah(l,We.memoizedState.deps)?h.memoizedState=Ma(n,f,a,l):(ke.flags|=t,h.memoizedState=Ma(1|n,f,a,l))}function Qg(t,n){tu(8390656,8,t,n)}function zh(t,n){nu(2048,8,t,n)}function ow(t){ke.flags|=4;var n=ke.updateQueue;if(n===null)n=Jc(),ke.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function $g(t){var n=gt().memoizedState;return ow({ref:n,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Xg(t,n){return nu(4,2,t,n)}function Zg(t,n){return nu(4,4,t,n)}function Jg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Wg(t,n,a){a=a!=null?a.concat([t]):null,nu(4,4,Jg.bind(null,n,t),a)}function Lh(){}function e0(t,n){var a=gt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Ah(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function t0(t,n){var a=gt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Ah(n,l[1]))return l[0];if(l=t(),Lr){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,n],l}function Uh(t,n,a){return a===void 0||(Hs&1073741824)!==0&&(De&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=ny(),ke.lanes|=t,Ii|=t,a)}function n0(t,n,a,l){return gn(a,n)?a:Ra.current!==null?(t=Uh(t,a,l),gn(t,n)||(Nt=!0),t):(Hs&42)===0||(Hs&1073741824)!==0&&(De&261930)===0?(Nt=!0,t.memoizedState=a):(t=ny(),ke.lanes|=t,Ii|=t,n)}function s0(t,n,a,l,h){var f=re.p;re.p=f!==0&&8>f?f:8;var v=B.T,w={};B.T=w,qh(t,!1,n,a);try{var j=h(),F=B.S;if(F!==null&&F(w,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var X=sw(j,l);no(t,n,X,wn(t))}else no(t,n,l,wn(t))}catch(W){no(t,n,{then:function(){},status:"rejected",reason:W},wn())}finally{re.p=f,v!==null&&w.types!==null&&(v.types=w.types),B.T=v}}function cw(){}function Ph(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=i0(t).queue;s0(t,h,n,be,a===null?cw:function(){return r0(t),a(l)})}function i0(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:be},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function r0(t){var n=i0(t);n.next===null&&(n=t.alternate.memoizedState),no(t,n.next.queue,{},wn())}function Bh(){return qt(xo)}function a0(){return gt().memoizedState}function l0(){return gt().memoizedState}function uw(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=wn();t=Si(a);var l=Ai(n,t,a);l!==null&&(dn(l,n,a),Zl(l,n,a)),n={cache:gh()},t.payload=n;return}n=n.return}}function dw(t,n,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},su(t)?c0(n,a):(a=rh(t,n,a,l),a!==null&&(dn(a,t,l),u0(a,n,l)))}function o0(t,n,a){var l=wn();no(t,n,a,l)}function no(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(su(t))c0(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,w=f(v,a);if(h.hasEagerState=!0,h.eagerState=w,gn(w,v))return zc(t,n,h,0),nt===null&&Vc(),!1}catch{}finally{}if(a=rh(t,n,h,l),a!==null)return dn(a,t,l),u0(a,n,l),!0}return!1}function qh(t,n,a,l){if(l={lane:2,revertLane:_f(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},su(t)){if(n)throw Error(r(479))}else n=rh(t,a,l,2),n!==null&&dn(n,t,2)}function su(t){var n=t.alternate;return t===ke||n!==null&&n===ke}function c0(t,n){Ia=Xc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function u0(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,El(t,a)}}var so={readContext:qt,use:Wc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};so.useEffectEvent=dt;var d0={readContext:qt,use:Wc,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:qt,useEffect:Qg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,tu(4194308,4,Jg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return tu(4194308,4,t,n)},useInsertionEffect:function(t,n){tu(4,2,t,n)},useMemo:function(t,n){var a=nn();n=n===void 0?null:n;var l=t();if(Lr){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=nn();if(a!==void 0){var h=a(n);if(Lr){Sn(!0);try{a(n)}finally{Sn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=dw.bind(null,ke,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=Oh(t);var n=t.queue,a=o0.bind(null,ke,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Lh,useDeferredValue:function(t,n){var a=nn();return Uh(a,t,n)},useTransition:function(){var t=Oh(!1);return t=s0.bind(null,ke,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=ke,h=nn();if(Le){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),nt===null)throw Error(r(349));(De&127)!==0||Ig(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Qg(Mg.bind(null,l,f,t),[t]),l.flags|=2048,Ma(9,{destroy:void 0},Dg.bind(null,l,f,a,n),null),a},useId:function(){var t=nn(),n=nt.identifierPrefix;if(Le){var a=Ts,l=ws;a=(l&~(1<<32-ft(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Zc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=iw++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Bh,useFormState:Hg,useActionState:Hg,useOptimistic:function(t){var n=nn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=qh.bind(null,ke,!0,a),a.dispatch=n,[t,n]},useMemoCache:Ih,useCacheRefresh:function(){return nn().memoizedState=uw.bind(null,ke)},useEffectEvent:function(t){var n=nn(),a={impl:t};return n.memoizedState=a,function(){if((Ke&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Hh={readContext:qt,use:Wc,useCallback:e0,useContext:qt,useEffect:zh,useImperativeHandle:Wg,useInsertionEffect:Xg,useLayoutEffect:Zg,useMemo:t0,useReducer:eu,useRef:Yg,useState:function(){return eu(Fs)},useDebugValue:Lh,useDeferredValue:function(t,n){var a=gt();return n0(a,We.memoizedState,t,n)},useTransition:function(){var t=eu(Fs)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:to(t),n]},useSyncExternalStore:Rg,useId:a0,useHostTransitionStatus:Bh,useFormState:Fg,useActionState:Fg,useOptimistic:function(t,n){var a=gt();return zg(a,We,t,n)},useMemoCache:Ih,useCacheRefresh:l0};Hh.useEffectEvent=$g;var h0={readContext:qt,use:Wc,useCallback:e0,useContext:qt,useEffect:zh,useImperativeHandle:Wg,useInsertionEffect:Xg,useLayoutEffect:Zg,useMemo:t0,useReducer:Mh,useRef:Yg,useState:function(){return Mh(Fs)},useDebugValue:Lh,useDeferredValue:function(t,n){var a=gt();return We===null?Uh(a,t,n):n0(a,We.memoizedState,t,n)},useTransition:function(){var t=Mh(Fs)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:to(t),n]},useSyncExternalStore:Rg,useId:a0,useHostTransitionStatus:Bh,useFormState:Kg,useActionState:Kg,useOptimistic:function(t,n){var a=gt();return We!==null?zg(a,We,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ih,useCacheRefresh:l0};h0.useEffectEvent=$g;function Fh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:N({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Gh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=wn(),h=Si(l);h.payload=n,a!=null&&(h.callback=a),n=Ai(t,h,l),n!==null&&(dn(n,t,l),Zl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=wn(),h=Si(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ai(t,h,l),n!==null&&(dn(n,t,l),Zl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=wn(),l=Si(a);l.tag=2,n!=null&&(l.callback=n),n=Ai(t,l,a),n!==null&&(dn(n,t,a),Zl(n,t,a))}};function f0(t,n,a,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!Hl(a,l)||!Hl(h,f):!0}function m0(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Gh.enqueueReplaceState(n,n.state,null)}function Ur(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=N({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function p0(t){Oc(t)}function g0(t){console.error(t)}function y0(t){Oc(t)}function iu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function b0(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Kh(t,n,a){return a=Si(a),a.tag=3,a.payload={element:null},a.callback=function(){iu(t,n)},a}function v0(t){return t=Si(t),t.tag=3,t}function x0(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){b0(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){b0(n,a,l),typeof h!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function hw(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Sa(n,a,h,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?gu():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Gc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),bf(t,l,h)),!1;case 22:return a.flags|=65536,l===Gc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),bf(t,l,h)),!1}throw Error(r(435,a.tag))}return bf(t,l,h),gu(),!1}if(Le)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==dh&&(t=Error(r(422),{cause:l}),Kl(In(t,a)))):(l!==dh&&(n=Error(r(423),{cause:l}),Kl(In(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=In(l,a),h=Kh(t.stateNode,l,h),wh(t,h),ht!==4&&(ht=2)),!1;var f=Error(r(520),{cause:l});if(f=In(f,a),ho===null?ho=[f]:ho.push(f),ht!==4&&(ht=2),n===null)return!0;l=In(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Kh(a.stateNode,l,t),wh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Di===null||!Di.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=v0(h),x0(h,t,a,l),wh(a,h),!1}a=a.return}while(a!==null);return!1}var Yh=Error(r(461)),Nt=!1;function Ht(t,n,a,l){n.child=t===null?Eg(n,null,a,l):zr(n,t.child,a,l)}function _0(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var v={};for(var w in l)w!=="ref"&&(v[w]=l[w])}else v=l;return Dr(n),l=kh(t,n,a,v,f,h),w=Ch(),t!==null&&!Nt?(jh(t,n,h),Gs(t,n,h)):(Le&&w&&ch(n),n.flags|=1,Ht(t,n,l,h),n.child)}function w0(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!ah(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,T0(t,n,f,l,h)):(t=Uc(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!tf(t,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:Hl,a(v,l)&&t.ref===n.ref)return Gs(t,n,h)}return n.flags|=1,t=Us(f,l),t.ref=n.ref,t.return=n,n.child=t}function T0(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(Hl(f,l)&&t.ref===n.ref)if(Nt=!1,n.pendingProps=l=f,tf(t,h))(t.flags&131072)!==0&&(Nt=!0);else return n.lanes=t.lanes,Gs(t,n,h)}return Qh(t,n,a,l,h)}function E0(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return N0(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Hc(n,f!==null?f.cachePool:null),f!==null?Ag(n,f):Eh(),kg(n);else return l=n.lanes=536870912,N0(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Hc(n,f.cachePool),Ag(n,f),Ci(),n.memoizedState=null):(t!==null&&Hc(n,null),Eh(),Ci());return Ht(t,n,h,a),n.child}function io(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function N0(t,n,a,l,h){var f=bh();return f=f===null?null:{parent:Tt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Hc(n,null),Eh(),kg(n),t!==null&&Sa(t,n,l,!0),n.childLanes=h,null}function ru(t,n){return n=lu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function S0(t,n,a){return zr(n,t.child,null,a),t=ru(n,n.pendingProps),t.flags|=2,vn(n),n.memoizedState=null,t}function fw(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=ru(n,l),n.lanes=536870912,io(null,t);if(Sh(n),(t=it)?(t=Ly(t,On),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:_i!==null?{id:ws,overflow:Ts}:null,retryLane:536870912,hydrationErrors:null},a=cg(t),a.return=n,n.child=a,Bt=n,it=null)):t=null,t===null)throw Ti(n);return n.lanes=536870912,null}return ru(n,l)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(Sh(n),h)if(n.flags&256)n.flags&=-257,n=S0(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Nt||Sa(t,n,a,!1),h=(a&t.childLanes)!==0,Nt||h){if(l=nt,l!==null&&(v=Nl(l,a),v!==0&&v!==f.retryLane))throw f.retryLane=v,Cr(t,v),dn(l,t,v),Yh;gu(),n=S0(t,n,a)}else t=f.treeContext,it=zn(v.nextSibling),Bt=n,Le=!0,wi=null,On=!1,t!==null&&hg(n,t),n=ru(n,l),n.flags|=4096;return n}return t=Us(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function au(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Qh(t,n,a,l,h){return Dr(n),a=kh(t,n,a,l,void 0,h),l=Ch(),t!==null&&!Nt?(jh(t,n,h),Gs(t,n,h)):(Le&&l&&ch(n),n.flags|=1,Ht(t,n,a,h),n.child)}function A0(t,n,a,l,h,f){return Dr(n),n.updateQueue=null,a=jg(n,l,a,h),Cg(t),l=Ch(),t!==null&&!Nt?(jh(t,n,f),Gs(t,n,f)):(Le&&l&&ch(n),n.flags|=1,Ht(t,n,a,f),n.child)}function k0(t,n,a,l,h){if(Dr(n),n.stateNode===null){var f=wa,v=a.contextType;typeof v=="object"&&v!==null&&(f=qt(v)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Gh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},xh(n),v=a.contextType,f.context=typeof v=="object"&&v!==null?qt(v):wa,f.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Fh(n,a,v,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Gh.enqueueReplaceState(f,f.state,null),Wl(n,l,f,h),Jl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var w=n.memoizedProps,j=Ur(a,w);f.props=j;var F=f.context,X=a.contextType;v=wa,typeof X=="object"&&X!==null&&(v=qt(X));var W=a.getDerivedStateFromProps;X=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",w=n.pendingProps!==w,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w||F!==v)&&m0(n,f,l,v),Ni=!1;var K=n.memoizedState;f.state=K,Wl(n,l,f,h),Jl(),F=n.memoizedState,w||K!==F||Ni?(typeof W=="function"&&(Fh(n,a,W,l),F=n.memoizedState),(j=Ni||f0(n,a,j,l,K,F,v))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=v,l=j):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,_h(t,n),v=n.memoizedProps,X=Ur(a,v),f.props=X,W=n.pendingProps,K=f.context,F=a.contextType,j=wa,typeof F=="object"&&F!==null&&(j=qt(F)),w=a.getDerivedStateFromProps,(F=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==W||K!==j)&&m0(n,f,l,j),Ni=!1,K=n.memoizedState,f.state=K,Wl(n,l,f,h),Jl();var Q=n.memoizedState;v!==W||K!==Q||Ni||t!==null&&t.dependencies!==null&&Bc(t.dependencies)?(typeof w=="function"&&(Fh(n,a,w,l),Q=n.memoizedState),(X=Ni||f0(n,a,X,l,K,Q,j)||t!==null&&t.dependencies!==null&&Bc(t.dependencies))?(F||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Q,j),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Q,j)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),f.props=l,f.state=Q,f.context=j,l=X):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,au(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=zr(n,t.child,null,h),n.child=zr(n,null,a,h)):Ht(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Gs(t,n,h),t}function C0(t,n,a,l){return Rr(),n.flags|=256,Ht(t,n,a,l),n.child}var $h={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xh(t){return{baseLanes:t,cachePool:bg()}}function Zh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=_n),t}function j0(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Le){if(h?ki(n):Ci(),(t=it)?(t=Ly(t,On),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:_i!==null?{id:ws,overflow:Ts}:null,retryLane:536870912,hydrationErrors:null},a=cg(t),a.return=n,n.child=a,Bt=n,it=null)):t=null,t===null)throw Ti(n);return Mf(t)?n.lanes=32:n.lanes=536870912,null}var w=l.children;return l=l.fallback,h?(Ci(),h=n.mode,w=lu({mode:"hidden",children:w},h),l=jr(l,h,a,null),w.return=n,l.return=n,w.sibling=l,n.child=w,l=n.child,l.memoizedState=Xh(a),l.childLanes=Zh(t,v,a),n.memoizedState=$h,io(null,l)):(ki(n),Jh(n,w))}var j=t.memoizedState;if(j!==null&&(w=j.dehydrated,w!==null)){if(f)n.flags&256?(ki(n),n.flags&=-257,n=Wh(t,n,a)):n.memoizedState!==null?(Ci(),n.child=t.child,n.flags|=128,n=null):(Ci(),w=l.fallback,h=n.mode,l=lu({mode:"visible",children:l.children},h),w=jr(w,h,a,null),w.flags|=2,l.return=n,w.return=n,l.sibling=w,n.child=l,zr(n,t.child,null,a),l=n.child,l.memoizedState=Xh(a),l.childLanes=Zh(t,v,a),n.memoizedState=$h,n=io(null,l));else if(ki(n),Mf(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var F=v.dgst;v=F,l=Error(r(419)),l.stack="",l.digest=v,Kl({value:l,source:null,stack:null}),n=Wh(t,n,a)}else if(Nt||Sa(t,n,a,!1),v=(a&t.childLanes)!==0,Nt||v){if(v=nt,v!==null&&(l=Nl(v,a),l!==0&&l!==j.retryLane))throw j.retryLane=l,Cr(t,l),dn(v,t,l),Yh;Df(w)||gu(),n=Wh(t,n,a)}else Df(w)?(n.flags|=192,n.child=t.child,n=null):(t=j.treeContext,it=zn(w.nextSibling),Bt=n,Le=!0,wi=null,On=!1,t!==null&&hg(n,t),n=Jh(n,l.children),n.flags|=4096);return n}return h?(Ci(),w=l.fallback,h=n.mode,j=t.child,F=j.sibling,l=Us(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,F!==null?w=Us(F,w):(w=jr(w,h,a,null),w.flags|=2),w.return=n,l.return=n,l.sibling=w,n.child=l,io(null,l),l=n.child,w=t.child.memoizedState,w===null?w=Xh(a):(h=w.cachePool,h!==null?(j=Tt._currentValue,h=h.parent!==j?{parent:j,pool:j}:h):h=bg(),w={baseLanes:w.baseLanes|a,cachePool:h}),l.memoizedState=w,l.childLanes=Zh(t,v,a),n.memoizedState=$h,io(t.child,l)):(ki(n),a=t.child,t=a.sibling,a=Us(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function Jh(t,n){return n=lu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function lu(t,n){return t=yn(22,t,null,n),t.lanes=0,t}function Wh(t,n,a){return zr(n,t.child,null,a),t=Jh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function R0(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),mh(t.return,n,a)}function ef(t,n,a,l,h,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=f)}function I0(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var v=pt.current,w=(v&2)!==0;if(w?(v=v&1|2,n.flags|=128):v&=1,le(pt,v),Ht(t,n,l,a),l=Le?Gl:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&R0(t,a,n);else if(t.tag===19)R0(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&$c(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),ef(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&$c(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ef(n,!0,a,null,f,l);break;case"together":ef(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Gs(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ii|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Sa(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Us(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Us(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function tf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Bc(t)))}function mw(t,n,a){switch(n.tag){case 3:Rt(n,n.stateNode.containerInfo),Ei(n,Tt,t.memoizedState.cache),Rr();break;case 27:case 5:dr(n);break;case 4:Rt(n,n.stateNode.containerInfo);break;case 10:Ei(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Sh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ki(n),n.flags|=128,null):(a&n.child.childLanes)!==0?j0(t,n,a):(ki(n),t=Gs(t,n,a),t!==null?t.sibling:null);ki(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Sa(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return I0(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(pt,pt.current),l)break;return null;case 22:return n.lanes=0,E0(t,n,a,n.pendingProps);case 24:Ei(n,Tt,t.memoizedState.cache)}return Gs(t,n,a)}function D0(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Nt=!0;else{if(!tf(t,a)&&(n.flags&128)===0)return Nt=!1,mw(t,n,a);Nt=(t.flags&131072)!==0}else Nt=!1,Le&&(n.flags&1048576)!==0&&dg(n,Gl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Or(n.elementType),n.type=t,typeof t=="function")ah(t)?(l=Ur(t,l),n.tag=1,n=k0(null,n,t,l,a)):(n.tag=0,n=Qh(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===se){n.tag=11,n=_0(null,n,t,l,a);break e}else if(h===C){n.tag=14,n=w0(null,n,t,l,a);break e}}throw n=xe(t)||t,Error(r(306,n,""))}}return n;case 0:return Qh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Ur(l,n.pendingProps),k0(t,n,l,h,a);case 3:e:{if(Rt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,_h(t,n),Wl(n,l,null,a);var v=n.memoizedState;if(l=v.cache,Ei(n,Tt,l),l!==f.cache&&ph(n,[Tt],a,!0),Jl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=C0(t,n,l,a);break e}else if(l!==h){h=In(Error(r(424)),n),Kl(h),n=C0(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=zn(t.firstChild),Bt=n,Le=!0,wi=null,On=!0,a=Eg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Rr(),l===h){n=Gs(t,n,a);break e}Ht(t,n,l,a)}n=n.child}return n;case 26:return au(t,n),t===null?(a=Fy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Le||(a=n.type,t=n.pendingProps,l=Tu(Ce.current).createElement(a),l[xt]=n,l[Ot]=t,Ft(l,a,t),_t(l),n.stateNode=l):n.memoizedState=Fy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return dr(n),t===null&&Le&&(l=n.stateNode=By(n.type,n.pendingProps,Ce.current),Bt=n,On=!0,h=it,zi(n.type)?(Of=h,it=zn(l.firstChild)):it=h),Ht(t,n,n.pendingProps.children,a),au(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Le&&((h=l=it)&&(l=Fw(l,n.type,n.pendingProps,On),l!==null?(n.stateNode=l,Bt=n,it=zn(l.firstChild),On=!1,h=!0):h=!1),h||Ti(n)),dr(n),h=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,jf(h,f)?l=null:v!==null&&jf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=kh(t,n,rw,null,null,a),xo._currentValue=h),au(t,n),Ht(t,n,l,a),n.child;case 6:return t===null&&Le&&((t=a=it)&&(a=Gw(a,n.pendingProps,On),a!==null?(n.stateNode=a,Bt=n,it=null,t=!0):t=!1),t||Ti(n)),null;case 13:return j0(t,n,a);case 4:return Rt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=zr(n,null,l,a):Ht(t,n,l,a),n.child;case 11:return _0(t,n,n.type,n.pendingProps,a);case 7:return Ht(t,n,n.pendingProps,a),n.child;case 8:return Ht(t,n,n.pendingProps.children,a),n.child;case 12:return Ht(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Ei(n,n.type,l.value),Ht(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Dr(n),h=qt(h),l=l(h),n.flags|=1,Ht(t,n,l,a),n.child;case 14:return w0(t,n,n.type,n.pendingProps,a);case 15:return T0(t,n,n.type,n.pendingProps,a);case 19:return I0(t,n,a);case 31:return fw(t,n,a);case 22:return E0(t,n,a,n.pendingProps);case 24:return Dr(n),l=qt(Tt),t===null?(h=bh(),h===null&&(h=nt,f=gh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},xh(n),Ei(n,Tt,h)):((t.lanes&a)!==0&&(_h(t,n),Wl(n,null,null,a),Jl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ei(n,Tt,l)):(l=f.cache,Ei(n,Tt,l),l!==h.cache&&ph(n,[Tt],a,!0))),Ht(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ks(t){t.flags|=4}function nf(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(ay())t.flags|=8192;else throw Vr=Gc,vh}else t.flags&=-16777217}function M0(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!$y(n))if(ay())t.flags|=8192;else throw Vr=Gc,vh}function ou(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?mc():536870912,t.lanes|=n,La|=n)}function ro(t,n){if(!Le)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function pw(t,n,a){var l=n.pendingProps;switch(uh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(n),null;case 1:return rt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),qs(Tt),lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Na(n)?Ks(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hh())),rt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Ks(n),f!==null?(rt(n),M0(n,f)):(rt(n),nf(n,h,null,l,a))):f?f!==t.memoizedState?(Ks(n),rt(n),M0(n,f)):(rt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ks(n),rt(n),nf(n,h,t,l,a)),null;case 27:if(sa(n),a=Ce.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ks(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return rt(n),null}t=de.current,Na(n)?fg(n):(t=By(h,l,a),n.stateNode=t,Ks(n))}return rt(n),null;case 5:if(sa(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ks(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return rt(n),null}if(f=de.current,Na(n))fg(n);else{var v=Tu(Ce.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}f[xt]=n,f[Ot]=l;e:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break e;for(;v.sibling===null;){if(v.return===null||v.return===n)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=f;e:switch(Ft(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ks(n)}}return rt(n),nf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ks(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=Ce.current,Na(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[xt]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||jy(t.nodeValue,a)),t||Ti(n,!0)}else t=Tu(t).createTextNode(l),t[xt]=n,n.stateNode=t}return rt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Na(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[xt]=n}else Rr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;rt(n),t=!1}else a=hh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return rt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Na(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[xt]=n}else Rr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;rt(n),h=!1}else h=hh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),ou(n,n.updateQueue),rt(n),null);case 4:return lt(),t===null&&Nf(n.stateNode.containerInfo),rt(n),null;case 10:return qs(n.type),rt(n),null;case 19:if(ee(pt),l=n.memoizedState,l===null)return rt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)ro(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=$c(t),f!==null){for(n.flags|=128,ro(l,!1),t=f.updateQueue,n.updateQueue=t,ou(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)og(a,t),a=a.sibling;return le(pt,pt.current&1|2),Le&&Ps(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&en()>fu&&(n.flags|=128,h=!0,ro(l,!1),n.lanes=4194304)}else{if(!h)if(t=$c(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ou(n,t),ro(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Le)return rt(n),null}else 2*en()-l.renderingStartTime>fu&&a!==536870912&&(n.flags|=128,h=!0,ro(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=pt.current,le(pt,h?a&1|2:a&1),Le&&Ps(n,l.treeForkCount),t):(rt(n),null);case 22:case 23:return vn(n),Nh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(rt(n),n.subtreeFlags&6&&(n.flags|=8192)):rt(n),a=n.updateQueue,a!==null&&ou(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&ee(Mr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),qs(Tt),rt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function gw(t,n){switch(uh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return qs(Tt),lt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return sa(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(r(340));Rr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(vn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Rr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ee(pt),null;case 4:return lt(),null;case 10:return qs(n.type),null;case 22:case 23:return vn(n),Nh(),t!==null&&ee(Mr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return qs(Tt),null;case 25:return null;default:return null}}function O0(t,n){switch(uh(n),n.tag){case 3:qs(Tt),lt();break;case 26:case 27:case 5:sa(n);break;case 4:lt();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:ee(pt);break;case 10:qs(n.type);break;case 22:case 23:vn(n),Nh(),t!==null&&ee(Mr);break;case 24:qs(Tt)}}function ao(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==h)}}catch(w){Ze(n,n.return,w)}}function ji(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,h=n;var j=a,F=w;try{F()}catch(X){Ze(h,j,X)}}}l=l.next}while(l!==f)}}catch(X){Ze(n,n.return,X)}}function V0(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Sg(n,a)}catch(l){Ze(t,t.return,l)}}}function z0(t,n,a){a.props=Ur(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,n,l)}}function lo(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,n,h)}}function Es(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,n,h)}else a.current=null}function L0(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function sf(t,n,a){try{var l=t.stateNode;Lw(l,t.type,a,n),l[Ot]=n}catch(h){Ze(t,t.return,h)}}function U0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&zi(t.type)||t.tag===4}function rf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||U0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&zi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function af(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Gn));else if(l!==4&&(l===27&&zi(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(af(t,n,a),t=t.sibling;t!==null;)af(t,n,a),t=t.sibling}function cu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&zi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(cu(t,n,a),t=t.sibling;t!==null;)cu(t,n,a),t=t.sibling}function P0(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ft(n,l,a),n[xt]=t,n[Ot]=a}catch(f){Ze(t,t.return,f)}}var Ys=!1,St=!1,lf=!1,B0=typeof WeakSet=="function"?WeakSet:Set,zt=null;function yw(t,n){if(t=t.containerInfo,kf=ju,t=Wp(t),Wd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,w=-1,j=-1,F=0,X=0,W=t,K=null;t:for(;;){for(var Q;W!==a||h!==0&&W.nodeType!==3||(w=v+h),W!==f||l!==0&&W.nodeType!==3||(j=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(Q=W.firstChild)!==null;)K=W,W=Q;for(;;){if(W===t)break t;if(K===a&&++F===h&&(w=v),K===f&&++X===l&&(j=v),(Q=W.nextSibling)!==null)break;W=K,K=W.parentNode}W=Q}a=w===-1||j===-1?null:{start:w,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(Cf={focusedElem:t,selectionRange:a},ju=!1,zt=n;zt!==null;)if(n=zt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,zt=t;else for(;zt!==null;){switch(n=zt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var he=Ur(a.type,h);t=l.getSnapshotBeforeUpdate(he,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Ze(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)If(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":If(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,zt=t;break}zt=n.return}}function q0(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:$s(t,a),l&4&&ao(5,a);break;case 1:if($s(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(v){Ze(a,a.return,v)}else{var h=Ur(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ze(a,a.return,v)}}l&64&&V0(a),l&512&&lo(a,a.return);break;case 3:if($s(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Sg(t,n)}catch(v){Ze(a,a.return,v)}}break;case 27:n===null&&l&4&&P0(a);case 26:case 5:$s(t,a),n===null&&l&4&&L0(a),l&512&&lo(a,a.return);break;case 12:$s(t,a);break;case 31:$s(t,a),l&4&&G0(t,a);break;case 13:$s(t,a),l&4&&K0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Sw.bind(null,a),Kw(t,a))));break;case 22:if(l=a.memoizedState!==null||Ys,!l){n=n!==null&&n.memoizedState!==null||St,h=Ys;var f=St;Ys=l,(St=n)&&!f?Xs(t,a,(a.subtreeFlags&8772)!==0):$s(t,a),Ys=h,St=f}break;case 30:break;default:$s(t,a)}}function H0(t){var n=t.alternate;n!==null&&(t.alternate=null,H0(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&oa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,ln=!1;function Qs(t,n,a){for(a=a.child;a!==null;)F0(t,n,a),a=a.sibling}function F0(t,n,a){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:St||Es(a,n),Qs(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:St||Es(a,n);var l=ct,h=ln;zi(a.type)&&(ct=a.stateNode,ln=!1),Qs(t,n,a),yo(a.stateNode),ct=l,ln=h;break;case 5:St||Es(a,n);case 6:if(l=ct,h=ln,ct=null,Qs(t,n,a),ct=l,ln=h,ct!==null)if(ln)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(f){Ze(a,n,f)}else try{ct.removeChild(a.stateNode)}catch(f){Ze(a,n,f)}break;case 18:ct!==null&&(ln?(t=ct,Vy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ka(t)):Vy(ct,a.stateNode));break;case 4:l=ct,h=ln,ct=a.stateNode.containerInfo,ln=!0,Qs(t,n,a),ct=l,ln=h;break;case 0:case 11:case 14:case 15:ji(2,a,n),St||ji(4,a,n),Qs(t,n,a);break;case 1:St||(Es(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&z0(a,n,l)),Qs(t,n,a);break;case 21:Qs(t,n,a);break;case 22:St=(l=St)||a.memoizedState!==null,Qs(t,n,a),St=l;break;default:Qs(t,n,a)}}function G0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ka(t)}catch(a){Ze(n,n.return,a)}}}function K0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ka(t)}catch(a){Ze(n,n.return,a)}}function bw(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new B0),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new B0),n;default:throw Error(r(435,t.tag))}}function uu(t,n){var a=bw(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=Aw.bind(null,t,l);l.then(h,h)}})}function on(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,v=n,w=v;e:for(;w!==null;){switch(w.tag){case 27:if(zi(w.type)){ct=w.stateNode,ln=!1;break e}break;case 5:ct=w.stateNode,ln=!1;break e;case 3:case 4:ct=w.stateNode.containerInfo,ln=!0;break e}w=w.return}if(ct===null)throw Error(r(160));F0(f,v,h),ct=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Y0(n,t),n=n.sibling}var Zn=null;function Y0(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),cn(t),l&4&&(ji(3,t,t.return),ao(3,t),ji(5,t,t.return));break;case 1:on(n,t),cn(t),l&512&&(St||a===null||Es(a,a.return)),l&64&&Ys&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Zn;if(on(n,t),cn(t),l&512&&(St||a===null||Es(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[us]||f[xt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ft(f,l,a),f[xt]=t,_t(f),l=f;break e;case"link":var v=Yy("link","href",h).get(l+(a.href||""));if(v){for(var w=0;w<v.length;w++)if(f=v[w],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(w,1);break t}}f=h.createElement(l),Ft(f,l,a),h.head.appendChild(f);break;case"meta":if(v=Yy("meta","content",h).get(l+(a.content||""))){for(w=0;w<v.length;w++)if(f=v[w],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(w,1);break t}}f=h.createElement(l),Ft(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[xt]=t,_t(f),l=f}t.stateNode=l}else Qy(h,t.type,t.stateNode);else t.stateNode=Ky(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Qy(h,t.type,t.stateNode):Ky(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&sf(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(n,t),cn(t),l&512&&(St||a===null||Es(a,a.return)),a!==null&&l&4&&sf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(n,t),cn(t),l&512&&(St||a===null||Es(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(he){Ze(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,sf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(lf=!0);break;case 6:if(on(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Ze(t,t.return,he)}}break;case 3:if(Su=null,h=Zn,Zn=Eu(n.containerInfo),on(n,t),Zn=h,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ka(n.containerInfo)}catch(he){Ze(t,t.return,he)}lf&&(lf=!1,Q0(t));break;case 4:l=Zn,Zn=Eu(t.stateNode.containerInfo),on(n,t),cn(t),Zn=l;break;case 12:on(n,t),cn(t);break;case 31:on(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,uu(t,l)));break;case 13:on(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(hu=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,uu(t,l)));break;case 22:h=t.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,F=Ys,X=St;if(Ys=F||h,St=X||j,on(n,t),St=X,Ys=F,cn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||j||Ys||St||Pr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){j=a=n;try{if(f=j.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=j.stateNode;var W=j.memoizedProps.style,K=W!=null&&W.hasOwnProperty("display")?W.display:null;w.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(he){Ze(j,j.return,he)}}}else if(n.tag===6){if(a===null){j=n;try{j.stateNode.nodeValue=h?"":j.memoizedProps}catch(he){Ze(j,j.return,he)}}}else if(n.tag===18){if(a===null){j=n;try{var Q=j.stateNode;h?zy(Q,!0):zy(j.stateNode,!1)}catch(he){Ze(j,j.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,uu(t,a))));break;case 19:on(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,uu(t,l)));break;case 30:break;case 21:break;default:on(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(U0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=rf(t);cu(t,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(an(v,""),a.flags&=-33);var w=rf(t);cu(t,w,v);break;case 3:case 4:var j=a.stateNode.containerInfo,F=rf(t);af(t,F,j);break;default:throw Error(r(161))}}catch(X){Ze(t,t.return,X)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Q0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Q0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function $s(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)q0(t,n.alternate,n),n=n.sibling}function Pr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ji(4,n,n.return),Pr(n);break;case 1:Es(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&z0(n,n.return,a),Pr(n);break;case 27:yo(n.stateNode);case 26:case 5:Es(n,n.return),Pr(n);break;case 22:n.memoizedState===null&&Pr(n);break;case 30:Pr(n);break;default:Pr(n)}t=t.sibling}}function Xs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:Xs(h,f,a),ao(4,f);break;case 1:if(Xs(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){Ze(l,l.return,F)}if(l=f,h=l.updateQueue,h!==null){var w=l.stateNode;try{var j=h.shared.hiddenCallbacks;if(j!==null)for(h.shared.hiddenCallbacks=null,h=0;h<j.length;h++)Ng(j[h],w)}catch(F){Ze(l,l.return,F)}}a&&v&64&&V0(f),lo(f,f.return);break;case 27:P0(f);case 26:case 5:Xs(h,f,a),a&&l===null&&v&4&&L0(f),lo(f,f.return);break;case 12:Xs(h,f,a);break;case 31:Xs(h,f,a),a&&v&4&&G0(h,f);break;case 13:Xs(h,f,a),a&&v&4&&K0(h,f);break;case 22:f.memoizedState===null&&Xs(h,f,a),lo(f,f.return);break;case 30:break;default:Xs(h,f,a)}n=n.sibling}}function of(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Yl(a))}function cf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Yl(t))}function Jn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)$0(t,n,a,l),n=n.sibling}function $0(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,a,l),h&2048&&ao(9,n);break;case 1:Jn(t,n,a,l);break;case 3:Jn(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Yl(t)));break;case 12:if(h&2048){Jn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,w=f.onPostCommit;typeof w=="function"&&w(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(j){Ze(n,n.return,j)}}else Jn(t,n,a,l);break;case 31:Jn(t,n,a,l);break;case 13:Jn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,a,l):oo(t,n):f._visibility&2?Jn(t,n,a,l):(f._visibility|=2,Oa(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&of(v,n);break;case 24:Jn(t,n,a,l),h&2048&&cf(n.alternate,n);break;default:Jn(t,n,a,l)}}function Oa(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,v=n,w=a,j=l,F=v.flags;switch(v.tag){case 0:case 11:case 15:Oa(f,v,w,j,h),ao(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Oa(f,v,w,j,h):oo(f,v):(X._visibility|=2,Oa(f,v,w,j,h)),h&&F&2048&&of(v.alternate,v);break;case 24:Oa(f,v,w,j,h),h&&F&2048&&cf(v.alternate,v);break;default:Oa(f,v,w,j,h)}n=n.sibling}}function oo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:oo(a,l),h&2048&&of(l.alternate,l);break;case 24:oo(a,l),h&2048&&cf(l.alternate,l);break;default:oo(a,l)}n=n.sibling}}var co=8192;function Va(t,n,a){if(t.subtreeFlags&co)for(t=t.child;t!==null;)X0(t,n,a),t=t.sibling}function X0(t,n,a){switch(t.tag){case 26:Va(t,n,a),t.flags&co&&t.memoizedState!==null&&iT(a,Zn,t.memoizedState,t.memoizedProps);break;case 5:Va(t,n,a);break;case 3:case 4:var l=Zn;Zn=Eu(t.stateNode.containerInfo),Va(t,n,a),Zn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=co,co=16777216,Va(t,n,a),co=l):Va(t,n,a));break;default:Va(t,n,a)}}function Z0(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function uo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];zt=l,W0(l,t)}Z0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)J0(t),t=t.sibling}function J0(t){switch(t.tag){case 0:case 11:case 15:uo(t),t.flags&2048&&ji(9,t,t.return);break;case 3:uo(t);break;case 12:uo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,du(t)):uo(t);break;default:uo(t)}}function du(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];zt=l,W0(l,t)}Z0(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ji(8,n,n.return),du(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,du(n));break;default:du(n)}t=t.sibling}}function W0(t,n){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:ji(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Yl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var h=l.sibling,f=l.return;if(H0(l),l===a){zt=null;break e}if(h!==null){h.return=f,zt=h;break e}zt=f}}}var vw={getCacheForType:function(t){var n=qt(Tt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qt(Tt).controller.signal}},xw=typeof WeakMap=="function"?WeakMap:Map,Ke=0,nt=null,Re=null,De=0,Xe=0,xn=null,Ri=!1,za=!1,uf=!1,Zs=0,ht=0,Ii=0,Br=0,df=0,_n=0,La=0,ho=null,un=null,hf=!1,hu=0,ey=0,fu=1/0,mu=null,Di=null,Dt=0,Mi=null,Ua=null,Js=0,ff=0,mf=null,ty=null,fo=0,pf=null;function wn(){return(Ke&2)!==0&&De!==0?De&-De:B.T!==null?_f():pc()}function ny(){if(_n===0)if((De&536870912)===0||Le){var t=mr;mr<<=1,(mr&3932160)===0&&(mr=262144),_n=t}else _n=536870912;return t=bn.current,t!==null&&(t.flags|=32),_n}function dn(t,n,a){(t===nt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Pa(t,0),Oi(t,De,_n,!1)),pr(t,a),((Ke&2)===0||t!==nt)&&(t===nt&&((Ke&2)===0&&(Br|=a),ht===4&&Oi(t,De,_n,!1)),Ns(t))}function sy(t,n,a){if((Ke&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||qn(t,n),h=l?Tw(t,n):yf(t,n,!0),f=l;do{if(h===0){za&&!l&&Oi(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!_w(a)){h=yf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;e:{var w=t;h=ho;var j=w.current.memoizedState.isDehydrated;if(j&&(Pa(w,v).flags|=256),v=yf(w,v,!1),v!==2){if(uf&&!j){w.errorRecoveryDisabledLanes|=f,Br|=f,h=4;break e}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){Pa(t,0),Oi(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Oi(l,n,_n,!Ri);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=hu+300-en(),10<h)){if(Oi(l,n,_n,!Ri),ls(l,0,!0)!==0)break e;Js=n,l.timeoutHandle=My(iy.bind(null,l,a,un,mu,hf,n,_n,Br,La,Ri,f,"Throttled",-0,0),h);break e}iy(l,a,un,mu,hf,n,_n,Br,La,Ri,f,null,-0,0)}}break}while(!0);Ns(t)}function iy(t,n,a,l,h,f,v,w,j,F,X,W,K,Q){if(t.timeoutHandle=-1,W=n.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},X0(n,f,W);var he=(f&62914560)===f?hu-en():(f&4194048)===f?ey-en():0;if(he=rT(W,he),he!==null){Js=f,t.cancelPendingCommit=he(hy.bind(null,t,n,f,a,l,h,v,w,j,X,W,null,K,Q)),Oi(t,f,v,!F);return}}hy(t,n,f,a,l,h,v,w,j)}function _w(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Oi(t,n,a,l){n&=~df,n&=~Br,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-ft(h),v=1<<f;l[f]=-1,h&=~v}a!==0&&gr(t,a,n)}function pu(){return(Ke&6)===0?(mo(0),!1):!0}function gf(){if(Re!==null){if(Xe===0)var t=Re.return;else t=Re,Bs=Ir=null,Rh(t),ja=null,$l=0,t=Re;for(;t!==null;)O0(t.alternate,t),t=t.return;Re=null}}function Pa(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Bw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Js=0,gf(),nt=t,Re=a=Us(t.current,null),De=n,Xe=0,xn=null,Ri=!1,za=qn(t,n),uf=!1,La=_n=df=Br=Ii=ht=0,un=ho=null,hf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-ft(l),f=1<<h;n|=t[h],l&=~f}return Zs=n,Vc(),a}function ry(t,n){ke=null,B.H=so,n===Ca||n===Fc?(n=_g(),Xe=3):n===vh?(n=_g(),Xe=4):Xe=n===Yh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,Re===null&&(ht=1,iu(t,In(n,t.current)))}function ay(){var t=bn.current;return t===null?!0:(De&4194048)===De?Vn===null:(De&62914560)===De||(De&536870912)!==0?t===Vn:!1}function ly(){var t=B.H;return B.H=so,t===null?so:t}function oy(){var t=B.A;return B.A=vw,t}function gu(){ht=4,Ri||(De&4194048)!==De&&bn.current!==null||(za=!0),(Ii&134217727)===0&&(Br&134217727)===0||nt===null||Oi(nt,De,_n,!1)}function yf(t,n,a){var l=Ke;Ke|=2;var h=ly(),f=oy();(nt!==t||De!==n)&&(mu=null,Pa(t,n)),n=!1;var v=ht;e:do try{if(Xe!==0&&Re!==null){var w=Re,j=xn;switch(Xe){case 8:gf(),v=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var F=Xe;if(Xe=0,xn=null,Ba(t,w,j,F),a&&za){v=0;break e}break;default:F=Xe,Xe=0,xn=null,Ba(t,w,j,F)}}ww(),v=ht;break}catch(X){ry(t,X)}while(!0);return n&&t.shellSuspendCounter++,Bs=Ir=null,Ke=l,B.H=h,B.A=f,Re===null&&(nt=null,De=0,Vc()),v}function ww(){for(;Re!==null;)cy(Re)}function Tw(t,n){var a=Ke;Ke|=2;var l=ly(),h=oy();nt!==t||De!==n?(mu=null,fu=en()+500,Pa(t,n)):za=qn(t,n);e:do try{if(Xe!==0&&Re!==null){n=Re;var f=xn;t:switch(Xe){case 1:Xe=0,xn=null,Ba(t,n,f,1);break;case 2:case 9:if(vg(f)){Xe=0,xn=null,uy(n);break}n=function(){Xe!==2&&Xe!==9||nt!==t||(Xe=7),Ns(t)},f.then(n,n);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:vg(f)?(Xe=0,xn=null,uy(n)):(Xe=0,xn=null,Ba(t,n,f,7));break;case 5:var v=null;switch(Re.tag){case 26:v=Re.memoizedState;case 5:case 27:var w=Re;if(v?$y(v):w.stateNode.complete){Xe=0,xn=null;var j=w.sibling;if(j!==null)Re=j;else{var F=w.return;F!==null?(Re=F,yu(F)):Re=null}break t}}Xe=0,xn=null,Ba(t,n,f,5);break;case 6:Xe=0,xn=null,Ba(t,n,f,6);break;case 8:gf(),ht=6;break e;default:throw Error(r(462))}}Ew();break}catch(X){ry(t,X)}while(!0);return Bs=Ir=null,B.H=l,B.A=h,Ke=a,Re!==null?0:(nt=null,De=0,Vc(),ht)}function Ew(){for(;Re!==null&&!Kd();)cy(Re)}function cy(t){var n=D0(t.alternate,t,Zs);t.memoizedProps=t.pendingProps,n===null?yu(t):Re=n}function uy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=A0(a,n,n.pendingProps,n.type,void 0,De);break;case 11:n=A0(a,n,n.pendingProps,n.type.render,n.ref,De);break;case 5:Rh(n);default:O0(a,n),n=Re=og(n,Zs),n=D0(a,n,Zs)}t.memoizedProps=t.pendingProps,n===null?yu(t):Re=n}function Ba(t,n,a,l){Bs=Ir=null,Rh(n),ja=null,$l=0;var h=n.return;try{if(hw(t,h,n,a,De)){ht=1,iu(t,In(a,t.current)),Re=null;return}}catch(f){if(h!==null)throw Re=h,f;ht=1,iu(t,In(a,t.current)),Re=null;return}n.flags&32768?(Le||l===1?t=!0:za||(De&536870912)!==0?t=!1:(Ri=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),dy(n,t)):yu(n)}function yu(t){var n=t;do{if((n.flags&32768)!==0){dy(n,Ri);return}t=n.return;var a=pw(n.alternate,n,Zs);if(a!==null){Re=a;return}if(n=n.sibling,n!==null){Re=n;return}Re=n=t}while(n!==null);ht===0&&(ht=5)}function dy(t,n){do{var a=gw(t.alternate,t);if(a!==null){a.flags&=32767,Re=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Re=t;return}Re=t=a}while(t!==null);ht=6,Re=null}function hy(t,n,a,l,h,f,v,w,j){t.cancelPendingCommit=null;do bu();while(Dt!==0);if((Ke&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=ih,$d(t,a,f,v,w,j),t===nt&&(Re=nt=null,De=0),Ua=n,Mi=t,Js=a,ff=f,mf=h,ty=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,kw(di,function(){return yy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,h=re.p,re.p=2,v=Ke,Ke|=4;try{yw(t,n,a)}finally{Ke=v,re.p=h,B.T=l}}Dt=1,fy(),my(),py()}}function fy(){if(Dt===1){Dt=0;var t=Mi,n=Ua,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var l=re.p;re.p=2;var h=Ke;Ke|=4;try{Y0(n,t);var f=Cf,v=Wp(t.containerInfo),w=f.focusedElem,j=f.selectionRange;if(v!==w&&w&&w.ownerDocument&&Jp(w.ownerDocument.documentElement,w)){if(j!==null&&Wd(w)){var F=j.start,X=j.end;if(X===void 0&&(X=F),"selectionStart"in w)w.selectionStart=F,w.selectionEnd=Math.min(X,w.value.length);else{var W=w.ownerDocument||document,K=W&&W.defaultView||window;if(K.getSelection){var Q=K.getSelection(),he=w.textContent.length,ve=Math.min(j.start,he),tt=j.end===void 0?ve:Math.min(j.end,he);!Q.extend&&ve>tt&&(v=tt,tt=ve,ve=v);var U=Zp(w,ve),M=Zp(w,tt);if(U&&M&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var H=W.createRange();H.setStart(U.node,U.offset),Q.removeAllRanges(),ve>tt?(Q.addRange(H),Q.extend(M.node,M.offset)):(H.setEnd(M.node,M.offset),Q.addRange(H))}}}}for(W=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&W.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<W.length;w++){var J=W[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}ju=!!kf,Cf=kf=null}finally{Ke=h,re.p=l,B.T=a}}t.current=n,Dt=2}}function my(){if(Dt===2){Dt=0;var t=Mi,n=Ua,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var l=re.p;re.p=2;var h=Ke;Ke|=4;try{q0(t,n.alternate,n)}finally{Ke=h,re.p=l,B.T=a}}Dt=3}}function py(){if(Dt===4||Dt===3){Dt=0,oc();var t=Mi,n=Ua,a=Js,l=ty;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Dt=5:(Dt=0,Ua=Mi=null,gy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Di=null),Os(a),n=n.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Bn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=B.T,h=re.p,re.p=2,B.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var w=l[v];f(w.value,{componentStack:w.stack})}}finally{B.T=n,re.p=h}}(Js&3)!==0&&bu(),Ns(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===pf?fo++:(fo=0,pf=t):fo=0,mo(0)}}function gy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Yl(n)))}function bu(){return fy(),my(),py(),yy()}function yy(){if(Dt!==5)return!1;var t=Mi,n=ff;ff=0;var a=Os(Js),l=B.T,h=re.p;try{re.p=32>a?32:a,B.T=null,a=mf,mf=null;var f=Mi,v=Js;if(Dt=0,Ua=Mi=null,Js=0,(Ke&6)!==0)throw Error(r(331));var w=Ke;if(Ke|=4,J0(f.current),$0(f,f.current,v,a),Ke=w,mo(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Bn,f)}catch{}return!0}finally{re.p=h,B.T=l,gy(t,n)}}function by(t,n,a){n=In(a,n),n=Kh(t.stateNode,n,2),t=Ai(t,n,2),t!==null&&(pr(t,2),Ns(t))}function Ze(t,n,a){if(t.tag===3)by(t,t,a);else for(;n!==null;){if(n.tag===3){by(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Di===null||!Di.has(l))){t=In(a,t),a=v0(2),l=Ai(n,a,2),l!==null&&(x0(a,l,n,t),pr(l,2),Ns(l));break}}n=n.return}}function bf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new xw;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(uf=!0,h.add(a),t=Nw.bind(null,t,n,a),n.then(t,t))}function Nw(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(De&a)===a&&(ht===4||ht===3&&(De&62914560)===De&&300>en()-hu?(Ke&2)===0&&Pa(t,0):df|=a,La===De&&(La=0)),Ns(t)}function vy(t,n){n===0&&(n=mc()),t=Cr(t,n),t!==null&&(pr(t,n),Ns(t))}function Sw(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),vy(t,a)}function Aw(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),vy(t,a)}function kw(t,n){return It(t,n)}var vu=null,qa=null,vf=!1,xu=!1,xf=!1,Vi=0;function Ns(t){t!==qa&&t.next===null&&(qa===null?vu=qa=t:qa=qa.next=t),xu=!0,vf||(vf=!0,jw())}function mo(t,n){if(!xf&&xu){xf=!0;do for(var a=!1,l=vu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,w=l.pingedLanes;f=(1<<31-ft(42|t)+1)-1,f&=h&~(v&~w),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Ty(l,f))}else f=De,f=ls(l,l===nt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||qn(l,f)||(a=!0,Ty(l,f));l=l.next}while(a);xf=!1}}function Cw(){xy()}function xy(){xu=vf=!1;var t=0;Vi!==0&&Pw()&&(t=Vi);for(var n=en(),a=null,l=vu;l!==null;){var h=l.next,f=_y(l,n);f===0?(l.next=null,a===null?vu=h:a.next=h,h===null&&(qa=a)):(a=l,(t!==0||(f&3)!==0)&&(xu=!0)),l=h}Dt!==0&&Dt!==5||mo(t),Vi!==0&&(Vi=0)}function _y(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-ft(f),w=1<<v,j=h[v];j===-1?((w&a)===0||(w&l)!==0)&&(h[v]=Qd(w,n)):j<=n&&(t.expiredLanes|=w),f&=~w}if(n=nt,a=De,a=ls(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ui(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||qn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&ui(l),Os(a)){case 2:case 8:a=Tl;break;case 32:a=di;break;case 268435456:a=cc;break;default:a=di}return l=wy.bind(null,t),a=It(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&ui(l),t.callbackPriority=2,t.callbackNode=null,2}function wy(t,n){if(Dt!==0&&Dt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(bu()&&t.callbackNode!==a)return null;var l=De;return l=ls(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(sy(t,l,n),_y(t,en()),t.callbackNode!=null&&t.callbackNode===a?wy.bind(null,t):null)}function Ty(t,n){if(bu())return null;sy(t,n,!0)}function jw(){qw(function(){(Ke&6)!==0?It(wl,Cw):xy()})}function _f(){if(Vi===0){var t=Aa;t===0&&(t=rs,rs<<=1,(rs&261888)===0&&(rs=256)),Vi=t}return Vi}function Ey(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ha(""+t)}function Ny(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function Rw(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=Ey((h[Ot]||null).action),v=l.submitter;v&&(n=(n=v[Ot]||null)?Ey(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var w=new bs("action","action",null,l,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vi!==0){var j=v?Ny(h,v):new FormData(h);Ph(a,{pending:!0,data:j,method:h.method,action:f},null,j)}}else typeof f=="function"&&(w.preventDefault(),j=v?Ny(h,v):new FormData(h),Ph(a,{pending:!0,data:j,method:h.method,action:f},f,j))},currentTarget:h}]})}}for(var wf=0;wf<sh.length;wf++){var Tf=sh[wf],Iw=Tf.toLowerCase(),Dw=Tf[0].toUpperCase()+Tf.slice(1);Xn(Iw,"on"+Dw)}Xn(ng,"onAnimationEnd"),Xn(sg,"onAnimationIteration"),Xn(ig,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn($1,"onTransitionRun"),Xn(X1,"onTransitionStart"),Xn(Z1,"onTransitionCancel"),Xn(rg,"onTransitionEnd"),ms("onMouseEnter",["mouseout","mouseover"]),ms("onMouseLeave",["mouseout","mouseover"]),ms("onPointerEnter",["pointerout","pointerover"]),ms("onPointerLeave",["pointerout","pointerover"]),fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fs("onBeforeInput",["compositionend","keypress","textInput","paste"]),fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(po));function Sy(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var w=l[v],j=w.instance,F=w.currentTarget;if(w=w.listener,j!==f&&h.isPropagationStopped())break e;f=w,h.currentTarget=F;try{f(h)}catch(X){Oc(X)}h.currentTarget=null,f=j}else for(v=0;v<l.length;v++){if(w=l[v],j=w.instance,F=w.currentTarget,w=w.listener,j!==f&&h.isPropagationStopped())break e;f=w,h.currentTarget=F;try{f(h)}catch(X){Oc(X)}h.currentTarget=null,f=j}}}}function Ie(t,n){var a=n[la];a===void 0&&(a=n[la]=new Set);var l=t+"__bubble";a.has(l)||(Ay(n,t,2,!1),a.add(l))}function Ef(t,n,a){var l=0;n&&(l|=4),Ay(a,t,l,n)}var _u="_reactListening"+Math.random().toString(36).slice(2);function Nf(t){if(!t[_u]){t[_u]=!0,Sl.forEach(function(a){a!=="selectionchange"&&(Mw.has(a)||Ef(a,!1,t),Ef(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[_u]||(n[_u]=!0,Ef("selectionchange",!1,n))}}function Ay(t,n,a,l){switch(nb(n)){case 2:var h=oT;break;case 8:h=cT;break;default:h=Pf}a=h.bind(null,n,a,t),h=void 0,!_r||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Sf(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var w=l.stateNode.containerInfo;if(w===h)break;if(v===4)for(v=l.return;v!==null;){var j=v.tag;if((j===3||j===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;w!==null;){if(v=ds(w),v===null)return;if(j=v.tag,j===5||j===6||j===26||j===27){l=f=v;continue e}w=w.parentNode}}l=l.return}yi(function(){var F=f,X=kn(a),W=[];e:{var K=ag.get(t);if(K!==void 0){var Q=bs,he=t;switch(t){case"keypress":if(Tr(a)===0)break e;case"keydown":case"keyup":Q=Ic;break;case"focusin":he="focus",Q=Nr;break;case"focusout":he="blur",Q=Nr;break;case"beforeblur":case"afterblur":Q=Nr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=p;break;case ng:case sg:case ig:Q=Nc;break;case rg:Q=E;break;case"scroll":case"scrollend":Q=Ll;break;case"wheel":Q=Y;break;case"copy":case"cut":case"paste":Q=Sc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ls;break;case"toggle":case"beforetoggle":Q=Ae}var ve=(n&4)!==0,tt=!ve&&(t==="scroll"||t==="scrollend"),U=ve?K!==null?K+"Capture":null:K;ve=[];for(var M=F,H;M!==null;){var J=M;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||U===null||(J=Kn(M,U),J!=null&&ve.push(go(M,J,H))),tt)break;M=M.return}0<ve.length&&(K=new Q(K,he,null,a,X),W.push({event:K,listeners:ve}))}}if((n&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",K&&a!==Ol&&(he=a.relatedTarget||a.fromElement)&&(ds(he)||he[cs]))break e;if((Q||K)&&(K=X.window===X?X:(K=X.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(he=a.relatedTarget||a.toElement,Q=F,he=he?ds(he):null,he!==null&&(tt=u(he),ve=he.tag,he!==tt||ve!==5&&ve!==27&&ve!==6)&&(he=null)):(Q=null,he=F),Q!==he)){if(ve=Ul,J="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Ls,J="onPointerLeave",U="onPointerEnter",M="pointer"),tt=Q==null?K:mn(Q),H=he==null?K:mn(he),K=new ve(J,M+"leave",Q,a,X),K.target=tt,K.relatedTarget=H,J=null,ds(X)===F&&(ve=new ve(U,M+"enter",he,a,X),ve.target=H,ve.relatedTarget=tt,J=ve),tt=J,Q&&he)t:{for(ve=Ow,U=Q,M=he,H=0,J=U;J;J=ve(J))H++;J=0;for(var ge=M;ge;ge=ve(ge))J++;for(;0<H-J;)U=ve(U),H--;for(;0<J-H;)M=ve(M),J--;for(;H--;){if(U===M||M!==null&&U===M.alternate){ve=U;break t}U=ve(U),M=ve(M)}ve=null}else ve=null;Q!==null&&ky(W,K,Q,ve,!1),he!==null&&tt!==null&&ky(W,tt,he,ve,!0)}}e:{if(K=F?mn(F):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var qe=Gp;else if(Hp(K))if(Kp)qe=K1;else{qe=F1;var fe=H1}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?F&&da(F.elementType)&&(qe=Gp):qe=G1;if(qe&&(qe=qe(t,F))){Fp(W,qe,a,X);break e}fe&&fe(t,K,F),t==="focusout"&&F&&K.type==="number"&&F.memoizedProps.value!=null&&Il(K,"number",K.value)}switch(fe=F?mn(F):window,t){case"focusin":(Hp(fe)||fe.contentEditable==="true")&&(va=fe,eh=F,Fl=null);break;case"focusout":Fl=eh=va=null;break;case"mousedown":th=!0;break;case"contextmenu":case"mouseup":case"dragend":th=!1,eg(W,a,X);break;case"selectionchange":if(Q1)break;case"keydown":case"keyup":eg(W,a,X)}var je;if(Ge)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else ba?Sr(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(_s&&a.locale!=="ko"&&(ba||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&ba&&(je=zl()):(ys=X,Vl="value"in ys?ys.value:ys.textContent,ba=!0)),fe=wu(F,Me),0<fe.length&&(Me=new xs(Me,t,null,a,X),W.push({event:Me,listeners:fe}),je?Me.data=je:(je=ya(a),je!==null&&(Me.data=je)))),(je=jn?U1(t,a):P1(t,a))&&(Me=wu(F,"onBeforeInput"),0<Me.length&&(fe=new xs("onBeforeInput","beforeinput",null,a,X),W.push({event:fe,listeners:Me}),fe.data=je)),Rw(W,t,F,a,X)}Sy(W,n)})}function go(t,n,a){return{instance:t,listener:n,currentTarget:a}}function wu(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Kn(t,a),h!=null&&l.unshift(go(t,h,f)),h=Kn(t,n),h!=null&&l.push(go(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Ow(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ky(t,n,a,l,h){for(var f=n._reactName,v=[];a!==null&&a!==l;){var w=a,j=w.alternate,F=w.stateNode;if(w=w.tag,j!==null&&j===l)break;w!==5&&w!==26&&w!==27||F===null||(j=F,h?(F=Kn(a,f),F!=null&&v.unshift(go(a,F,j))):h||(F=Kn(a,f),F!=null&&v.push(go(a,F,j)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var Vw=/\r\n?/g,zw=/\u0000|\uFFFD/g;function Cy(t){return(typeof t=="string"?t:""+t).replace(Vw,`
`).replace(zw,"")}function jy(t,n){return n=Cy(n),Cy(t)===n}function et(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&an(t,""+l);break;case"className":pn(t,"class",l);break;case"tabIndex":pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,a,l);break;case"style":Ml(t,l,f);break;case"data":if(n!=="object"){pn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ha(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&et(t,n,"name",h.name,h,null),et(t,n,"formEncType",h.formEncType,h,null),et(t,n,"formMethod",h.formMethod,h,null),et(t,n,"formTarget",h.formTarget,h,null)):(et(t,n,"encType",h.encType,h,null),et(t,n,"method",h.method,h,null),et(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ha(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"onScroll":l!=null&&Ie("scroll",t);break;case"onScrollEnd":l!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ha(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),ca(t,"popover",l);break;case"xlinkActuate":wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ca(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wc.get(a)||a,ca(t,a,l))}}function Af(t,n,a,l,h,f){switch(a){case"style":Ml(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&Ie("scroll",t);break;case"onScrollEnd":l!=null&&Ie("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Al.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Ot]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ca(t,a,l)}}}function Ft(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:et(t,n,f,v,a,null)}}h&&et(t,n,"srcSet",a.srcSet,a,null),l&&et(t,n,"src",a.src,a,null);return;case"input":Ie("invalid",t);var w=f=v=h=null,j=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":j=X;break;case"defaultChecked":F=X;break;case"value":f=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,n));break;default:et(t,n,l,X,a,null)}}vc(t,f,w,j,F,v,h,!1);return;case"select":Ie("invalid",t),l=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":f=w;break;case"defaultValue":v=w;break;case"multiple":l=w;default:et(t,n,h,w,a,null)}n=f,a=v,t.multiple=!!l,n!=null?fi(t,!!l,n,!1):a!=null&&fi(t,!!l,a,!0);return;case"textarea":Ie("invalid",t),f=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(w=a[v],w!=null))switch(v){case"value":l=w;break;case"defaultValue":h=w;break;case"children":f=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:et(t,n,v,w,a,null)}mi(t,l,h,f);return;case"option":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,n,j,l,a,null)}return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(l=0;l<po.length;l++)Ie(po[l],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:et(t,n,F,l,a,null)}return;default:if(da(n)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Af(t,n,X,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&et(t,n,w,l,a,null))}function Lw(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,w=null,j=null,F=null,X=null;for(Q in a){var W=a[Q];if(a.hasOwnProperty(Q)&&W!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":j=W;default:l.hasOwnProperty(Q)||et(t,n,Q,null,l,W)}}for(var K in l){var Q=l[K];if(W=a[K],l.hasOwnProperty(K)&&(Q!=null||W!=null))switch(K){case"type":f=Q;break;case"name":h=Q;break;case"checked":F=Q;break;case"defaultChecked":X=Q;break;case"value":v=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:Q!==W&&et(t,n,K,Q,l,W)}}ua(t,v,w,j,F,X,f,h);return;case"select":Q=v=w=K=null;for(f in a)if(j=a[f],a.hasOwnProperty(f)&&j!=null)switch(f){case"value":break;case"multiple":Q=j;default:l.hasOwnProperty(f)||et(t,n,f,null,l,j)}for(h in l)if(f=l[h],j=a[h],l.hasOwnProperty(h)&&(f!=null||j!=null))switch(h){case"value":K=f;break;case"defaultValue":w=f;break;case"multiple":v=f;default:f!==j&&et(t,n,h,f,l,j)}n=w,a=v,l=Q,K!=null?fi(t,!!a,K,!1):!!l!=!!a&&(n!=null?fi(t,!!a,n,!0):fi(t,!!a,a?[]:"",!1));return;case"textarea":Q=K=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:et(t,n,w,null,l,h)}for(v in l)if(h=l[v],f=a[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":K=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&et(t,n,v,h,l,f)}xc(t,K,Q);return;case"option":for(var he in a)if(K=a[he],a.hasOwnProperty(he)&&K!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:et(t,n,he,null,l,K)}for(j in l)if(K=l[j],Q=a[j],l.hasOwnProperty(j)&&K!==Q&&(K!=null||Q!=null))switch(j){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:et(t,n,j,K,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)K=a[ve],a.hasOwnProperty(ve)&&K!=null&&!l.hasOwnProperty(ve)&&et(t,n,ve,null,l,K);for(F in l)if(K=l[F],Q=a[F],l.hasOwnProperty(F)&&K!==Q&&(K!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:et(t,n,F,K,l,Q)}return;default:if(da(n)){for(var tt in a)K=a[tt],a.hasOwnProperty(tt)&&K!==void 0&&!l.hasOwnProperty(tt)&&Af(t,n,tt,void 0,l,K);for(X in l)K=l[X],Q=a[X],!l.hasOwnProperty(X)||K===Q||K===void 0&&Q===void 0||Af(t,n,X,K,l,Q);return}}for(var U in a)K=a[U],a.hasOwnProperty(U)&&K!=null&&!l.hasOwnProperty(U)&&et(t,n,U,null,l,K);for(W in l)K=l[W],Q=a[W],!l.hasOwnProperty(W)||K===Q||K==null&&Q==null||et(t,n,W,K,l,Q)}function Ry(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Uw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,v=h.initiatorType,w=h.duration;if(f&&w&&Ry(v)){for(v=0,w=h.responseEnd,l+=1;l<a.length;l++){var j=a[l],F=j.startTime;if(F>w)break;var X=j.transferSize,W=j.initiatorType;X&&Ry(W)&&(j=j.responseEnd,v+=X*(j<w?1:(w-F)/(j-F)))}if(--l,n+=8*(f+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var kf=null,Cf=null;function Tu(t){return t.nodeType===9?t:t.ownerDocument}function Iy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function jf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Rf=null;function Pw(){var t=window.event;return t&&t.type==="popstate"?t===Rf?!1:(Rf=t,!0):(Rf=null,!1)}var My=typeof setTimeout=="function"?setTimeout:void 0,Bw=typeof clearTimeout=="function"?clearTimeout:void 0,Oy=typeof Promise=="function"?Promise:void 0,qw=typeof queueMicrotask=="function"?queueMicrotask:typeof Oy<"u"?function(t){return Oy.resolve(null).then(t).catch(Hw)}:My;function Hw(t){setTimeout(function(){throw t})}function zi(t){return t==="head"}function Vy(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ka(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")yo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,yo(a);for(var f=a.firstChild;f;){var v=f.nextSibling,w=f.nodeName;f[us]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=v}}else a==="body"&&yo(t.ownerDocument.body);a=h}while(a);Ka(n)}function zy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function If(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":If(a),oa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Fw(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[us])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function Gw(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function Ly(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=zn(t.nextSibling),t===null))return null;return t}function Df(t){return t.data==="$?"||t.data==="$~"}function Mf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Kw(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Of=null;function Uy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return zn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Py(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function By(t,n,a){switch(n=Tu(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function yo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);oa(t)}var Ln=new Map,qy=new Set;function Eu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ws=re.d;re.d={f:Yw,r:Qw,D:$w,C:Xw,L:Zw,m:Jw,X:eT,S:Ww,M:tT};function Yw(){var t=Ws.f(),n=pu();return t||n}function Qw(t){var n=An(t);n!==null&&n.tag===5&&n.type==="form"?r0(n):Ws.r(t)}var Ha=typeof document>"u"?null:document;function Hy(t,n,a){var l=Ha;if(l&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),qy.has(h)||(qy.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ft(n,"link",t),_t(n),l.head.appendChild(n)))}}function $w(t){Ws.D(t),Hy("dns-prefetch",t,null)}function Xw(t,n){Ws.C(t,n),Hy("preconnect",t,n)}function Zw(t,n,a){Ws.L(t,n,a);var l=Ha;if(l&&t&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var f=h;switch(n){case"style":f=Fa(t);break;case"script":f=Ga(t)}Ln.has(f)||(t=N({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Ln.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(bo(f))||n==="script"&&l.querySelector(vo(f))||(n=l.createElement("link"),Ft(n,"link",t),_t(n),l.head.appendChild(n)))}}function Jw(t,n){Ws.m(t,n);var a=Ha;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ga(t)}if(!Ln.has(f)&&(t=N({rel:"modulepreload",href:t},n),Ln.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vo(f)))return}l=a.createElement("link"),Ft(l,"link",t),_t(l),a.head.appendChild(l)}}}function Ww(t,n,a){Ws.S(t,n,a);var l=Ha;if(l&&t){var h=hs(l).hoistableStyles,f=Fa(t);n=n||"default";var v=h.get(f);if(!v){var w={loading:0,preload:null};if(v=l.querySelector(bo(f)))w.loading=5;else{t=N({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Ln.get(f))&&Vf(t,a);var j=v=l.createElement("link");_t(j),Ft(j,"link",t),j._p=new Promise(function(F,X){j.onload=F,j.onerror=X}),j.addEventListener("load",function(){w.loading|=1}),j.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Nu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:w},h.set(f,v)}}}function eT(t,n){Ws.X(t,n);var a=Ha;if(a&&t){var l=hs(a).hoistableScripts,h=Ga(t),f=l.get(h);f||(f=a.querySelector(vo(h)),f||(t=N({src:t,async:!0},n),(n=Ln.get(h))&&zf(t,n),f=a.createElement("script"),_t(f),Ft(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function tT(t,n){Ws.M(t,n);var a=Ha;if(a&&t){var l=hs(a).hoistableScripts,h=Ga(t),f=l.get(h);f||(f=a.querySelector(vo(h)),f||(t=N({src:t,async:!0,type:"module"},n),(n=Ln.get(h))&&zf(t,n),f=a.createElement("script"),_t(f),Ft(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Fy(t,n,a,l){var h=(h=Ce.current)?Eu(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Fa(a.href),a=hs(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Fa(a.href);var f=hs(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(bo(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),f||nT(h,t,a,v.state))),n&&l===null)throw Error(r(528,""));return v}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ga(a),a=hs(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Fa(t){return'href="'+rn(t)+'"'}function bo(t){return'link[rel="stylesheet"]['+t+"]"}function Gy(t){return N({},t,{"data-precedence":t.precedence,precedence:null})}function nT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ft(n,"link",a),_t(n),t.head.appendChild(n))}function Ga(t){return'[src="'+rn(t)+'"]'}function vo(t){return"script[async]"+t}function Ky(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return n.instance=l,_t(l),l;var h=N({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),_t(l),Ft(l,"style",h),Nu(l,a.precedence,t),n.instance=l;case"stylesheet":h=Fa(a.href);var f=t.querySelector(bo(h));if(f)return n.state.loading|=4,n.instance=f,_t(f),f;l=Gy(a),(h=Ln.get(h))&&Vf(l,h),f=(t.ownerDocument||t).createElement("link"),_t(f);var v=f;return v._p=new Promise(function(w,j){v.onload=w,v.onerror=j}),Ft(f,"link",l),n.state.loading|=4,Nu(f,a.precedence,t),n.instance=f;case"script":return f=Ga(a.src),(h=t.querySelector(vo(f)))?(n.instance=h,_t(h),h):(l=a,(h=Ln.get(f))&&(l=N({},a),zf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),_t(h),Ft(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Nu(l,a.precedence,t));return n.instance}function Nu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var w=l[v];if(w.dataset.precedence===n)f=w;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function zf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Su=null;function Yy(t,n,a){if(Su===null){var l=new Map,h=Su=new Map;h.set(a,l)}else h=Su,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[us]||f[xt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var w=l.get(v);w?w.push(f):l.set(v,[f])}}return l}function Qy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function sT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function $y(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function iT(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Fa(l.href),f=n.querySelector(bo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Au.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,_t(f);return}f=n.ownerDocument||n,l=Gy(l),(h=Ln.get(h))&&Vf(l,h),f=f.createElement("link"),_t(f);var v=f;v._p=new Promise(function(w,j){v.onload=w,v.onerror=j}),Ft(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Au.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Lf=0;function rT(t,n){return t.stylesheets&&t.count===0&&Cu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Cu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Lf===0&&(Lf=62500*Uw());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Cu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Lf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Au(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ku=null;function Cu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ku=new Map,n.forEach(aT,t),ku=null,Au.call(t))}function aT(t,n){if(!(n.state.loading&4)){var a=ku.get(t);if(a)var l=a.get(null);else{a=new Map,ku.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,h),a.set(v,h),this.count++,l=Au.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var xo={$$typeof:I,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function lT(t,n,a,l,h,f,v,w,j){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=os(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=os(0),this.hiddenUpdates=os(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Xy(t,n,a,l,h,f,v,w,j,F,X,W){return t=new lT(t,n,a,v,j,F,X,W,w),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),t.current=f,f.stateNode=t,n=gh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},xh(f),t}function Zy(t){return t?(t=wa,t):wa}function Jy(t,n,a,l,h,f){h=Zy(h),l.context===null?l.context=h:l.pendingContext=h,l=Si(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Ai(t,l,n),a!==null&&(dn(a,t,n),Zl(a,t,n))}function Wy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Uf(t,n){Wy(t,n),(t=t.alternate)&&Wy(t,n)}function eb(t){if(t.tag===13||t.tag===31){var n=Cr(t,67108864);n!==null&&dn(n,t,67108864),Uf(t,67108864)}}function tb(t){if(t.tag===13||t.tag===31){var n=wn();n=yr(n);var a=Cr(t,n);a!==null&&dn(a,t,n),Uf(t,n)}}var ju=!0;function oT(t,n,a,l){var h=B.T;B.T=null;var f=re.p;try{re.p=2,Pf(t,n,a,l)}finally{re.p=f,B.T=h}}function cT(t,n,a,l){var h=B.T;B.T=null;var f=re.p;try{re.p=8,Pf(t,n,a,l)}finally{re.p=f,B.T=h}}function Pf(t,n,a,l){if(ju){var h=Bf(l);if(h===null)Sf(t,n,l,Ru,a),sb(t,l);else if(dT(h,t,n,a,l))l.stopPropagation();else if(sb(t,l),n&4&&-1<uT.indexOf(t)){for(;h!==null;){var f=An(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=as(f.pendingLanes);if(v!==0){var w=f;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var j=1<<31-ft(v);w.entanglements[1]|=j,v&=~j}Ns(f),(Ke&6)===0&&(fu=en()+500,mo(0))}}break;case 31:case 13:w=Cr(f,2),w!==null&&dn(w,f,2),pu(),Uf(f,2)}if(f=Bf(l),f===null&&Sf(t,n,l,Ru,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Sf(t,n,l,null,a)}}function Bf(t){return t=kn(t),qf(t)}var Ru=null;function qf(t){if(Ru=null,t=ds(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=m(n),t!==null)return t;t=null}else if(a===31){if(t=b(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ru=t,null}function nb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fr()){case wl:return 2;case Tl:return 8;case di:case Yd:return 32;case cc:return 268435456;default:return 32}default:return 32}}var Hf=!1,Li=null,Ui=null,Pi=null,_o=new Map,wo=new Map,Bi=[],uT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sb(t,n){switch(t){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":_o.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":wo.delete(n.pointerId)}}function To(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&eb(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function dT(t,n,a,l,h){switch(n){case"focusin":return Li=To(Li,t,n,a,l,h),!0;case"dragenter":return Ui=To(Ui,t,n,a,l,h),!0;case"mouseover":return Pi=To(Pi,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return _o.set(f,To(_o.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,wo.set(f,To(wo.get(f)||null,t,n,a,l,h)),!0}return!1}function ib(t){var n=ds(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=m(a),n!==null){t.blockedOn=n,Hn(t.priority,function(){tb(a)});return}}else if(n===31){if(n=b(a),n!==null){t.blockedOn=n,Hn(t.priority,function(){tb(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Iu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Bf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ol=l,a.target.dispatchEvent(l),Ol=null}else return n=An(a),n!==null&&eb(n),t.blockedOn=a,!1;n.shift()}return!0}function rb(t,n,a){Iu(t)&&a.delete(n)}function hT(){Hf=!1,Li!==null&&Iu(Li)&&(Li=null),Ui!==null&&Iu(Ui)&&(Ui=null),Pi!==null&&Iu(Pi)&&(Pi=null),_o.forEach(rb),wo.forEach(rb)}function Du(t,n){t.blockedOn===n&&(t.blockedOn=null,Hf||(Hf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,hT)))}var Mu=null;function ab(t){Mu!==t&&(Mu=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Mu===t&&(Mu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(qf(l||a)===null)continue;break}var f=An(a);f!==null&&(t.splice(n,3),n-=3,Ph(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ka(t){function n(j){return Du(j,t)}Li!==null&&Du(Li,t),Ui!==null&&Du(Ui,t),Pi!==null&&Du(Pi,t),_o.forEach(n),wo.forEach(n);for(var a=0;a<Bi.length;a++){var l=Bi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Bi.length&&(a=Bi[0],a.blockedOn===null);)ib(a),a.blockedOn===null&&Bi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],v=h[Ot]||null;if(typeof f=="function")v||ab(a);else if(v){var w=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[Ot]||null)w=v.formAction;else if(qf(h)!==null)continue}else w=v.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),ab(a)}}}function lb(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ff(t){this._internalRoot=t}Ou.prototype.render=Ff.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=wn();Jy(a,l,t,n,null,null)},Ou.prototype.unmount=Ff.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Jy(t.current,2,null,t,null,null),pu(),n[cs]=null}};function Ou(t){this._internalRoot=t}Ou.prototype.unstable_scheduleHydration=function(t){if(t){var n=pc();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Bi.length&&n!==0&&n<Bi[a].priority;a++);Bi.splice(a,0,t),a===0&&ib(t)}};var ob=e.version;if(ob!=="19.2.1")throw Error(r(527,ob,"19.2.1"));re.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var fT={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{Bn=Vu.inject(fT),Ut=Vu}catch{}}return No.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=p0,f=g0,v=y0;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=Xy(t,1,!1,null,null,a,l,null,h,f,v,lb),t[cs]=n.current,Nf(t),new Ff(n)},No.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",f=p0,v=g0,w=y0,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(j=a.formState)),n=Xy(t,1,!0,n,a??null,l,h,j,f,v,w,lb),n.context=Zy(null),a=n.current,l=wn(),l=yr(l),h=Si(l),h.callback=null,Ai(a,h,l),a=l,n.current.lanes=a,pr(n,a),Ns(n),t[cs]=n.current,Nf(t),new Ou(n)},No.version="19.2.1",No}var bb;function ET(){if(bb)return Yf.exports;bb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Yf.exports=TT(),Yf.exports}var NT=ET();const ST=ix(NT),AT=()=>{};var vb={};const rx=function(i){const e=[];let s=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[s++]=o:o<2048?(e[s++]=o>>6|192,e[s++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[s++]=o>>18|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128,e[s++]=o&63|128):(e[s++]=o>>12|224,e[s++]=o>>6&63|128,e[s++]=o&63|128)}return e},kT=function(i){const e=[];let s=0,r=0;for(;s<i.length;){const o=i[s++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[s++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[s++],m=i[s++],b=i[s++],g=((o&7)<<18|(u&63)<<12|(m&63)<<6|b&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=i[s++],m=i[s++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|m&63)}}return e.join("")},ax={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],m=o+1<i.length,b=m?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,_=u>>2,N=(u&3)<<4|b>>4;let k=(b&15)<<2|y>>6,L=y&63;g||(L=64,m||(k=64)),r.push(s[_],s[N],s[k],s[L])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(rx(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):kT(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=s[i.charAt(o++)],b=o<i.length?s[i.charAt(o)]:0;++o;const y=o<i.length?s[i.charAt(o)]:64;++o;const N=o<i.length?s[i.charAt(o)]:64;if(++o,u==null||b==null||y==null||N==null)throw new CT;const k=u<<2|b>>4;if(r.push(k),y!==64){const L=b<<4&240|y>>2;if(r.push(L),N!==64){const Z=y<<6&192|N;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class CT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jT=function(i){const e=rx(i);return ax.encodeByteArray(e,!0)},ed=function(i){return jT(i).replace(/\./g,"")},lx=function(i){try{return ax.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function RT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const IT=()=>RT().__FIREBASE_DEFAULTS__,DT=()=>{if(typeof process>"u"||typeof vb>"u")return;const i=vb.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},MT=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&lx(i[1]);return e&&JSON.parse(e)},_d=()=>{try{return AT()||IT()||DT()||MT()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},ox=i=>_d()?.emulatorHosts?.[i],OT=i=>{const e=ox(i);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),r]:[e.substring(0,s),r]},cx=()=>_d()?.config,ux=i=>_d()?.[`_${i}`];class VT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}function hl(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dx(i){return(await fetch(i,{credentials:"include"})).ok}function zT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[ed(JSON.stringify(s)),ed(JSON.stringify(m)),""].join(".")}const jo={};function LT(){const i={prod:[],emulator:[]};for(const e of Object.keys(jo))jo[e]?i.emulator.push(e):i.prod.push(e);return i}function UT(i){let e=document.getElementById(i),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),s=!0),{created:s,element:e}}let xb=!1;function hx(i,e){if(typeof window>"u"||typeof document>"u"||!hl(window.location.host)||jo[i]===e||jo[i]||xb)return;jo[i]=e;function s(k){return`__firebase__banner__${k}`}const r="__firebase__banner",u=LT().prod.length>0;function m(){const k=document.getElementById(r);k&&k.remove()}function b(k){k.style.display="flex",k.style.background="#7faaf0",k.style.position="fixed",k.style.bottom="5px",k.style.left="5px",k.style.padding=".5em",k.style.borderRadius="5px",k.style.alignItems="center"}function g(k,L){k.setAttribute("width","24"),k.setAttribute("id",L),k.setAttribute("height","24"),k.setAttribute("viewBox","0 0 24 24"),k.setAttribute("fill","none"),k.style.marginLeft="-6px"}function y(){const k=document.createElement("span");return k.style.cursor="pointer",k.style.marginLeft="16px",k.style.fontSize="24px",k.innerHTML=" &times;",k.onclick=()=>{xb=!0,m()},k}function _(k,L){k.setAttribute("id",L),k.innerText="Learn more",k.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",k.setAttribute("target","__blank"),k.style.paddingLeft="5px",k.style.textDecoration="underline"}function N(){const k=UT(r),L=s("text"),Z=document.getElementById(L)||document.createElement("span"),G=s("learnmore"),D=document.getElementById(G)||document.createElement("a"),$=s("preprendIcon"),T=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(k.created){const I=k.element;b(I),_(D,G);const se=y();g(T,$),I.append(T,Z,D,se),document.body.appendChild(I)}u?(Z.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function BT(){const i=_d()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HT(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function FT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GT(){const i=Wt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function KT(){return!BT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YT(){try{return typeof indexedDB=="object"}catch{return!1}}function QT(){return new Promise((i,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(s){e(s)}})}const $T="FirebaseError";class ci extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=$T,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ko.prototype.create)}}class Ko{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},o=`${this.service}/${e}`,u=this.errors[e],m=u?XT(u,r):"Error",b=`${this.serviceName}: ${m} (${o}).`;return new ci(o,b,r)}}function XT(i,e){return i.replace(ZT,(s,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const ZT=/\{\$([^}]+)}/g;function JT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Qr(i,e){if(i===e)return!0;const s=Object.keys(i),r=Object.keys(e);for(const o of s){if(!r.includes(o))return!1;const u=i[o],m=e[o];if(_b(u)&&_b(m)){if(!Qr(u,m))return!1}else if(u!==m)return!1}for(const o of r)if(!s.includes(o))return!1;return!0}function _b(i){return i!==null&&typeof i=="object"}function Yo(i){const e=[];for(const[s,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function WT(i,e){const s=new eE(i,e);return s.subscribe.bind(s)}class eE{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,r){let o;if(e===void 0&&s===void 0&&r===void 0)throw new Error("Missing Observer.");tE(e,["next","error","complete"])?o=e:o={next:e,error:s,complete:r},o.next===void 0&&(o.next=Zf),o.error===void 0&&(o.error=Zf),o.complete===void 0&&(o.complete=Zf);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tE(i,e){if(typeof i!="object"||i===null)return!1;for(const s of e)if(s in i&&typeof i[s]=="function")return!0;return!1}function Zf(){}function Yt(i){return i&&i._delegate?i._delegate:i}class $r{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qr="[DEFAULT]";class nE{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new VT;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){const s=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iE(e))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qr){return this.instances.has(e)}getOptions(e=qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[u,m]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(u);r===b&&m.resolve(o)}return o}onInit(e,s){const r=this.normalizeInstanceIdentifier(s),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const o of r)try{o(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sE(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qr){return this.component?this.component.multipleInstances?e:qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sE(i){return i===qr?void 0:i}function iE(i){return i.instantiationMode==="EAGER"}class rE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new nE(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Oe||(Oe={}));const aE={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},lE=Oe.INFO,oE={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},cE=(i,e,...s)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=oE[e];if(o)console[o](`[${r}]  ${i.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hm{constructor(e){this.name=e,this._logLevel=lE,this._logHandler=cE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const uE=(i,e)=>e.some(s=>i instanceof s);let wb,Tb;function dE(){return wb||(wb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hE(){return Tb||(Tb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fx=new WeakMap,cm=new WeakMap,mx=new WeakMap,Jf=new WeakMap,Fm=new WeakMap;function fE(i){const e=new Promise((s,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",m)},u=()=>{s(Zi(i.result)),o()},m=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",m)});return e.then(s=>{s instanceof IDBCursor&&fx.set(s,i)}).catch(()=>{}),Fm.set(e,i),e}function mE(i){if(cm.has(i))return;const e=new Promise((s,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",m),i.removeEventListener("abort",m)},u=()=>{s(),o()},m=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",m),i.addEventListener("abort",m)});cm.set(i,e)}let um={get(i,e,s){if(i instanceof IDBTransaction){if(e==="done")return cm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||mx.get(i);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Zi(i[e])},set(i,e,s){return i[e]=s,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function pE(i){um=i(um)}function gE(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=i.call(Wf(this),e,...s);return mx.set(r,e.sort?e.sort():[e]),Zi(r)}:hE().includes(i)?function(...e){return i.apply(Wf(this),e),Zi(fx.get(this))}:function(...e){return Zi(i.apply(Wf(this),e))}}function yE(i){return typeof i=="function"?gE(i):(i instanceof IDBTransaction&&mE(i),uE(i,dE())?new Proxy(i,um):i)}function Zi(i){if(i instanceof IDBRequest)return fE(i);if(Jf.has(i))return Jf.get(i);const e=yE(i);return e!==i&&(Jf.set(i,e),Fm.set(e,i)),e}const Wf=i=>Fm.get(i);function bE(i,e,{blocked:s,upgrade:r,blocking:o,terminated:u}={}){const m=indexedDB.open(i,e),b=Zi(m);return r&&m.addEventListener("upgradeneeded",g=>{r(Zi(m.result),g.oldVersion,g.newVersion,Zi(m.transaction),g)}),s&&m.addEventListener("blocked",g=>s(g.oldVersion,g.newVersion,g)),b.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),b}const vE=["get","getKey","getAll","getAllKeys","count"],xE=["put","add","delete","clear"],em=new Map;function Eb(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(em.get(e))return em.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,o=xE.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(o||vE.includes(s)))return;const u=async function(m,...b){const g=this.transaction(m,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(b.shift())),(await Promise.all([y[s](...b),o&&g.done]))[0]};return em.set(e,u),u}pE(i=>({...i,get:(e,s,r)=>Eb(e,s)||i.get(e,s,r),has:(e,s)=>!!Eb(e,s)||i.has(e,s)}));class _E{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(wE(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function wE(i){return i.getComponent()?.type==="VERSION"}const dm="@firebase/app",Nb="0.14.6";const si=new Hm("@firebase/app"),TE="@firebase/app-compat",EE="@firebase/analytics-compat",NE="@firebase/analytics",SE="@firebase/app-check-compat",AE="@firebase/app-check",kE="@firebase/auth",CE="@firebase/auth-compat",jE="@firebase/database",RE="@firebase/data-connect",IE="@firebase/database-compat",DE="@firebase/functions",ME="@firebase/functions-compat",OE="@firebase/installations",VE="@firebase/installations-compat",zE="@firebase/messaging",LE="@firebase/messaging-compat",UE="@firebase/performance",PE="@firebase/performance-compat",BE="@firebase/remote-config",qE="@firebase/remote-config-compat",HE="@firebase/storage",FE="@firebase/storage-compat",GE="@firebase/firestore",KE="@firebase/ai",YE="@firebase/firestore-compat",QE="firebase",$E="12.6.0";const hm="[DEFAULT]",XE={[dm]:"fire-core",[TE]:"fire-core-compat",[NE]:"fire-analytics",[EE]:"fire-analytics-compat",[AE]:"fire-app-check",[SE]:"fire-app-check-compat",[kE]:"fire-auth",[CE]:"fire-auth-compat",[jE]:"fire-rtdb",[RE]:"fire-data-connect",[IE]:"fire-rtdb-compat",[DE]:"fire-fn",[ME]:"fire-fn-compat",[OE]:"fire-iid",[VE]:"fire-iid-compat",[zE]:"fire-fcm",[LE]:"fire-fcm-compat",[UE]:"fire-perf",[PE]:"fire-perf-compat",[BE]:"fire-rc",[qE]:"fire-rc-compat",[HE]:"fire-gcs",[FE]:"fire-gcs-compat",[GE]:"fire-fst",[YE]:"fire-fst-compat",[KE]:"fire-vertex","fire-js":"fire-js",[QE]:"fire-js-all"};const td=new Map,ZE=new Map,fm=new Map;function Sb(i,e){try{i.container.addComponent(e)}catch(s){si.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,s)}}function rl(i){const e=i.name;if(fm.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;fm.set(e,i);for(const s of td.values())Sb(s,i);for(const s of ZE.values())Sb(s,i);return!0}function Gm(i,e){const s=i.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),i.container.getProvider(e)}function Un(i){return i==null?!1:i.settings!==void 0}const JE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ji=new Ko("app","Firebase",JE);class WE{constructor(e,s,r){this._isDeleted=!1,this._options={...e},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}}const fl=$E;function mm(i,e={}){let s=i;typeof e!="object"&&(e={name:e});const r={name:hm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ji.create("bad-app-name",{appName:String(o)});if(s||(s=cx()),!s)throw Ji.create("no-options");const u=td.get(o);if(u){if(Qr(s,u.options)&&Qr(r,u.config))return u;throw Ji.create("duplicate-app",{appName:o})}const m=new rE(o);for(const g of fm.values())m.addComponent(g);const b=new WE(s,r,m);return td.set(o,b),b}function px(i=hm){const e=td.get(i);if(!e&&i===hm&&cx())return mm();if(!e)throw Ji.create("no-app",{appName:i});return e}function Wi(i,e,s){let r=XE[i]??i;s&&(r+=`-${s}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const m=[`Unable to register library "${r}" with version "${e}":`];o&&m.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&m.push("and"),u&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(m.join(" "));return}rl(new $r(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const e2="firebase-heartbeat-database",t2=1,zo="firebase-heartbeat-store";let tm=null;function gx(){return tm||(tm=bE(e2,t2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(zo)}catch(s){console.warn(s)}}}}).catch(i=>{throw Ji.create("idb-open",{originalErrorMessage:i.message})})),tm}async function n2(i){try{const s=(await gx()).transaction(zo),r=await s.objectStore(zo).get(yx(i));return await s.done,r}catch(e){if(e instanceof ci)si.warn(e.message);else{const s=Ji.create("idb-get",{originalErrorMessage:e?.message});si.warn(s.message)}}}async function Ab(i,e){try{const r=(await gx()).transaction(zo,"readwrite");await r.objectStore(zo).put(e,yx(i)),await r.done}catch(s){if(s instanceof ci)si.warn(s.message);else{const r=Ji.create("idb-set",{originalErrorMessage:s?.message});si.warn(r.message)}}}function yx(i){return`${i.name}!${i.options.appId}`}const s2=1024,i2=30;class r2{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new l2(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=kb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>i2){const o=o2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){si.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=kb(),{heartbeatsToSend:s,unsentEntries:r}=a2(this._heartbeatsCache.heartbeats),o=ed(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return si.warn(e),""}}}function kb(){return new Date().toISOString().substring(0,10)}function a2(i,e=s2){const s=[];let r=i.slice();for(const o of i){const u=s.find(m=>m.agent===o.agent);if(u){if(u.dates.push(o.date),Cb(s)>e){u.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),Cb(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class l2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YT()?QT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await n2(this.app);return s?.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ab(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ab(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Cb(i){return ed(JSON.stringify({version:2,heartbeats:i})).length}function o2(i){if(i.length===0)return-1;let e=0,s=i[0].date;for(let r=1;r<i.length;r++)i[r].date<s&&(s=i[r].date,e=r);return e}function c2(i){rl(new $r("platform-logger",e=>new _E(e),"PRIVATE")),rl(new $r("heartbeat",e=>new r2(e),"PRIVATE")),Wi(dm,Nb,i),Wi(dm,Nb,"esm2020"),Wi("fire-js","")}c2("");var u2="firebase",d2="12.6.0";Wi(u2,d2,"app");function bx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h2=bx,vx=new Ko("auth","Firebase",bx());const nd=new Hm("@firebase/auth");function f2(i,...e){nd.logLevel<=Oe.WARN&&nd.warn(`Auth (${fl}): ${i}`,...e)}function Fu(i,...e){nd.logLevel<=Oe.ERROR&&nd.error(`Auth (${fl}): ${i}`,...e)}function ii(i,...e){throw Km(i,...e)}function As(i,...e){return Km(i,...e)}function xx(i,e,s){const r={...h2(),[e]:s};return new Ko("auth","Firebase",r).create(e,{appName:i.name})}function ni(i){return xx(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Km(i,...e){if(typeof i!="string"){const s=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(s,...r)}return vx.create(i,...e)}function we(i,e,...s){if(!i)throw Km(e,...s)}function ei(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Fu(e),new Error(e)}function ri(i,e){i||ei(e)}function pm(){return typeof self<"u"&&self.location?.href||""}function m2(){return jb()==="http:"||jb()==="https:"}function jb(){return typeof self<"u"&&self.location?.protocol||null}function p2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(m2()||HT()||"connection"in navigator)?navigator.onLine:!0}function g2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Qo{constructor(e,s){this.shortDelay=e,this.longDelay=s,ri(s>e,"Short delay should be less than long delay!"),this.isMobile=PT()||FT()}get(){return p2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ym(i,e){ri(i.emulator,"Emulator should always be set here");const{url:s}=i.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}class _x{static initialize(e,s,r){this.fetchImpl=e,s&&(this.headersImpl=s),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const y2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const b2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],v2=new Qo(3e4,6e4);function $o(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ml(i,e,s,r,o={}){return wx(i,o,async()=>{let u={},m={};r&&(e==="GET"?m=r:u={body:JSON.stringify(r)});const b=Yo({key:i.config.apiKey,...m}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:g,...u};return qT()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&hl(i.emulatorConfig.host)&&(y.credentials="include"),_x.fetch()(await Tx(i,i.config.apiHost,s,b),y)})}async function wx(i,e,s){i._canInitEmulator=!1;const r={...y2,...e};try{const o=new x2(i),u=await Promise.race([s(),o.promise]);o.clearNetworkTimeout();const m=await u.json();if("needConfirmation"in m)throw zu(i,"account-exists-with-different-credential",m);if(u.ok&&!("errorMessage"in m))return m;{const b=u.ok?m.errorMessage:m.error.message,[g,y]=b.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw zu(i,"credential-already-in-use",m);if(g==="EMAIL_EXISTS")throw zu(i,"email-already-in-use",m);if(g==="USER_DISABLED")throw zu(i,"user-disabled",m);const _=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw xx(i,_,y);ii(i,_)}}catch(o){if(o instanceof ci)throw o;ii(i,"network-request-failed",{message:String(o)})}}async function Qm(i,e,s,r,o={}){const u=await ml(i,e,s,r,o);return"mfaPendingCredential"in u&&ii(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Tx(i,e,s,r){const o=`${e}${s}?${r}`,u=i,m=u.config.emulator?Ym(i.config,o):`${i.config.apiScheme}://${o}`;return b2.includes(s)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(m).toString():m}class x2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,r)=>{this.timer=setTimeout(()=>r(As(this.auth,"network-request-failed")),v2.get())})}}function zu(i,e,s){const r={appName:i.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const o=As(i,e,r);return o.customData._tokenResponse=s,o}async function _2(i,e){return ml(i,"POST","/v1/accounts:delete",e)}async function sd(i,e){return ml(i,"POST","/v1/accounts:lookup",e)}function Ro(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function w2(i,e=!1){const s=Yt(i),r=await s.getIdToken(e),o=$m(r);we(o&&o.exp&&o.auth_time&&o.iat,s.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,m=u?.sign_in_provider;return{claims:o,token:r,authTime:Ro(nm(o.auth_time)),issuedAtTime:Ro(nm(o.iat)),expirationTime:Ro(nm(o.exp)),signInProvider:m||null,signInSecondFactor:u?.sign_in_second_factor||null}}function nm(i){return Number(i)*1e3}function $m(i){const[e,s,r]=i.split(".");if(e===void 0||s===void 0||r===void 0)return Fu("JWT malformed, contained fewer than 3 sections"),null;try{const o=lx(s);return o?JSON.parse(o):(Fu("Failed to decode base64 JWT payload"),null)}catch(o){return Fu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Rb(i){const e=$m(i);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Lo(i,e,s=!1){if(s)return e;try{return await e}catch(r){throw r instanceof ci&&T2(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function T2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class E2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class gm{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ro(this.lastLoginAt),this.creationTime=Ro(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function id(i){const e=i.auth,s=await i.getIdToken(),r=await Lo(i,sd(e,{idToken:s}));we(r?.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?Ex(o.providerUserInfo):[],m=S2(i.providerData,u),b=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!m?.length,y=b?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:m,metadata:new gm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,_)}async function N2(i){const e=Yt(i);await id(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function S2(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Ex(i){return i.map(({providerId:e,...s})=>({providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}))}async function A2(i,e){const s=await wx(i,{},async()=>{const r=Yo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,m=await Tx(i,o,"/v1/token",`key=${u}`),b=await i._getAdditionalHeaders();b["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:b,body:r};return i.emulatorConfig&&hl(i.emulatorConfig.host)&&(g.credentials="include"),_x.fetch()(m,g)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function k2(i,e){return ml(i,"POST","/v2/accounts:revokeToken",$o(i,e))}class tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){we(e.length!==0,"internal-error");const s=Rb(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:r,refreshToken:o,expiresIn:u}=await A2(e,s);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,s,r){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,s){const{refreshToken:r,accessToken:o,expirationTime:u}=s,m=new tl;return r&&(we(typeof r=="string","internal-error",{appName:e}),m.refreshToken=r),o&&(we(typeof o=="string","internal-error",{appName:e}),m.accessToken=o),u&&(we(typeof u=="number","internal-error",{appName:e}),m.expirationTime=u),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tl,this.toJSON())}_performRefresh(){return ei("not implemented")}}function Hi(i,e){we(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:s,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new E2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const s=await Lo(this,this.stsTokenManager.getToken(this.auth,e));return we(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return w2(this,e)}reload(){return N2(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>({...s})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return s.metadata._copy(this.metadata),s}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),s&&await id(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(ni(this.auth));const e=await this.getIdToken();return await Lo(this,_2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){const r=s.displayName??void 0,o=s.email??void 0,u=s.phoneNumber??void 0,m=s.photoURL??void 0,b=s.tenantId??void 0,g=s._redirectEventId??void 0,y=s.createdAt??void 0,_=s.lastLoginAt??void 0,{uid:N,emailVerified:k,isAnonymous:L,providerData:Z,stsTokenManager:G}=s;we(N&&G,e,"internal-error");const D=tl.fromJSON(this.name,G);we(typeof N=="string",e,"internal-error"),Hi(r,e.name),Hi(o,e.name),we(typeof k=="boolean",e,"internal-error"),we(typeof L=="boolean",e,"internal-error"),Hi(u,e.name),Hi(m,e.name),Hi(b,e.name),Hi(g,e.name),Hi(y,e.name),Hi(_,e.name);const $=new Wn({uid:N,auth:e,email:o,emailVerified:k,displayName:r,isAnonymous:L,photoURL:m,phoneNumber:u,tenantId:b,stsTokenManager:D,createdAt:y,lastLoginAt:_});return Z&&Array.isArray(Z)&&($.providerData=Z.map(T=>({...T}))),g&&($._redirectEventId=g),$}static async _fromIdTokenResponse(e,s,r=!1){const o=new tl;o.updateFromServerResponse(s);const u=new Wn({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await id(u),u}static async _fromGetAccountInfoResponse(e,s,r){const o=s.users[0];we(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Ex(o.providerUserInfo):[],m=!(o.email&&o.passwordHash)&&!u?.length,b=new tl;b.updateFromIdToken(r);const g=new Wn({uid:o.localId,auth:e,stsTokenManager:b,isAnonymous:m}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new gm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const Ib=new Map;function ti(i){ri(i instanceof Function,"Expected a class definition");let e=Ib.get(i);return e?(ri(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Ib.set(i,e),e)}class Nx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}Nx.type="NONE";const Db=Nx;function Gu(i,e,s){return`firebase:${i}:${e}:${s}`}class nl{constructor(e,s,r){this.persistence=e,this.auth=s,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Gu(this.userKey,o.apiKey,u),this.fullPersistenceKey=Gu("persistence",o.apiKey,u),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await sd(this.auth,{idToken:e}).catch(()=>{});return s?Wn._fromGetAccountInfoResponse(this.auth,s,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,r="authUser"){if(!s.length)return new nl(ti(Db),e,r);const o=(await Promise.all(s.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ti(Db);const m=Gu(r,e.config.apiKey,e.name);let b=null;for(const y of s)try{const _=await y._get(m);if(_){let N;if(typeof _=="string"){const k=await sd(e,{idToken:_}).catch(()=>{});if(!k)break;N=await Wn._fromGetAccountInfoResponse(e,k,_)}else N=Wn._fromJSON(e,_);y!==u&&(b=N),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new nl(u,e,r):(u=g[0],b&&await u._set(m,b.toJSON()),await Promise.all(s.map(async y=>{if(y!==u)try{await y._remove(m)}catch{}})),new nl(u,e,r))}}function Mb(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Cx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Sx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rx(e))return"Blackberry";if(Ix(e))return"Webos";if(Ax(e))return"Safari";if((e.includes("chrome/")||kx(e))&&!e.includes("edge/"))return"Chrome";if(jx(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(s);if(r?.length===2)return r[1]}return"Other"}function Sx(i=Wt()){return/firefox\//i.test(i)}function Ax(i=Wt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kx(i=Wt()){return/crios\//i.test(i)}function Cx(i=Wt()){return/iemobile/i.test(i)}function jx(i=Wt()){return/android/i.test(i)}function Rx(i=Wt()){return/blackberry/i.test(i)}function Ix(i=Wt()){return/webos/i.test(i)}function Xm(i=Wt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function C2(i=Wt()){return Xm(i)&&!!window.navigator?.standalone}function j2(){return GT()&&document.documentMode===10}function Dx(i=Wt()){return Xm(i)||jx(i)||Ix(i)||Rx(i)||/windows phone/i.test(i)||Cx(i)}function Mx(i,e=[]){let s;switch(i){case"Browser":s=Mb(Wt());break;case"Worker":s=`${Mb(Wt())}-${i}`;break;default:s=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${fl}/${r}`}class R2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const r=u=>new Promise((m,b)=>{try{const g=e(u);m(g)}catch(g){b(g)}});r.onAbort=s,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const r of this.queue)await r(e),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const o of s)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function I2(i,e={}){return ml(i,"GET","/v2/passwordPolicy",$o(i,e))}const D2=6;class M2{constructor(e){const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=s.minPasswordLength??D2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=s.meetsMinPasswordLength??!0),s.isValid&&(s.isValid=s.meetsMaxPasswordLength??!0),s.isValid&&(s.isValid=s.containsLowercaseLetter??!0),s.isValid&&(s.isValid=s.containsUppercaseLetter??!0),s.isValid&&(s.isValid=s.containsNumericCharacter??!0),s.isValid&&(s.isValid=s.containsNonAlphanumericCharacter??!0),s}validatePasswordLengthOptions(e,s){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(s.meetsMinPasswordLength=e.length>=r),o&&(s.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(s,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,s,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class O2{constructor(e,s,r,o){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ob(this),this.idTokenSubscription=new Ob(this),this.beforeStateQueue=new R2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=ti(s)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await nl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await sd(this,{idToken:e}),r=await Wn._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(r)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Un(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,m=r?._redirectEventId,b=await this.tryRedirectSignIn(e);(!u||u===m)&&b?.user&&(r=b.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await id(e)}catch(s){if(s?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=g2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(ni(this));const s=e?Yt(e):null;return s&&we(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await I2(this),s=new M2(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ko("auth","Firebase",e())}onAuthStateChanged(e,s,r){return this.registerStateListener(this.authStateSubscription,e,s,r)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,r){return this.registerStateListener(this.idTokenSubscription,e,s,r)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(r.tenantId=this.tenantId),await k2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,s){const r=await this.getOrInitRedirectPersistenceManager(s);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&ti(e)||this._popupRedirectResolver;we(s,this,"argument-error"),this.redirectPersistenceManager=await nl.create(this,[ti(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,r,o){if(this._deleted)return()=>{};const u=typeof s=="function"?s:s.next.bind(s);let m=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(b,this,"internal-error"),b.then(()=>{m||u(this.currentUser)}),typeof s=="function"){const g=e.addObserver(s,r,o);return()=>{m=!0,g()}}else{const g=e.addObserver(s);return()=>{m=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();s&&(e["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&f2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Xo(i){return Yt(i)}class Ob{constructor(e){this.auth=e,this.observer=null,this.addObserver=WT(s=>this.observer=s)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V2(i){Zm=i}function z2(i){return Zm.loadJS(i)}function L2(){return Zm.gapiScript}function U2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function P2(i,e){const s=Gm(i,"auth");if(s.isInitialized()){const o=s.getImmediate(),u=s.getOptions();if(Qr(u,e??{}))return o;ii(o,"already-initialized")}return s.initialize({options:e})}function B2(i,e){const s=e?.persistence||[],r=(Array.isArray(s)?s:[s]).map(ti);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function q2(i,e,s){const r=Xo(i);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=Ox(e),{host:m,port:b}=H2(e),g=b===null?"":`:${b}`,y={url:`${u}//${m}${g}/`},_=Object.freeze({host:m,port:b,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(Qr(y,r.config.emulator)&&Qr(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,hl(m)?(dx(`${u}//${m}${g}`),hx("Auth",!0)):F2()}function Ox(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function H2(i){const e=Ox(i),s=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:Vb(r.substr(u.length+1))}}else{const[u,m]=r.split(":");return{host:u,port:Vb(m)}}}function Vb(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function F2(){function i(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Vx{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return ei("not implemented")}_getIdTokenResponse(e){return ei("not implemented")}_linkToIdToken(e,s){return ei("not implemented")}_getReauthenticationResolver(e){return ei("not implemented")}}async function sl(i,e){return Qm(i,"POST","/v1/accounts:signInWithIdp",$o(i,e))}const G2="http://localhost";class Xr extends Vx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new Xr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):ii("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=s;if(!r||!o)return null;const m=new Xr(r,o);return m.idToken=u.idToken||void 0,m.accessToken=u.accessToken||void 0,m.secret=u.secret,m.nonce=u.nonce,m.pendingToken=u.pendingToken||null,m}_getIdTokenResponse(e){const s=this.buildRequest();return sl(e,s)}_linkToIdToken(e,s){const r=this.buildRequest();return r.idToken=s,sl(e,r)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,sl(e,s)}buildRequest(){const e={requestUri:G2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=Yo(s)}return e}}class zx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Zo extends zx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ki extends Zo{constructor(){super("facebook.com")}static credential(e){return Xr._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";class Yi extends Zo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return Xr._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:r}=e;if(!s&&!r)return null;try{return Yi.credential(s,r)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";class Qi extends Zo{constructor(){super("github.com")}static credential(e){return Xr._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";class $i extends Zo{constructor(){super("twitter.com")}static credential(e,s){return Xr._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=e;if(!s||!r)return null;try{return $i.credential(s,r)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";async function K2(i,e){return Qm(i,"POST","/v1/accounts:signUp",$o(i,e))}class ai{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,r,o=!1){const u=await Wn._fromIdTokenResponse(e,r,o),m=zb(r);return new ai({user:u,providerId:m,_tokenResponse:r,operationType:s})}static async _forOperation(e,s,r){await e._updateTokensIfNecessary(r,!0);const o=zb(r);return new ai({user:e,providerId:o,_tokenResponse:r,operationType:s})}}function zb(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}async function Y2(i){if(Un(i.app))return Promise.reject(ni(i));const e=Xo(i);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ai({user:e.currentUser,providerId:null,operationType:"signIn"});const s=await K2(e,{returnSecureToken:!0}),r=await ai._fromIdTokenResponse(e,"signIn",s,!0);return await e._updateCurrentUser(r.user),r}class rd extends ci{constructor(e,s,r,o){super(s.code,s.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,rd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:s.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,s,r,o){return new rd(e,s,r,o)}}function Lx(i,e,s,r){return(e==="reauthenticate"?s._getReauthenticationResolver(i):s._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?rd._fromErrorAndOperation(i,u,e,r):u})}async function Q2(i,e,s=!1){const r=await Lo(i,e._linkToIdToken(i.auth,await i.getIdToken()),s);return ai._forOperation(i,"link",r)}async function $2(i,e,s=!1){const{auth:r}=i;if(Un(r.app))return Promise.reject(ni(r));const o="reauthenticate";try{const u=await Lo(i,Lx(r,o,e,i),s);we(u.idToken,r,"internal-error");const m=$m(u.idToken);we(m,r,"internal-error");const{sub:b}=m;return we(i.uid===b,r,"user-mismatch"),ai._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ii(r,"user-mismatch"),u}}async function X2(i,e,s=!1){if(Un(i.app))return Promise.reject(ni(i));const r="signIn",o=await Lx(i,r,e),u=await ai._fromIdTokenResponse(i,r,o);return s||await i._updateCurrentUser(u.user),u}async function Z2(i,e){return Qm(i,"POST","/v1/accounts:signInWithCustomToken",$o(i,e))}async function J2(i,e){if(Un(i.app))return Promise.reject(ni(i));const s=Xo(i),r=await Z2(s,{token:e,returnSecureToken:!0}),o=await ai._fromIdTokenResponse(s,"signIn",r);return await s._updateCurrentUser(o.user),o}function W2(i,e,s,r){return Yt(i).onIdTokenChanged(e,s,r)}function eN(i,e,s){return Yt(i).beforeAuthStateChanged(e,s)}function tN(i,e,s,r){return Yt(i).onAuthStateChanged(e,s,r)}const ad="__sak";class Ux{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(ad,"1"),this.storage.removeItem(ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const nN=1e3,sN=10;class Px extends Ux{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Dx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const r=this.storage.getItem(s),o=this.localCache[s];r!==o&&e(s,o,r)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((m,b,g)=>{this.notifyListeners(m,g)});return}const r=e.key;s?this.detachListener():this.stopPolling();const o=()=>{const m=this.storage.getItem(r);!s&&this.localCache[r]===m||this.notifyListeners(r,m)},u=this.storage.getItem(r);j2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,sN):o()}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:r}),!0)})},nN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}Px.type="LOCAL";const iN=Px;class Bx extends Ux{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}Bx.type="SESSION";const qx=Bx;function rN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}class wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(o=>o.isListeningto(e));if(s)return s;const r=new wd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:r,eventType:o,data:u}=s.data,m=this.handlersMap[o];if(!m?.size)return;s.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const b=Array.from(m).map(async y=>y(s.origin,u)),g=await rN(b);s.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wd.receivers=[];function Jm(i="",e=10){let s="";for(let r=0;r<e;r++)s+=Math.floor(Math.random()*10);return i+s}class aN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,m;return new Promise((b,g)=>{const y=Jm("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},r);m={messageChannel:o,onMessage(N){const k=N;if(k.data.eventId===y)switch(k.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),b(k.data.response);break;default:clearTimeout(_),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(m),o.port1.addEventListener("message",m.onMessage),this.target.postMessage({eventType:e,eventId:y,data:s},[o.port2])}).finally(()=>{m&&this.removeMessageHandler(m)})}}function ks(){return window}function lN(i){ks().location.href=i}function Hx(){return typeof ks().WorkerGlobalScope<"u"&&typeof ks().importScripts=="function"}async function oN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cN(){return navigator?.serviceWorker?.controller||null}function uN(){return Hx()?self:null}const Fx="firebaseLocalStorageDb",dN=1,ld="firebaseLocalStorage",Gx="fbase_key";class Jo{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function Td(i,e){return i.transaction([ld],e?"readwrite":"readonly").objectStore(ld)}function hN(){const i=indexedDB.deleteDatabase(Fx);return new Jo(i).toPromise()}function ym(){const i=indexedDB.open(Fx,dN);return new Promise((e,s)=>{i.addEventListener("error",()=>{s(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(ld,{keyPath:Gx})}catch(o){s(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(ld)?e(r):(r.close(),await hN(),e(await ym()))})})}async function Lb(i,e,s){const r=Td(i,!0).put({[Gx]:e,value:s});return new Jo(r).toPromise()}async function fN(i,e){const s=Td(i,!1).get(e),r=await new Jo(s).toPromise();return r===void 0?null:r.value}function Ub(i,e){const s=Td(i,!0).delete(e);return new Jo(s).toPromise()}const mN=800,pN=3;class Kx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ym(),this.db)}async _withRetries(e){let s=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(s++>pN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wd._getInstance(uN()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await oN(),!this.activeServiceWorker)return;this.sender=new aN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ym();return await Lb(e,ad,"1"),await Ub(e,ad),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(r=>Lb(r,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(r=>fN(r,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>Ub(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Td(o,!1).getAll();return new Jo(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),s.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),s.push(o));return s}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Kx.type="LOCAL";const gN=Kx;new Qo(3e4,6e4);function yN(i,e){return e?ti(e):(we(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Wm extends Vx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sl(e,this._buildIdpRequest())}_linkToIdToken(e,s){return sl(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function bN(i){return X2(i.auth,new Wm(i),i.bypassAuthState)}function vN(i){const{auth:e,user:s}=i;return we(s,e,"internal-error"),$2(s,new Wm(i),i.bypassAuthState)}async function xN(i){const{auth:e,user:s}=i;return we(s,e,"internal-error"),Q2(s,new Wm(i),i.bypassAuthState)}class Yx{constructor(e,s,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:r,postBody:o,tenantId:u,error:m,type:b}=e;if(m){this.reject(m);return}const g={auth:this.auth,requestUri:s,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bN;case"linkViaPopup":case"linkViaRedirect":return xN;case"reauthViaPopup":case"reauthViaRedirect":return vN;default:ii(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _N=new Qo(2e3,1e4);class Wa extends Yx{constructor(e,s,r,o,u){super(e,s,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=Jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(As(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(As(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(As(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_N.get())};e()}}Wa.currentPopupAction=null;const wN="pendingRedirect",Ku=new Map;class TN extends Yx{constructor(e,s,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,r),this.eventId=null}async execute(){let e=Ku.get(this.auth._key());if(!e){try{const r=await EN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(s){e=()=>Promise.reject(s)}Ku.set(this.auth._key(),e)}return this.bypassAuthState||Ku.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EN(i,e){const s=AN(e),r=SN(i);if(!await r._isAvailable())return!1;const o=await r._get(s)==="true";return await r._remove(s),o}function NN(i,e){Ku.set(i._key(),e)}function SN(i){return ti(i._redirectPersistence)}function AN(i){return Gu(wN,i.config.apiKey,i.name)}async function kN(i,e,s=!1){if(Un(i.app))return Promise.reject(ni(i));const r=Xo(i),o=yN(r,e),m=await new TN(r,o,s).execute();return m&&!s&&(delete m.user._redirectEventId,await r._persistUserIfCurrent(m.user),await r._setRedirectUser(null,e)),m}const CN=600*1e3;class jN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(s=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RN(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){if(e.error&&!Qx(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";s.onError(As(this.auth,r))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const r=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pb(e))}saveEventToCache(e){this.cachedEventUids.add(Pb(e)),this.lastProcessedEventTime=Date.now()}}function Pb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Qx({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function RN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qx(i);default:return!1}}async function IN(i,e={}){return ml(i,"GET","/v1/projects",e)}const DN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MN=/^https?/;async function ON(i){if(i.config.emulator)return;const{authorizedDomains:e}=await IN(i);for(const s of e)try{if(VN(s))return}catch{}ii(i,"unauthorized-domain")}function VN(i){const e=pm(),{protocol:s,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const m=new URL(i);return m.hostname===""&&r===""?s==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&m.hostname===r}if(!MN.test(s))return!1;if(DN.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const zN=new Qo(3e4,6e4);function Bb(){const i=ks().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let s=0;s<i.CP.length;s++)i.CP[s]=null}}function LN(i){return new Promise((e,s)=>{function r(){Bb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bb(),s(As(i,"network-request-failed"))},timeout:zN.get()})}if(ks().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ks().gapi?.load)r();else{const o=U2("iframefcb");return ks()[o]=()=>{gapi.load?r():s(As(i,"network-request-failed"))},z2(`${L2()}?onload=${o}`).catch(u=>s(u))}}).catch(e=>{throw Yu=null,e})}let Yu=null;function UN(i){return Yu=Yu||LN(i),Yu}const PN=new Qo(5e3,15e3),BN="__/auth/iframe",qN="emulator/auth/iframe",HN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GN(i){const e=i.config;we(e.authDomain,i,"auth-domain-config-required");const s=e.emulator?Ym(e,qN):`https://${i.config.authDomain}/${BN}`,r={apiKey:e.apiKey,appName:i.name,v:fl},o=FN.get(i.config.apiHost);o&&(r.eid=o);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${s}?${Yo(r).slice(1)}`}async function KN(i){const e=await UN(i),s=ks().gapi;return we(s,i,"internal-error"),e.open({where:document.body,url:GN(i),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HN,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const m=As(i,"network-request-failed"),b=ks().setTimeout(()=>{u(m)},PN.get());function g(){ks().clearTimeout(b),o(r)}r.ping(g).then(g,()=>{u(m)})}))}const YN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QN=500,$N=600,XN="_blank",ZN="http://localhost";class qb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JN(i,e,s,r=QN,o=$N){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),m=Math.max((window.screen.availWidth-r)/2,0).toString();let b="";const g={...YN,width:r.toString(),height:o.toString(),top:u,left:m},y=Wt().toLowerCase();s&&(b=kx(y)?XN:s),Sx(y)&&(e=e||ZN,g.scrollbars="yes");const _=Object.entries(g).reduce((k,[L,Z])=>`${k}${L}=${Z},`,"");if(C2(y)&&b!=="_self")return WN(e||"",b),new qb(null);const N=window.open(e||"",b,_);we(N,i,"popup-blocked");try{N.focus()}catch{}return new qb(N)}function WN(i,e){const s=document.createElement("a");s.href=i,s.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}const eS="__/auth/handler",tS="emulator/auth/handler",nS=encodeURIComponent("fac");async function Hb(i,e,s,r,o,u){we(i.config.authDomain,i,"auth-domain-config-required"),we(i.config.apiKey,i,"invalid-api-key");const m={apiKey:i.config.apiKey,appName:i.name,authType:s,redirectUrl:r,v:fl,eventId:o};if(e instanceof zx){e.setDefaultLanguage(i.languageCode),m.providerId=e.providerId||"",JT(e.getCustomParameters())||(m.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,N]of Object.entries({}))m[_]=N}if(e instanceof Zo){const _=e.getScopes().filter(N=>N!=="");_.length>0&&(m.scopes=_.join(","))}i.tenantId&&(m.tid=i.tenantId);const b=m;for(const _ of Object.keys(b))b[_]===void 0&&delete b[_];const g=await i._getAppCheckToken(),y=g?`#${nS}=${encodeURIComponent(g)}`:"";return`${sS(i)}?${Yo(b).slice(1)}${y}`}function sS({config:i}){return i.emulator?Ym(i,tS):`https://${i.authDomain}/${eS}`}const sm="webStorageSupport";class iS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qx,this._completeRedirectFn=kN,this._overrideRedirectResult=NN}async _openPopup(e,s,r,o){ri(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Hb(e,s,r,pm(),o);return JN(e,u,Jm())}async _openRedirect(e,s,r,o){await this._originValidation(e);const u=await Hb(e,s,r,pm(),o);return lN(u),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:o,promise:u}=this.eventManagers[s];return o?Promise.resolve(o):(ri(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[s]={promise:r},r.catch(()=>{delete this.eventManagers[s]}),r}async initAndGetManager(e){const s=await KN(e),r=new jN(e);return s.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=s,r}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(sm,{type:sm},o=>{const u=o?.[0]?.[sm];u!==void 0&&s(!!u),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=ON(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return Dx()||Ax()||Xm()}}const rS=iS;var Fb="@firebase/auth",Gb="1.11.1";class aS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function lS(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oS(i){rl(new $r("auth",(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:m,authDomain:b}=r.options;we(m&&!m.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:m,authDomain:b,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mx(i)},y=new O2(r,o,u,g);return B2(y,s),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,r)=>{e.getProvider("auth-internal").initialize()})),rl(new $r("auth-internal",e=>{const s=Xo(e.getProvider("auth").getImmediate());return(r=>new aS(r))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(Fb,Gb,lS(i)),Wi(Fb,Gb,"esm2020")}const cS=300,uS=ux("authIdTokenMaxAge")||cS;let Kb=null;const dS=i=>async e=>{const s=e&&await e.getIdTokenResult(),r=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(r&&r>uS)return;const o=s?.token;Kb!==o&&(Kb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Yb(i=px()){const e=Gm(i,"auth");if(e.isInitialized())return e.getImmediate();const s=P2(i,{popupRedirectResolver:rS,persistence:[gN,iN,qx]}),r=ux("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const m=dS(u.toString());eN(s,m,()=>m(s.currentUser)),W2(s,b=>m(b))}}const o=ox("auth");return o&&q2(s,`http://${o}`),s}function hS(){return document.getElementsByTagName("head")?.[0]??document}V2({loadJS(i){return new Promise((e,s)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const u=As("internal-error");u.customData=o,s(u)},r.type="text/javascript",r.charset="UTF-8",hS().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oS("Browser");var Qb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var er,$x;(function(){var i;function e(C,A){function R(){}R.prototype=A.prototype,C.F=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(z,O,P){for(var S=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)S[xe-2]=arguments[xe];return A.prototype[O].apply(z,S)}}function s(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,s),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,R){R||(R=0);const z=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)z[O]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(O=0;O<16;++O)z[O]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],O=C.g[2];let P=C.g[3],S;S=A+(P^R&(O^P))+z[0]+3614090360&4294967295,A=R+(S<<7&4294967295|S>>>25),S=P+(O^A&(R^O))+z[1]+3905402710&4294967295,P=A+(S<<12&4294967295|S>>>20),S=O+(R^P&(A^R))+z[2]+606105819&4294967295,O=P+(S<<17&4294967295|S>>>15),S=R+(A^O&(P^A))+z[3]+3250441966&4294967295,R=O+(S<<22&4294967295|S>>>10),S=A+(P^R&(O^P))+z[4]+4118548399&4294967295,A=R+(S<<7&4294967295|S>>>25),S=P+(O^A&(R^O))+z[5]+1200080426&4294967295,P=A+(S<<12&4294967295|S>>>20),S=O+(R^P&(A^R))+z[6]+2821735955&4294967295,O=P+(S<<17&4294967295|S>>>15),S=R+(A^O&(P^A))+z[7]+4249261313&4294967295,R=O+(S<<22&4294967295|S>>>10),S=A+(P^R&(O^P))+z[8]+1770035416&4294967295,A=R+(S<<7&4294967295|S>>>25),S=P+(O^A&(R^O))+z[9]+2336552879&4294967295,P=A+(S<<12&4294967295|S>>>20),S=O+(R^P&(A^R))+z[10]+4294925233&4294967295,O=P+(S<<17&4294967295|S>>>15),S=R+(A^O&(P^A))+z[11]+2304563134&4294967295,R=O+(S<<22&4294967295|S>>>10),S=A+(P^R&(O^P))+z[12]+1804603682&4294967295,A=R+(S<<7&4294967295|S>>>25),S=P+(O^A&(R^O))+z[13]+4254626195&4294967295,P=A+(S<<12&4294967295|S>>>20),S=O+(R^P&(A^R))+z[14]+2792965006&4294967295,O=P+(S<<17&4294967295|S>>>15),S=R+(A^O&(P^A))+z[15]+1236535329&4294967295,R=O+(S<<22&4294967295|S>>>10),S=A+(O^P&(R^O))+z[1]+4129170786&4294967295,A=R+(S<<5&4294967295|S>>>27),S=P+(R^O&(A^R))+z[6]+3225465664&4294967295,P=A+(S<<9&4294967295|S>>>23),S=O+(A^R&(P^A))+z[11]+643717713&4294967295,O=P+(S<<14&4294967295|S>>>18),S=R+(P^A&(O^P))+z[0]+3921069994&4294967295,R=O+(S<<20&4294967295|S>>>12),S=A+(O^P&(R^O))+z[5]+3593408605&4294967295,A=R+(S<<5&4294967295|S>>>27),S=P+(R^O&(A^R))+z[10]+38016083&4294967295,P=A+(S<<9&4294967295|S>>>23),S=O+(A^R&(P^A))+z[15]+3634488961&4294967295,O=P+(S<<14&4294967295|S>>>18),S=R+(P^A&(O^P))+z[4]+3889429448&4294967295,R=O+(S<<20&4294967295|S>>>12),S=A+(O^P&(R^O))+z[9]+568446438&4294967295,A=R+(S<<5&4294967295|S>>>27),S=P+(R^O&(A^R))+z[14]+3275163606&4294967295,P=A+(S<<9&4294967295|S>>>23),S=O+(A^R&(P^A))+z[3]+4107603335&4294967295,O=P+(S<<14&4294967295|S>>>18),S=R+(P^A&(O^P))+z[8]+1163531501&4294967295,R=O+(S<<20&4294967295|S>>>12),S=A+(O^P&(R^O))+z[13]+2850285829&4294967295,A=R+(S<<5&4294967295|S>>>27),S=P+(R^O&(A^R))+z[2]+4243563512&4294967295,P=A+(S<<9&4294967295|S>>>23),S=O+(A^R&(P^A))+z[7]+1735328473&4294967295,O=P+(S<<14&4294967295|S>>>18),S=R+(P^A&(O^P))+z[12]+2368359562&4294967295,R=O+(S<<20&4294967295|S>>>12),S=A+(R^O^P)+z[5]+4294588738&4294967295,A=R+(S<<4&4294967295|S>>>28),S=P+(A^R^O)+z[8]+2272392833&4294967295,P=A+(S<<11&4294967295|S>>>21),S=O+(P^A^R)+z[11]+1839030562&4294967295,O=P+(S<<16&4294967295|S>>>16),S=R+(O^P^A)+z[14]+4259657740&4294967295,R=O+(S<<23&4294967295|S>>>9),S=A+(R^O^P)+z[1]+2763975236&4294967295,A=R+(S<<4&4294967295|S>>>28),S=P+(A^R^O)+z[4]+1272893353&4294967295,P=A+(S<<11&4294967295|S>>>21),S=O+(P^A^R)+z[7]+4139469664&4294967295,O=P+(S<<16&4294967295|S>>>16),S=R+(O^P^A)+z[10]+3200236656&4294967295,R=O+(S<<23&4294967295|S>>>9),S=A+(R^O^P)+z[13]+681279174&4294967295,A=R+(S<<4&4294967295|S>>>28),S=P+(A^R^O)+z[0]+3936430074&4294967295,P=A+(S<<11&4294967295|S>>>21),S=O+(P^A^R)+z[3]+3572445317&4294967295,O=P+(S<<16&4294967295|S>>>16),S=R+(O^P^A)+z[6]+76029189&4294967295,R=O+(S<<23&4294967295|S>>>9),S=A+(R^O^P)+z[9]+3654602809&4294967295,A=R+(S<<4&4294967295|S>>>28),S=P+(A^R^O)+z[12]+3873151461&4294967295,P=A+(S<<11&4294967295|S>>>21),S=O+(P^A^R)+z[15]+530742520&4294967295,O=P+(S<<16&4294967295|S>>>16),S=R+(O^P^A)+z[2]+3299628645&4294967295,R=O+(S<<23&4294967295|S>>>9),S=A+(O^(R|~P))+z[0]+4096336452&4294967295,A=R+(S<<6&4294967295|S>>>26),S=P+(R^(A|~O))+z[7]+1126891415&4294967295,P=A+(S<<10&4294967295|S>>>22),S=O+(A^(P|~R))+z[14]+2878612391&4294967295,O=P+(S<<15&4294967295|S>>>17),S=R+(P^(O|~A))+z[5]+4237533241&4294967295,R=O+(S<<21&4294967295|S>>>11),S=A+(O^(R|~P))+z[12]+1700485571&4294967295,A=R+(S<<6&4294967295|S>>>26),S=P+(R^(A|~O))+z[3]+2399980690&4294967295,P=A+(S<<10&4294967295|S>>>22),S=O+(A^(P|~R))+z[10]+4293915773&4294967295,O=P+(S<<15&4294967295|S>>>17),S=R+(P^(O|~A))+z[1]+2240044497&4294967295,R=O+(S<<21&4294967295|S>>>11),S=A+(O^(R|~P))+z[8]+1873313359&4294967295,A=R+(S<<6&4294967295|S>>>26),S=P+(R^(A|~O))+z[15]+4264355552&4294967295,P=A+(S<<10&4294967295|S>>>22),S=O+(A^(P|~R))+z[6]+2734768916&4294967295,O=P+(S<<15&4294967295|S>>>17),S=R+(P^(O|~A))+z[13]+1309151649&4294967295,R=O+(S<<21&4294967295|S>>>11),S=A+(O^(R|~P))+z[4]+4149444226&4294967295,A=R+(S<<6&4294967295|S>>>26),S=P+(R^(A|~O))+z[11]+3174756917&4294967295,P=A+(S<<10&4294967295|S>>>22),S=O+(A^(P|~R))+z[2]+718787259&4294967295,O=P+(S<<15&4294967295|S>>>17),S=R+(P^(O|~A))+z[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(O+(S<<21&4294967295|S>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+P&4294967295}r.prototype.v=function(C,A){A===void 0&&(A=C.length);const R=A-this.blockSize,z=this.C;let O=this.h,P=0;for(;P<A;){if(O==0)for(;P<=R;)o(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<A;)if(z[O++]=C.charCodeAt(P++),O==this.blockSize){o(this,z),O=0;break}}else for(;P<A;)if(z[O++]=C[P++],O==this.blockSize){o(this,z),O=0;break}}this.h=O,this.o+=A},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,R=0;R<4;++R)for(let z=0;z<32;z+=8)C[A++]=this.g[R]>>>z&255;return C};function u(C,A){var R=b;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function m(C,A){this.h=A;const R=[];let z=!0;for(let O=C.length-1;O>=0;O--){const P=C[O]|0;z&&P==A||(R[O]=P,z=!1)}this.g=R}var b={};function g(C){return-128<=C&&C<128?u(C,function(A){return new m([A|0],A<0?-1:0)}):new m([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return N;if(C<0)return D(y(-C));const A=[];let R=1;for(let z=0;C>=R;z++)A[z]=C/R|0,R*=4294967296;return new m(A,0)}function _(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return D(_(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(A,8));let z=N;for(let P=0;P<C.length;P+=8){var O=Math.min(8,C.length-P);const S=parseInt(C.substring(P,P+O),A);O<8?(O=y(Math.pow(A,O)),z=z.j(O).add(y(S))):(z=z.j(R),z=z.add(y(S)))}return z}var N=g(0),k=g(1),L=g(16777216);i=m.prototype,i.m=function(){if(G(this))return-D(this).m();let C=0,A=1;for(let R=0;R<this.g.length;R++){const z=this.i(R);C+=(z>=0?z:4294967296+z)*A,A*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(G(this))return"-"+D(this).toString(C);const A=y(Math.pow(C,6));var R=this;let z="";for(;;){const O=se(R,A).g;R=$(R,O.j(A));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=O,Z(R))return P+z;for(;P.length<6;)P="0"+P;z=P+z}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function G(C){return C.h==-1}i.l=function(C){return C=$(this,C),G(C)?-1:Z(C)?0:1};function D(C){const A=C.g.length,R=[];for(let z=0;z<A;z++)R[z]=~C.g[z];return new m(R,~C.h).add(k)}i.abs=function(){return G(this)?D(this):this},i.add=function(C){const A=Math.max(this.g.length,C.g.length),R=[];let z=0;for(let O=0;O<=A;O++){let P=z+(this.i(O)&65535)+(C.i(O)&65535),S=(P>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);z=S>>>16,P&=65535,S&=65535,R[O]=S<<16|P}return new m(R,R[R.length-1]&-2147483648?-1:0)};function $(C,A){return C.add(D(A))}i.j=function(C){if(Z(this)||Z(C))return N;if(G(this))return G(C)?D(this).j(D(C)):D(D(this).j(C));if(G(C))return D(this.j(D(C)));if(this.l(L)<0&&C.l(L)<0)return y(this.m()*C.m());const A=this.g.length+C.g.length,R=[];for(var z=0;z<2*A;z++)R[z]=0;for(z=0;z<this.g.length;z++)for(let O=0;O<C.g.length;O++){const P=this.i(z)>>>16,S=this.i(z)&65535,xe=C.i(O)>>>16,Fe=C.i(O)&65535;R[2*z+2*O]+=S*Fe,T(R,2*z+2*O),R[2*z+2*O+1]+=P*Fe,T(R,2*z+2*O+1),R[2*z+2*O+1]+=S*xe,T(R,2*z+2*O+1),R[2*z+2*O+2]+=P*xe,T(R,2*z+2*O+2)}for(C=0;C<A;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=A;C<2*A;C++)R[C]=0;return new m(R,0)};function T(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function I(C,A){this.g=C,this.h=A}function se(C,A){if(Z(A))throw Error("division by zero");if(Z(C))return new I(N,N);if(G(C))return A=se(D(C),A),new I(D(A.g),D(A.h));if(G(A))return A=se(C,D(A)),new I(D(A.g),A.h);if(C.g.length>30){if(G(C)||G(A))throw Error("slowDivide_ only works with positive integers.");for(var R=k,z=A;z.l(C)<=0;)R=ie(R),z=ie(z);var O=pe(R,1),P=pe(z,1);for(z=pe(z,2),R=pe(R,2);!Z(z);){var S=P.add(z);S.l(C)<=0&&(O=O.add(R),P=S),z=pe(z,1),R=pe(R,1)}return A=$(C,O.j(A)),new I(O,A)}for(O=N;C.l(A)>=0;){for(R=Math.max(1,Math.floor(C.m()/A.m())),z=Math.ceil(Math.log(R)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),P=y(R),S=P.j(A);G(S)||S.l(C)>0;)R-=z,P=y(R),S=P.j(A);Z(P)&&(P=k),O=O.add(P),C=$(C,S)}return new I(O,C)}i.B=function(C){return se(this,C).h},i.and=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let z=0;z<A;z++)R[z]=this.i(z)&C.i(z);return new m(R,this.h&C.h)},i.or=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let z=0;z<A;z++)R[z]=this.i(z)|C.i(z);return new m(R,this.h|C.h)},i.xor=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let z=0;z<A;z++)R[z]=this.i(z)^C.i(z);return new m(R,this.h^C.h)};function ie(C){const A=C.g.length+1,R=[];for(let z=0;z<A;z++)R[z]=C.i(z)<<1|C.i(z-1)>>>31;return new m(R,C.h)}function pe(C,A){const R=A>>5;A%=32;const z=C.g.length-R,O=[];for(let P=0;P<z;P++)O[P]=A>0?C.i(P+R)>>>A|C.i(P+R+1)<<32-A:C.i(P+R);return new m(O,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,$x=r,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.B,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=y,m.fromString=_,er=m}).apply(typeof Qb<"u"?Qb:typeof self<"u"?self:typeof window<"u"?window:{});var Lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xx,So,Zx,Qu,bm,Jx,Wx,e_;(function(){var i,e=Object.defineProperty;function s(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lu=="object"&&Lu];for(var p=0;p<c.length;++p){var x=c[p];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=s(this);function o(c,p){if(p)e:{var x=r;c=c.split(".");for(var E=0;E<c.length-1;E++){var q=c[E];if(!(q in x))break e;x=x[q]}c=c[c.length-1],E=x[c],p=p(E),p!=E&&p!=null&&e(x,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var x=[],E;for(E in p)Object.prototype.hasOwnProperty.call(p,E)&&x.push([E,p[E]]);return x}});var u=u||{},m=this||self;function b(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,x){return c.call.apply(c.bind,arguments)}function y(c,p,x){return y=g,y.apply(null,arguments)}function _(c,p){var x=Array.prototype.slice.call(arguments,1);return function(){var E=x.slice();return E.push.apply(E,arguments),c.apply(this,E)}}function N(c,p){function x(){}x.prototype=p.prototype,c.Z=p.prototype,c.prototype=new x,c.prototype.constructor=c,c.Ob=function(E,q,Y){for(var ae=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)ae[Ae-2]=arguments[Ae];return p.prototype[q].apply(E,ae)}}var k=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const p=c.length;if(p>0){const x=Array(p);for(let E=0;E<p;E++)x[E]=c[E];return x}return[]}function Z(c,p){for(let E=1;E<arguments.length;E++){const q=arguments[E];var x=typeof q;if(x=x!="object"?x:q?Array.isArray(q)?"array":x:"null",x=="array"||x=="object"&&typeof q.length=="number"){x=c.length||0;const Y=q.length||0;c.length=x+Y;for(let ae=0;ae<Y;ae++)c[x+ae]=q[ae]}else c.push(q)}}class G{constructor(p,x){this.i=p,this.j=x,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function D(c){m.setTimeout(()=>{throw c},0)}function $(){var c=C;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class T{constructor(){this.h=this.g=null}add(p,x){const E=I.get();E.set(p,x),this.h?this.h.next=E:this.g=E,this.h=E}}var I=new G(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(p,x){this.h=p,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,pe=!1,C=new T,A=()=>{const c=Promise.resolve(void 0);ie=()=>{c.then(R)}};function R(){for(var c;c=$();){try{c.h.call(c.g)}catch(x){D(x)}var p=I;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}pe=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const x=()=>{};m.addEventListener("test",x,p),m.removeEventListener("test",x,p)}catch{}return c})();function S(c){return/^[\s\xa0]*$/.test(c)}function xe(c,p){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}N(xe,O),xe.prototype.init=function(c,p){const x=this.type=c.type,E=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(x=="mouseover"?p=c.fromElement:x=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Fe="closure_listenable_"+(Math.random()*1e6|0),B=0;function re(c,p,x,E,q){this.listener=c,this.proxy=null,this.src=p,this.type=x,this.capture=!!E,this.ha=q,this.key=++B,this.da=this.fa=!1}function be(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Be(c,p,x){for(const E in c)p.call(x,c[E],E,c)}function Qe(c,p){for(const x in c)p.call(void 0,c[x],x,c)}function V(c){const p={};for(const x in c)p[x]=c[x];return p}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,p){let x,E;for(let q=1;q<arguments.length;q++){E=arguments[q];for(x in E)c[x]=E[x];for(let Y=0;Y<ee.length;Y++)x=ee[Y],Object.prototype.hasOwnProperty.call(E,x)&&(c[x]=E[x])}}function de(c){this.src=c,this.g={},this.h=0}de.prototype.add=function(c,p,x,E,q){const Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);const ae=Ce(c,p,E,q);return ae>-1?(p=c[ae],x||(p.fa=!1)):(p=new re(p,this.src,Y,!!E,q),p.fa=x,c.push(p)),p};function Te(c,p){const x=p.type;if(x in c.g){var E=c.g[x],q=Array.prototype.indexOf.call(E,p,void 0),Y;(Y=q>=0)&&Array.prototype.splice.call(E,q,1),Y&&(be(p),c.g[x].length==0&&(delete c.g[x],c.h--))}}function Ce(c,p,x,E){for(let q=0;q<c.length;++q){const Y=c[q];if(!Y.da&&Y.listener==p&&Y.capture==!!x&&Y.ha==E)return q}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Rt={};function lt(c,p,x,E,q){if(Array.isArray(p)){for(let Y=0;Y<p.length;Y++)lt(c,p[Y],x,E,q);return null}return x=_l(x),c&&c[Fe]?c.J(p,x,b(E)?!!E.capture:!1,q):dr(c,p,x,!1,E,q)}function dr(c,p,x,E,q,Y){if(!p)throw Error("Invalid event type");const ae=b(q)?!!q.capture:!!q;let Ae=hr(c);if(Ae||(c[Ue]=Ae=new de(c)),x=Ae.add(p,x,E,ae,Y),x.proxy)return x;if(E=sa(),x.proxy=E,E.src=c,E.listener=x,c.addEventListener)P||(q=ae),q===void 0&&(q=!1),c.addEventListener(p.toString(),E,q);else if(c.attachEvent)c.attachEvent(is(p.toString()),E);else if(c.addListener&&c.removeListener)c.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return x}function sa(){function c(x){return p.call(c.src,c.listener,x)}const p=vl;return c}function ia(c,p,x,E,q){if(Array.isArray(p))for(var Y=0;Y<p.length;Y++)ia(c,p[Y],x,E,q);else E=b(E)?!!E.capture:!!E,x=_l(x),c&&c[Fe]?(c=c.i,Y=String(p).toString(),Y in c.g&&(p=c.g[Y],x=Ce(p,x,E,q),x>-1&&(be(p[x]),Array.prototype.splice.call(p,x,1),p.length==0&&(delete c.g[Y],c.h--)))):c&&(c=hr(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Ce(p,x,E,q)),(x=c>-1?p[c]:null)&&ra(x))}function ra(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Fe])Te(p.i,c);else{var x=c.type,E=c.proxy;p.removeEventListener?p.removeEventListener(x,E,c.capture):p.detachEvent?p.detachEvent(is(x),E):p.addListener&&p.removeListener&&p.removeListener(E),(x=hr(p))?(Te(x,c),x.h==0&&(x.src=null,p[Ue]=null)):be(c)}}}function is(c){return c in Rt?Rt[c]:Rt[c]="on"+c}function vl(c,p){if(c.da)c=!0;else{p=new xe(p,this);const x=c.listener,E=c.ha||c.src;c.fa&&ra(c),c=x.call(E,p)}return c}function hr(c){return c=c[Ue],c instanceof de?c:null}var xl="__closure_events_fn_"+(Math.random()*1e9>>>0);function _l(c){return typeof c=="function"?c:(c[xl]||(c[xl]=function(p){return c.handleEvent(p)}),c[xl])}function bt(){z.call(this),this.i=new de(this),this.M=this,this.G=null}N(bt,z),bt.prototype[Fe]=!0,bt.prototype.removeEventListener=function(c,p,x,E){ia(this,c,p,x,E)};function It(c,p){var x,E=c.G;if(E)for(x=[];E;E=E.G)x.push(E);if(c=c.M,E=p.type||p,typeof p=="string")p=new O(p,c);else if(p instanceof O)p.target=p.target||c;else{var q=p;p=new O(E,c),le(p,q)}q=!0;let Y,ae;if(x)for(ae=x.length-1;ae>=0;ae--)Y=p.g=x[ae],q=ui(Y,E,!0,p)&&q;if(Y=p.g=c,q=ui(Y,E,!0,p)&&q,q=ui(Y,E,!1,p)&&q,x)for(ae=0;ae<x.length;ae++)Y=p.g=x[ae],q=ui(Y,E,!1,p)&&q}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const x=c.g[p];for(let E=0;E<x.length;E++)be(x[E]);delete c.g[p],c.h--}}this.G=null},bt.prototype.J=function(c,p,x,E){return this.i.add(String(c),p,!1,x,E)},bt.prototype.K=function(c,p,x,E){return this.i.add(String(c),p,!0,x,E)};function ui(c,p,x,E){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let q=!0;for(let Y=0;Y<p.length;++Y){const ae=p[Y];if(ae&&!ae.da&&ae.capture==x){const Ae=ae.listener,mt=ae.ha||ae.src;ae.fa&&Te(c.i,ae),q=Ae.call(mt,E)!==!1&&q}}return q&&!E.defaultPrevented}function Kd(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:m.setTimeout(c,p||0)}function oc(c){c.g=Kd(()=>{c.g=null,c.i&&(c.i=!1,oc(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class en extends z{constructor(p,x){super(),this.m=p,this.l=x,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:oc(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fr(c){z.call(this),this.h=c,this.g={}}N(fr,z);var wl=[];function Tl(c){Be(c.g,function(p,x){this.g.hasOwnProperty(x)&&ra(p)},c),c.g={}}fr.prototype.N=function(){fr.Z.N.call(this),Tl(this)},fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var di=m.JSON.stringify,Yd=m.JSON.parse,cc=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function uc(){}function dc(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ut(){O.call(this,"d")}N(Ut,O);function Sn(){O.call(this,"c")}N(Sn,O);var ft={},hc=null;function aa(){return hc=hc||new bt}ft.Ia="serverreachability";function fc(c){O.call(this,ft.Ia,c)}N(fc,O);function rs(c){const p=aa();It(p,new fc(p))}ft.STAT_EVENT="statevent";function mr(c,p){O.call(this,ft.STAT_EVENT,c),this.stat=p}N(mr,O);function vt(c){const p=aa();It(p,new mr(p,c))}ft.Ja="timingevent";function as(c,p){O.call(this,ft.Ja,c),this.size=p}N(as,O);function ls(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function Qd(c,p,x,E,q,Y){c.info(function(){if(c.g)if(Y){var ae="",Ae=Y.split("&");for(let Ge=0;Ge<Ae.length;Ge++){var mt=Ae[Ge].split("=");if(mt.length>1){const ot=mt[0];mt=mt[1];const jn=ot.split("_");ae=jn.length>=2&&jn[1]=="type"?ae+(ot+"="+mt+"&"):ae+(ot+"=redacted&")}}}else ae=null;else ae=Y;return"XMLHTTP REQ ("+E+") [attempt "+q+"]: "+p+`
`+x+`
`+ae})}function mc(c,p,x,E,q,Y,ae){c.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+q+"]: "+p+`
`+x+`
`+Y+" "+ae})}function os(c,p,x,E){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+$d(c,x)+(E?" "+E:"")})}function pr(c,p){c.info(function(){return"TIMEOUT: "+p})}qn.prototype.info=function(){};function $d(c,p){if(!c.g)return p;if(!p)return null;try{const Y=JSON.parse(p);if(Y){for(c=0;c<Y.length;c++)if(Array.isArray(Y[c])){var x=Y[c];if(!(x.length<2)){var E=x[1];if(Array.isArray(E)&&!(E.length<1)){var q=E[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ae=1;ae<E.length;ae++)E[ae]=""}}}}return di(Y)}catch{return p}}var gr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},El={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Nl;function yr(){}N(yr,uc),yr.prototype.g=function(){return new XMLHttpRequest},Nl=new yr;function Os(c){return encodeURIComponent(String(c))}function pc(c){var p=1;c=c.split(":");const x=[];for(;p>0&&c.length;)x.push(c.shift()),p--;return c.length&&x.push(c.join(":")),x}function Hn(c,p,x,E){this.j=c,this.i=p,this.l=x,this.S=E||1,this.V=new fr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var xt={},Ot={};function cs(c,p,x){c.M=1,c.A=br(wt(p)),c.u=x,c.R=!0,la(c,null)}function la(c,p){c.F=Date.now(),us(c),c.B=wt(c.A);var x=c.B,E=c.S;Array.isArray(E)||(E=[String(E)]),da(x.i,"t",E),c.C=0,x=c.j.L,c.h=new Fn,c.g=jc(c.j,x?p:null,!c.u),c.P>0&&(c.O=new en(y(c.Y,c,c.g),c.P)),p=c.V,x=c.g,E=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(wl[0]=q.toString()),q=wl);for(let Y=0;Y<q.length;Y++){const ae=lt(x,q[Y],E||p.handleEvent,!1,p.h||p);if(!ae)break;p.g[ae.key]=ae}p=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),rs(),Qd(c.i,c.v,c.B,c.l,c.S,c.u)}Hn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Yn(c)==3?p.j():this.Y(c)},Hn.prototype.Y=function(c){try{if(c==this.g)e:{const Ae=Yn(this.g),mt=this.g.ya(),Ge=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||Pt(this.g)))){this.K||Ae!=4||mt==7||(mt==8||Ge<=0?rs(3):rs(2)),ds(this);var p=this.g.ca();this.X=p;var x=Xd(this);if(this.o=p==200,mc(this.i,this.v,this.B,this.l,this.S,Ae,p),this.o){if(this.U&&!this.L){t:{if(this.g){var E,q=this.g;if((E=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(E)){var Y=E;break t}}Y=null}if(c=Y)os(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hs(this,c);else{this.o=!1,this.m=3,vt(12),mn(this),An(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<x.length;)if(ot=yc(this,x),ot==Ot){Ae==4&&(this.m=4,vt(14),c=!1),os(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==xt){this.m=4,vt(15),os(this.i,this.l,x,"[Invalid Chunk]"),c=!1;break}else os(this.i,this.l,ot,null),hs(this,ot);if(gc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||x.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)os(this.i,this.l,x,"[Invalid Chunked Response]"),mn(this),An(this);else if(x.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Pl(ae),ae.P=!0,vt(11))}}else os(this.i,this.l,x,null),hs(this,x);Ae==4&&mn(this),this.o&&!this.K&&(Ae==4?Sc(this.j,this):(this.o=!1,us(this)))}else zs(this.g),p==400&&x.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),mn(this),An(this)}}}catch{}finally{}};function Xd(c){if(!gc(c))return c.g.la();const p=Pt(c.g);if(p==="")return"";let x="";const E=p.length,q=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),An(c),"";c.h.i=new m.TextDecoder}for(let Y=0;Y<E;Y++)c.h.h=!0,x+=c.h.i.decode(p[Y],{stream:!(q&&Y==E-1)});return p.length=0,c.h.g+=x,c.C=0,c.h.g}function gc(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function yc(c,p){var x=c.C,E=p.indexOf(`
`,x);return E==-1?Ot:(x=Number(p.substring(x,E)),isNaN(x)?xt:(E+=1,E+x>p.length?Ot:(p=p.slice(E,E+x),c.C=E+x,p)))}Hn.prototype.cancel=function(){this.K=!0,mn(this)};function us(c){c.T=Date.now()+c.H,oa(c,c.H)}function oa(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ls(y(c.aa,c),p)}function ds(c){c.D&&(m.clearTimeout(c.D),c.D=null)}Hn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(pr(this.i,this.B),this.M!=2&&(rs(),vt(17)),mn(this),this.m=2,An(this)):oa(this,this.T-c)};function An(c){c.j.I==0||c.K||Sc(c.j,c)}function mn(c){ds(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Tl(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function hs(c,p){try{var x=c.j;if(x.I!=0&&(x.g==c||ms(x.h,c))){if(!c.L&&ms(x.h,c)&&x.I==3){try{var E=x.Ba.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var q=E;if(q[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<c.F)ga(x),vi(x);else break e;Nr(x),vt(18)}}else x.xa=q[1],0<x.xa-x.K&&q[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=ls(y(x.Va,x),6e3));fs(x.h)<=1&&x.ta&&(x.ta=void 0)}else xs(x,11)}else if((c.L||x.g==c)&&ga(x),!S(p))for(q=x.Ba.g.parse(p),p=0;p<q.length;p++){let Ge=q[p];const ot=Ge[0];if(!(ot<=x.K))if(x.K=ot,Ge=Ge[1],x.I==2)if(Ge[0]=="c"){x.M=Ge[1],x.ba=Ge[2];const jn=Ge[3];jn!=null&&(x.ka=jn,x.j.info("VER="+x.ka));const _s=Ge[4];_s!=null&&(x.za=_s,x.j.info("SVER="+x.za));const Qn=Ge[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(E=1.5*Qn,x.O=E,x.j.info("backChannelRequestTimeoutMs_="+E)),E=x;const $n=c.g;if($n){const Sr=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sr){var Y=E.h;Y.g||Sr.indexOf("spdy")==-1&&Sr.indexOf("quic")==-1&&Sr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(kl(Y,Y.h),Y.h=null))}if(E.G){const ya=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(E.wa=ya,$e(E.J,E.G,ya))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-c.F,x.j.info("Handshake RTT: "+x.T+"ms")),E=x;var ae=c;if(E.na=Cc(E,E.L?E.ba:null,E.W),ae.L){Cl(E.h,ae);var Ae=ae,mt=E.O;mt&&(Ae.H=mt),Ae.D&&(ds(Ae),us(Ae)),E.g=ae}else Ec(E);x.i.length>0&&vs(x)}else Ge[0]!="stop"&&Ge[0]!="close"||xs(x,7);else x.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?xs(x,7):Ll(x):Ge[0]!="noop"&&x.l&&x.l.qa(Ge),x.A=0)}}rs(4)}catch{}}var _t=class{constructor(c,p){this.g=c,this.map=p}};function Sl(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Al(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fs(c){return c.h?1:c.g?c.g.size:0}function ms(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function kl(c,p){c.g?c.g.add(p):c.h=p}function Cl(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Sl.prototype.cancel=function(){if(this.i=jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function jl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const x of c.g.values())p=p.concat(x.G);return p}return L(c.i)}var bc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(c,p){if(c){c=c.split("&");for(let x=0;x<c.length;x++){const E=c[x].indexOf("=");let q,Y=null;E>=0?(q=c[x].substring(0,E),Y=c[x].substring(E+1)):q=c[x],p(q,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function pn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof pn?(this.l=c.l,Vt(this,c.j),this.o=c.o,this.g=c.g,hi(this,c.u),this.h=c.h,Rl(this,wc(c.i)),this.m=c.m):c&&(p=String(c).match(bc))?(this.l=!1,Vt(this,p[1]||"",!0),this.o=ps(p[2]||""),this.g=ps(p[3]||"",!0),hi(this,p[4]),this.h=ps(p[5]||"",!0),Rl(this,p[6]||"",!0),this.m=ps(p[7]||"")):(this.l=!1,this.i=new mi(null,this.l))}pn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(vr(p,ua,!0),":");var x=this.g;return(x||p=="file")&&(c.push("//"),(p=this.o)&&c.push(vr(p,ua,!0),"@"),c.push(Os(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&c.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&c.push("/"),c.push(vr(x,x.charAt(0)=="/"?Il:vc,!0))),(x=this.i.toString())&&c.push("?",x),(x=this.m)&&c.push("#",vr(x,xc)),c.join("")},pn.prototype.resolve=function(c){const p=wt(this);let x=!!c.j;x?Vt(p,c.j):x=!!c.o,x?p.o=c.o:x=!!c.g,x?p.g=c.g:x=c.u!=null;var E=c.h;if(x)hi(p,c.u);else if(x=!!c.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var q=p.h.lastIndexOf("/");q!=-1&&(E=p.h.slice(0,q+1)+E)}if(q=E,q==".."||q==".")E="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){E=q.lastIndexOf("/",0)==0,q=q.split("/");const Y=[];for(let ae=0;ae<q.length;){const Ae=q[ae++];Ae=="."?E&&ae==q.length&&Y.push(""):Ae==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),E&&ae==q.length&&Y.push("")):(Y.push(Ae),E=!0)}E=Y.join("/")}else E=q}return x?p.h=E:x=c.i.toString()!=="",x?Rl(p,wc(c.i)):x=!!c.m,x&&(p.m=c.m),p};function wt(c){return new pn(c)}function Vt(c,p,x){c.j=x?ps(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function hi(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Rl(c,p,x){p instanceof mi?(c.i=p,ha(c.i,c.l)):(x||(p=vr(p,fi)),c.i=new mi(p,c.l))}function $e(c,p,x){c.i.set(p,x)}function br(c){return $e(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ps(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vr(c,p,x){return typeof c=="string"?(c=encodeURI(c).replace(p,rn),x&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ua=/[#\/\?@]/g,vc=/[#\?:]/g,Il=/[#\?]/g,fi=/[#\?@]/g,xc=/#/g;function mi(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&ca(c.i,function(p,x){c.add(decodeURIComponent(p.replace(/\+/g," ")),x)}))}i=mi.prototype,i.add=function(c,p){an(this),this.i=null,c=pi(this,c);let x=this.g.get(c);return x||this.g.set(c,x=[]),x.push(p),this.h+=1,this};function _c(c,p){an(c),p=pi(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Dl(c,p){return an(c),p=pi(c,p),c.g.has(p)}i.forEach=function(c,p){an(this),this.g.forEach(function(x,E){x.forEach(function(q){c.call(p,q,E,this)},this)},this)};function Ml(c,p){an(c);let x=[];if(typeof p=="string")Dl(c,p)&&(x=x.concat(c.g.get(pi(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)x=x.concat(c[p]);return x}i.set=function(c,p){return an(this),this.i=null,c=pi(this,c),Dl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},i.get=function(c,p){return c?(c=Ml(this,c),c.length>0?String(c[0]):p):p};function da(c,p,x){_c(c,p),x.length>0&&(c.i=null,c.g.set(pi(c,p),L(x)),c.h+=x.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let E=0;E<p.length;E++){var x=p[E];const q=Os(x);x=Ml(this,x);for(let Y=0;Y<x.length;Y++){let ae=q;x[Y]!==""&&(ae+="="+Os(x[Y])),c.push(ae)}}return this.i=c.join("&")};function wc(c){const p=new mi;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function pi(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function ha(c,p){p&&!c.j&&(an(c),c.i=null,c.g.forEach(function(x,E){const q=E.toLowerCase();E!=q&&(_c(this,E),da(this,q,x))},c)),c.j=p}function Gn(c,p){const x=new qn;if(m.Image){const E=new Image;E.onload=_(kn,x,"TestLoadImage: loaded",!0,p,E),E.onerror=_(kn,x,"TestLoadImage: error",!1,p,E),E.onabort=_(kn,x,"TestLoadImage: abort",!1,p,E),E.ontimeout=_(kn,x,"TestLoadImage: timeout",!1,p,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=c}else p(!1)}function Ol(c,p){const x=new qn,E=new AbortController,q=setTimeout(()=>{E.abort(),kn(x,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:E.signal}).then(Y=>{clearTimeout(q),Y.ok?kn(x,"TestPingServer: ok",!0,p):kn(x,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(q),kn(x,"TestPingServer: error",!1,p)})}function kn(c,p,x,E,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),E(x)}catch{}}function gi(){this.g=new cc}function gs(c){this.i=c.Sb||null,this.h=c.ab||!1}N(gs,uc),gs.prototype.g=function(){return new xr(this.i,this.h)};function xr(c,p){bt.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}N(xr,bt),i=xr.prototype,i.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Kn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||m).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yi(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function fa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?yi(this):Kn(this),this.readyState==3&&fa(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,yi(this))},i.Na=function(c){this.g&&(this.response=c,yi(this))},i.ga=function(){this.g&&yi(this)};function yi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Kn(c)}i.setRequestHeader=function(c,p){this.A.append(c,p)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var x=p.next();!x.done;)x=x.value,c.push(x[0]+": "+x[1]),x=p.next();return c.join(`\r
`)};function Kn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let p="";return Be(c,function(x,E){p+=E,p+=":",p+=x,p+=`\r
`}),p}function _r(c,p,x){e:{for(E in x){var E=!1;break e}E=!0}E||(x=Cn(x),typeof c=="string"?x!=null&&Os(x):$e(c,p,x))}function Je(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}N(Je,bt);var ys=/^https?$/i,Vl=["POST","PUT"];i=Je.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,p,x,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Nl.g(),this.g.onreadystatechange=k(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(Y){wr(this,Y);return}if(c=x||"",x=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var q in E)x.set(q,E[q]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const Y of E.keys())x.set(Y,E.get(Y));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(x.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(Array.prototype.indexOf.call(Vl,p,void 0)>=0)||E||q||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ae]of x)this.g.setRequestHeader(Y,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Y){wr(this,Y)}};function wr(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,zl(c),Vs(c)}function zl(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,It(this,"complete"),It(this,"abort"),Vs(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vs(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Tr(this):this.Xa())},i.Xa=function(){Tr(this)};function Tr(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(It(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const Y=c.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var x;if(!(x=p)){var E;if(E=Y===0){let ae=String(c.D).match(bc)[1]||null;!ae&&m.self&&m.self.location&&(ae=m.self.location.protocol.slice(0,-1)),E=!ys.test(ae?ae.toLowerCase():"")}x=E}if(x)It(c,"complete"),It(c,"success");else{c.o=6;try{var q=Yn(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",zl(c)}}finally{Vs(c)}}}}function Vs(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const x=c.g;c.g=null,p||It(c,"ready");try{x.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Yd(p)}};function Pt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zs(c){const p={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<c.length;E++){if(S(c[E]))continue;var x=pc(c[E]);const q=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const Y=p[q]||[];p[q]=Y,Y.push(x)}Qe(p,function(E){return E.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bs(c,p,x){return x&&x.internalChannelParams&&x.internalChannelParams[c]||p}function bi(c){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bs("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bs("baseRetryDelayMs",5e3,c),this.Za=bs("retryDelaySeedMs",1e4,c),this.Ta=bs("forwardChannelMaxRetries",2,c),this.va=bs("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Sl(c&&c.concurrentRequestLimit),this.Ba=new gi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=bi.prototype,i.ka=8,i.I=1,i.connect=function(c,p,x,E){vt(0),this.W=c,this.H=p||{},x&&E!==void 0&&(this.H.OSID=x,this.H.OAID=E),this.F=this.X,this.J=Cc(this,null,this.W),vs(this)};function Ll(c){if(ma(c),c.I==3){var p=c.V++,x=wt(c.J);if($e(x,"SID",c.M),$e(x,"RID",p),$e(x,"TYPE","terminate"),Er(c,x),p=new Hn(c,c.j,p),p.M=2,p.A=br(wt(x)),x=!1,m.navigator&&m.navigator.sendBeacon)try{x=m.navigator.sendBeacon(p.A.toString(),"")}catch{}!x&&m.Image&&(new Image().src=p.A,x=!0),x||(p.g=jc(p.j,null),p.g.ea(p.A)),p.F=Date.now(),us(p)}kc(c)}function vi(c){c.g&&(Pl(c),c.g.cancel(),c.g=null)}function ma(c){vi(c),c.v&&(m.clearTimeout(c.v),c.v=null),ga(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&m.clearTimeout(c.m),c.m=null)}function vs(c){if(!Al(c.h)&&!c.m){c.m=!0;var p=c.Ea;ie||A(),pe||(ie(),pe=!0),C.add(p,c),c.D=0}}function pa(c,p){return fs(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ls(y(c.Ea,c,p),Ac(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new Hn(this,this.j,c);let Y=this.o;if(this.U&&(Y?(Y=V(Y),le(Y,this.U)):Y=this.U),this.u!==null||this.R||(q.J=Y,Y=null),this.S)e:{for(var p=0,x=0;x<this.i.length;x++){t:{var E=this.i[x];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,p>4096){p=x;break e}if(p===4096||x===this.i.length-1){p=x+1;break e}}p=1e3}else p=1e3;p=Tc(this,q,p),x=wt(this.J),$e(x,"RID",c),$e(x,"CVER",22),this.G&&$e(x,"X-HTTP-Session-Id",this.G),Er(this,x),Y&&(this.R?p="headers="+Os(Cn(Y))+"&"+p:this.u&&_r(x,this.u,Y)),kl(this.h,q),this.Ra&&$e(x,"TYPE","init"),this.S?($e(x,"$req",p),$e(x,"SID","null"),q.U=!0,cs(q,x,null)):cs(q,x,p),this.I=2}}else this.I==3&&(c?Ul(this,c):this.i.length==0||Al(this.h)||Ul(this))};function Ul(c,p){var x;p?x=p.l:x=c.V++;const E=wt(c.J);$e(E,"SID",c.M),$e(E,"RID",x),$e(E,"AID",c.K),Er(c,E),c.u&&c.o&&_r(E,c.u,c.o),x=new Hn(c,c.j,x,c.D+1),c.u===null&&(x.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Tc(c,x,1e3),x.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),kl(c.h,x),cs(x,E,p)}function Er(c,p){c.H&&Be(c.H,function(x,E){$e(p,E,x)}),c.l&&Be({},function(x,E){$e(p,E,x)})}function Tc(c,p,x){x=Math.min(c.i.length,x);const E=c.l?y(c.l.Ka,c.l,c):null;e:{var q=c.i;let Ae=-1;for(;;){const mt=["count="+x];Ae==-1?x>0?(Ae=q[0].g,mt.push("ofs="+Ae)):Ae=0:mt.push("ofs="+Ae);let Ge=!0;for(let ot=0;ot<x;ot++){var Y=q[ot].g;const jn=q[ot].map;if(Y-=Ae,Y<0)Ae=Math.max(0,q[ot].g-100),Ge=!1;else try{Y="req"+Y+"_"||"";try{var ae=jn instanceof Map?jn:Object.entries(jn);for(const[_s,Qn]of ae){let $n=Qn;b(Qn)&&($n=di(Qn)),mt.push(Y+_s+"="+encodeURIComponent($n))}}catch(_s){throw mt.push(Y+"type="+encodeURIComponent("_badmap")),_s}}catch{E&&E(jn)}}if(Ge){ae=mt.join("&");break e}}ae=void 0}return c=c.i.splice(0,x),p.G=c,ae}function Ec(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;ie||A(),pe||(ie(),pe=!0),C.add(p,c),c.A=0}}function Nr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ls(y(c.Da,c),Ac(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Nc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ls(y(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),vi(this),Nc(this))};function Pl(c){c.B!=null&&(m.clearTimeout(c.B),c.B=null)}function Nc(c){c.g=new Hn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=wt(c.na);$e(p,"RID","rpc"),$e(p,"SID",c.M),$e(p,"AID",c.K),$e(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&$e(p,"TO",c.ia),$e(p,"TYPE","xmlhttp"),Er(c,p),c.u&&c.o&&_r(p,c.u,c.o),c.O&&(c.g.H=c.O);var x=c.g;c=c.ba,x.M=1,x.A=br(wt(p)),x.u=null,x.R=!0,la(x,c)}i.Va=function(){this.C!=null&&(this.C=null,vi(this),Nr(this),vt(19))};function ga(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Sc(c,p){var x=null;if(c.g==p){ga(c),Pl(c),c.g=null;var E=2}else if(ms(c.h,p))x=p.G,Cl(c.h,p),E=1;else return;if(c.I!=0){if(p.o)if(E==1){x=p.u?p.u.length:0,p=Date.now()-p.F;var q=c.D;E=aa(),It(E,new as(E,x)),vs(c)}else Ec(c);else if(q=p.m,q==3||q==0&&p.X>0||!(E==1&&pa(c,p)||E==2&&Nr(c)))switch(x&&x.length>0&&(p=c.h,p.i=p.i.concat(x)),q){case 1:xs(c,5);break;case 4:xs(c,10);break;case 3:xs(c,6);break;default:xs(c,2)}}}function Ac(c,p){let x=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(x*=2),x*p}function xs(c,p){if(c.j.info("Error code "+p),p==2){var x=y(c.bb,c),E=c.Ua;const q=!E;E=new pn(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Vt(E,"https"),br(E),q?Gn(E.toString(),x):Ol(E.toString(),x)}else vt(2);c.I=0,c.l&&c.l.pa(p),kc(c),ma(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function kc(c){if(c.I=0,c.ja=[],c.l){const p=jl(c.h);(p.length!=0||c.i.length!=0)&&(Z(c.ja,p),Z(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function Cc(c,p,x){var E=x instanceof pn?wt(x):new pn(x);if(E.g!="")p&&(E.g=p+"."+E.g),hi(E,E.u);else{var q=m.location;E=q.protocol,p=p?p+"."+q.hostname:q.hostname,q=+q.port;const Y=new pn(null);E&&Vt(Y,E),p&&(Y.g=p),q&&hi(Y,q),x&&(Y.h=x),E=Y}return x=c.G,p=c.wa,x&&p&&$e(E,x,p),$e(E,"VER",c.ka),Er(c,E),E}function jc(c,p,x){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Je(new gs({ab:x})):new Je(c.ma),p.Fa(c.L),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rc(){}i=Rc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function xi(){}xi.prototype.g=function(c,p){return new tn(c,p)};function tn(c,p){bt.call(this),this.g=new bi(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!S(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!S(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Ls(this)}N(tn,bt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Ll(this.g)},tn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var x={};x.__data__=c,c=x}else this.v&&(x={},x.__data__=di(c),c=x);p.i.push(new _t(p.Ya++,c)),p.I==3&&vs(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,Ll(this.g),delete this.g,tn.Z.N.call(this)};function Ic(c){Ut.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const x in p){c=x;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}N(Ic,Ut);function Dc(){Sn.call(this),this.status=1}N(Dc,Sn);function Ls(c){this.g=c}N(Ls,Rc),Ls.prototype.ra=function(){It(this.g,"a")},Ls.prototype.qa=function(c){It(this.g,new Ic(c))},Ls.prototype.pa=function(c){It(this.g,new Dc)},Ls.prototype.oa=function(){It(this.g,"b")},xi.prototype.createWebChannel=xi.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,e_=function(){return new xi},Wx=function(){return aa()},Jx=ft,bm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gr.NO_ERROR=0,gr.TIMEOUT=8,gr.HTTP_ERROR=6,Qu=gr,El.COMPLETE="complete",Zx=El,dc.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,So=dc,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,Xx=Je}).apply(typeof Lu<"u"?Lu:typeof self<"u"?self:typeof window<"u"?window:{});const $b="@firebase/firestore",Xb="4.9.2";let Zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let pl="12.3.0";const Zr=new Hm("@firebase/firestore");function $a(){return Zr.logLevel}function ue(i,...e){if(Zr.logLevel<=Oe.DEBUG){const s=e.map(ep);Zr.debug(`Firestore (${pl}): ${i}`,...s)}}function li(i,...e){if(Zr.logLevel<=Oe.ERROR){const s=e.map(ep);Zr.error(`Firestore (${pl}): ${i}`,...s)}}function al(i,...e){if(Zr.logLevel<=Oe.WARN){const s=e.map(ep);Zr.warn(`Firestore (${pl}): ${i}`,...s)}}function ep(i){if(typeof i=="string")return i;try{return(function(s){return JSON.stringify(s)})(i)}catch{return i}}function _e(i,e,s){let r="Unexpected state";typeof e=="string"?r=e:s=e,t_(i,r,s)}function t_(i,e,s){let r=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(s!==void 0)try{r+=" CONTEXT: "+JSON.stringify(s)}catch{r+=" CONTEXT: "+s}throw li(r),new Error(r)}function Ye(i,e,s,r){let o="Unexpected state";typeof s=="string"?o=s:r=s,i||t_(e,o,r)}function Se(i,e){return i}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ci{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tr{constructor(){this.promise=new Promise(((e,s)=>{this.resolve=e,this.reject=s}))}}class n_{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable((()=>s(Zt.UNAUTHENTICATED)))}shutdown(){}}class mS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class pS{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){Ye(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,s(g)):Promise.resolve();let u=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new tr,e.enqueueRetryable((()=>o(this.currentUser)))};const m=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},b=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((g=>b(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?b(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new tr)}}),0),m()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string",31837,{l:r}),new n_(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class gS{constructor(e,s,r){this.P=e,this.T=s,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yS{constructor(e,s,r){this.P=e,this.T=s,this.I=r}getToken(){return Promise.resolve(new gS(this.P,this.T,this.I))}start(e,s){e.enqueueRetryable((()=>s(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Zb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bS{constructor(e,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,s){Ye(this.o===void 0,3512);const r=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const m=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?s(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Zb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((s=>s?(Ye(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new Zb(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vS(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let r=0;r<i;r++)s[r]=Math.floor(256*Math.random());return s}class tp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=vS(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<s&&(r+=e.charAt(o[u]%62))}return r}}function Ve(i,e){return i<e?-1:i>e?1:0}function vm(i,e){const s=Math.min(i.length,e.length);for(let r=0;r<s;r++){const o=i.charAt(r),u=e.charAt(r);if(o!==u)return im(o)===im(u)?Ve(o,u):im(o)?1:-1}return Ve(i.length,e.length)}const xS=55296,_S=57343;function im(i){const e=i.charCodeAt(0);return e>=xS&&e<=_S}function ll(i,e,s){return i.length===e.length&&i.every(((r,o)=>s(r,e[o])))}const Jb="__name__";class Ss{constructor(e,s,r){s===void 0?s=0:s>e.length&&_e(637,{offset:s,range:e.length}),r===void 0?r=e.length-s:r>e.length-s&&_e(1746,{length:r,range:e.length-s}),this.segments=e,this.offset=s,this.len=r}get length(){return this.len}isEqual(e){return Ss.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof Ss?e.forEach((r=>{s.push(r)})):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,r=this.limit();s<r;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const r=Math.min(e.length,s.length);for(let o=0;o<r;o++){const u=Ss.compareSegments(e.get(o),s.get(o));if(u!==0)return u}return Ve(e.length,s.length)}static compareSegments(e,s){const r=Ss.isNumericId(e),o=Ss.isNumericId(s);return r&&!o?-1:!r&&o?1:r&&o?Ss.extractNumericId(e).compare(Ss.extractNumericId(s)):vm(e,s)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return er.fromString(e.substring(4,e.length-2))}}class st extends Ss{construct(e,s,r){return new st(e,s,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);s.push(...r.split("/").filter((o=>o.length>0)))}return new st(s)}static emptyPath(){return new st([])}}const wS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ss{construct(e,s,r){return new Kt(e,s,r)}static isValidIdentifier(e){return wS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jb}static keyField(){return new Kt([Jb])}static fromServerFormat(e){const s=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(r),r=""};let m=!1;for(;o<e.length;){const b=e[o];if(b==="\\"){if(o+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else b==="`"?(m=!m,o++):b!=="."||m?(r+=b,o++):(u(),o++)}if(u(),m)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(s)}static emptyPath(){return new Kt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(st.fromString(e))}static fromName(e){return new ye(st.fromString(e).popFirst(5))}static empty(){return new ye(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return st.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new st(e.slice()))}}function s_(i,e,s){if(!s)throw new ce(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function TS(i,e,s,r){if(e===!0&&r===!0)throw new ce(te.INVALID_ARGUMENT,`${i} and ${s} cannot be used together.`)}function Wb(i){if(!ye.isDocumentKey(i))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ev(i){if(ye.isDocumentKey(i))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function i_(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Ed(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":_e(12329,{type:typeof i})}function Cs(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Ed(i);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return i}function Ct(i,e){const s={typeString:i};return e&&(s.value=e),s}function Wo(i,e){if(!i_(i))throw new ce(te.INVALID_ARGUMENT,"JSON must be an object");let s;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){s=`JSON missing required field: '${r}'`;break}const m=i[r];if(o&&typeof m!==o){s=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&m!==u.value){s=`Expected '${r}' field to equal '${u.value}'`;break}}if(s)throw new ce(te.INVALID_ARGUMENT,s);return!0}const tv=-62135596800,nv=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),r=Math.floor((e-1e3*s)*nv);return new at(s,r)}constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<tv)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nv}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wo(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Ct("string",at._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new at(0,0))}static max(){return new Ee(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Uo=-1;function ES(i,e){const s=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(r===1e9?new at(s+1,0):new at(s,r));return new sr(o,ye.empty(),e)}function NS(i){return new sr(i.readTime,i.key,Uo)}class sr{constructor(e,s,r){this.readTime=e,this.documentKey=s,this.largestBatchId=r}static min(){return new sr(Ee.min(),ye.empty(),Uo)}static max(){return new sr(Ee.max(),ye.empty(),Uo)}}function SS(i,e){let s=i.readTime.compareTo(e.readTime);return s!==0?s:(s=ye.comparator(i.documentKey,e.documentKey),s!==0?s:Ve(i.largestBatchId,e.largestBatchId))}const AS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function gl(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==AS)throw i;ue("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new ne(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(s,u).next(r,o)}}))}toPromise(){return new Promise(((e,s)=>{this.next(e,s)}))}wrapUserFunction(e){try{const s=e();return s instanceof ne?s:ne.resolve(s)}catch(s){return ne.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction((()=>e(s))):ne.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction((()=>e(s))):ne.reject(s)}static resolve(e){return new ne(((s,r)=>{s(e)}))}static reject(e){return new ne(((s,r)=>{r(e)}))}static waitFor(e){return new ne(((s,r)=>{let o=0,u=0,m=!1;e.forEach((b=>{++o,b.next((()=>{++u,m&&u===o&&s()}),(g=>r(g)))})),m=!0,u===o&&s()}))}static or(e){let s=ne.resolve(!1);for(const r of e)s=s.next((o=>o?ne.resolve(o):r()));return s}static forEach(e,s){const r=[];return e.forEach(((o,u)=>{r.push(s.call(this,o,u))})),this.waitFor(r)}static mapArray(e,s){return new ne(((r,o)=>{const u=e.length,m=new Array(u);let b=0;for(let g=0;g<u;g++){const y=g;s(e[y]).next((_=>{m[y]=_,++b,b===u&&r(m)}),(_=>o(_)))}}))}static doWhile(e,s){return new ne(((r,o)=>{const u=()=>{e()===!0?s().next((()=>{u()}),o):r()};u()}))}}function CS(i){const e=i.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function yl(i){return i.name==="IndexedDbTransactionError"}class Nd{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>s.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nd.ce=-1;const np=-1;function Sd(i){return i==null}function od(i){return i===0&&1/i==-1/0}function jS(i){return typeof i=="number"&&Number.isInteger(i)&&!od(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const r_="";function RS(i){let e="";for(let s=0;s<i.length;s++)e.length>0&&(e=sv(e)),e=IS(i.get(s),e);return sv(e)}function IS(i,e){let s=e;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":s+="";break;case r_:s+="";break;default:s+=u}}return s}function sv(i){return i+r_+""}function iv(i){let e=0;for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e++;return e}function cr(i,e){for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e(s,i[s])}function a_(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ut{constructor(e,s){this.comparator=e,this.root=s||Gt.EMPTY}insert(e,s){return new ut(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}indexOf(e){let s=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return s+r.left.size;o<0?r=r.left:(s+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((s,r)=>(e(s,r),!1)))}toString(){const e=[];return this.inorderTraversal(((s,r)=>(e.push(`${s}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uu(this.root,e,this.comparator,!0)}}class Uu{constructor(e,s,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=s?r(e.key,s):1,s&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,s,r,o,u){this.key=e,this.value=s,this.color=r??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,r,o,u){return new Gt(e??this.key,s??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,s,r),null):u===0?o.copy(null,s,null,null,null):o.copy(null,null,null,null,o.right.insert(e,s,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let r,o=this;if(s(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,s),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),s(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,s))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,s,r,o,u){return this}insert(e,s,r){return new Gt(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((s,r)=>(e(s),!1)))}forEachInRange(e,s){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;s(o.key)}}forEachWhile(e,s){let r;for(r=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new rv(this.data.getIterator())}getIteratorFrom(e){return new rv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach((r=>{s=s.add(r)})),s}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const s=this.data.getIterator(),r=e.data.getIterator();for(;s.hasNext();){const o=s.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((s=>{e.push(s)})),e}toString(){const e=[];return this.forEach((s=>e.push(s))),"SortedSet("+e.toString()+")"}copy(e){const s=new Mt(this.comparator);return s.data=e,s}}class rv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class En{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new En([])}unionWith(e){let s=new Mt(Kt.comparator);for(const r of this.fields)s=s.add(r);for(const r of e)s=s.add(r);return new En(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,((s,r)=>s.isEqual(r)))}}class l_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const s=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new l_("Invalid base64 string: "+u):u}})(e);return new Qt(s)}static fromUint8Array(e){const s=(function(o){let u="";for(let m=0;m<o.length;++m)u+=String.fromCharCode(o[m]);return u})(e);return new Qt(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const r=new Uint8Array(s.length);for(let o=0;o<s.length;o++)r[o]=s.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const DS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(i){if(Ye(!!i,39018),typeof i=="string"){let e=0;const s=DS.exec(i);if(Ye(!!s,46558,{timestamp:i}),s[1]){let o=s[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(i.seconds),nanos:yt(i.nanos)}}function yt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function rr(i){return typeof i=="string"?Qt.fromBase64String(i):Qt.fromUint8Array(i)}const o_="server_timestamp",c_="__type__",u_="__previous_value__",d_="__local_write_time__";function sp(i){return(i?.mapValue?.fields||{})[c_]?.stringValue===o_}function Ad(i){const e=i.mapValue.fields[u_];return sp(e)?Ad(e):e}function Po(i){const e=ir(i.mapValue.fields[d_].timestampValue);return new at(e.seconds,e.nanos)}class MS{constructor(e,s,r,o,u,m,b,g,y,_){this.databaseId=e,this.appId=s,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=m,this.autoDetectLongPolling=b,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=_}}const cd="(default)";class Bo{constructor(e,s){this.projectId=e,this.database=s||cd}static empty(){return new Bo("","")}get isDefaultDatabase(){return this.database===cd}isEqual(e){return e instanceof Bo&&e.projectId===this.projectId&&e.database===this.database}}const h_="__type__",OS="__max__",Pu={mapValue:{}},f_="__vector__",ud="value";function ar(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?sp(i)?4:zS(i)?9007199254740991:VS(i)?10:11:_e(28295,{value:i})}function Ms(i,e){if(i===e)return!0;const s=ar(i);if(s!==ar(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Po(i).isEqual(Po(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const m=ir(o.timestampValue),b=ir(u.timestampValue);return m.seconds===b.seconds&&m.nanos===b.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return rr(o.bytesValue).isEqual(rr(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const m=yt(o.doubleValue),b=yt(u.doubleValue);return m===b?od(m)===od(b):isNaN(m)&&isNaN(b)}return!1})(i,e);case 9:return ll(i.arrayValue.values||[],e.arrayValue.values||[],Ms);case 10:case 11:return(function(o,u){const m=o.mapValue.fields||{},b=u.mapValue.fields||{};if(iv(m)!==iv(b))return!1;for(const g in m)if(m.hasOwnProperty(g)&&(b[g]===void 0||!Ms(m[g],b[g])))return!1;return!0})(i,e);default:return _e(52216,{left:i})}}function qo(i,e){return(i.values||[]).find((s=>Ms(s,e)))!==void 0}function ol(i,e){if(i===e)return 0;const s=ar(i),r=ar(e);if(s!==r)return Ve(s,r);switch(s){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return(function(u,m){const b=yt(u.integerValue||u.doubleValue),g=yt(m.integerValue||m.doubleValue);return b<g?-1:b>g?1:b===g?0:isNaN(b)?isNaN(g)?0:-1:1})(i,e);case 3:return av(i.timestampValue,e.timestampValue);case 4:return av(Po(i),Po(e));case 5:return vm(i.stringValue,e.stringValue);case 6:return(function(u,m){const b=rr(u),g=rr(m);return b.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,m){const b=u.split("/"),g=m.split("/");for(let y=0;y<b.length&&y<g.length;y++){const _=Ve(b[y],g[y]);if(_!==0)return _}return Ve(b.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,m){const b=Ve(yt(u.latitude),yt(m.latitude));return b!==0?b:Ve(yt(u.longitude),yt(m.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return lv(i.arrayValue,e.arrayValue);case 10:return(function(u,m){const b=u.fields||{},g=m.fields||{},y=b[ud]?.arrayValue,_=g[ud]?.arrayValue,N=Ve(y?.values?.length||0,_?.values?.length||0);return N!==0?N:lv(y,_)})(i.mapValue,e.mapValue);case 11:return(function(u,m){if(u===Pu.mapValue&&m===Pu.mapValue)return 0;if(u===Pu.mapValue)return 1;if(m===Pu.mapValue)return-1;const b=u.fields||{},g=Object.keys(b),y=m.fields||{},_=Object.keys(y);g.sort(),_.sort();for(let N=0;N<g.length&&N<_.length;++N){const k=vm(g[N],_[N]);if(k!==0)return k;const L=ol(b[g[N]],y[_[N]]);if(L!==0)return L}return Ve(g.length,_.length)})(i.mapValue,e.mapValue);default:throw _e(23264,{he:s})}}function av(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const s=ir(i),r=ir(e),o=Ve(s.seconds,r.seconds);return o!==0?o:Ve(s.nanos,r.nanos)}function lv(i,e){const s=i.values||[],r=e.values||[];for(let o=0;o<s.length&&o<r.length;++o){const u=ol(s[o],r[o]);if(u)return u}return Ve(s.length,r.length)}function cl(i){return xm(i)}function xm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(s){const r=ir(s);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(s){return rr(s).toBase64()})(i.bytesValue):"referenceValue"in i?(function(s){return ye.fromName(s).toString()})(i.referenceValue):"geoPointValue"in i?(function(s){return`geo(${s.latitude},${s.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(s){let r="[",o=!0;for(const u of s.values||[])o?o=!1:r+=",",r+=xm(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(s){const r=Object.keys(s.fields||{}).sort();let o="{",u=!0;for(const m of r)u?u=!1:o+=",",o+=`${m}:${xm(s.fields[m])}`;return o+"}"})(i.mapValue):_e(61005,{value:i})}function $u(i){switch(ar(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ad(i);return e?16+$u(e):16;case 5:return 2*i.stringValue.length;case 6:return rr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+$u(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return cr(r.fields,((u,m)=>{o+=u.length+$u(m)})),o})(i.mapValue);default:throw _e(13486,{value:i})}}function ov(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function _m(i){return!!i&&"integerValue"in i}function ip(i){return!!i&&"arrayValue"in i}function cv(i){return!!i&&"nullValue"in i}function uv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Xu(i){return!!i&&"mapValue"in i}function VS(i){return(i?.mapValue?.fields||{})[h_]?.stringValue===f_}function Io(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return cr(i.mapValue.fields,((s,r)=>e.mapValue.fields[s]=Io(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(i.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=Io(i.arrayValue.values[s]);return e}return{...i}}function zS(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===OS}class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let r=0;r<e.length-1;++r)if(s=(s.mapValue.fields||{})[e.get(r)],!Xu(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=Io(s)}setAll(e){let s=Kt.emptyPath(),r={},o=[];e.forEach(((m,b)=>{if(!s.isImmediateParentOf(b)){const g=this.getFieldsMap(s);this.applyChanges(g,r,o),r={},o=[],s=b.popLast()}m?r[b.lastSegment()]=Io(m):o.push(b.lastSegment())}));const u=this.getFieldsMap(s);this.applyChanges(u,r,o)}delete(e){const s=this.field(e.popLast());Xu(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return Ms(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=s.mapValue.fields[e.get(r)];Xu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},s.mapValue.fields[e.get(r)]=o),s=o}return s.mapValue.fields}applyChanges(e,s,r){cr(s,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new fn(Io(this.value))}}function m_(i){const e=[];return cr(i.fields,((s,r)=>{const o=new Kt([s]);if(Xu(r)){const u=m_(r.mapValue).fields;if(u.length===0)e.push(o);else for(const m of u)e.push(o.child(m))}else e.push(o)})),new En(e)}class Jt{constructor(e,s,r,o,u,m,b){this.key=e,this.documentType=s,this.version=r,this.readTime=o,this.createTime=u,this.data=m,this.documentState=b}static newInvalidDocument(e){return new Jt(e,0,Ee.min(),Ee.min(),Ee.min(),fn.empty(),0)}static newFoundDocument(e,s,r,o){return new Jt(e,1,s,Ee.min(),r,o,0)}static newNoDocument(e,s){return new Jt(e,2,s,Ee.min(),Ee.min(),fn.empty(),0)}static newUnknownDocument(e,s){return new Jt(e,3,s,Ee.min(),Ee.min(),fn.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dd{constructor(e,s){this.position=e,this.inclusive=s}}function dv(i,e,s){let r=0;for(let o=0;o<i.position.length;o++){const u=e[o],m=i.position[o];if(u.field.isKeyField()?r=ye.comparator(ye.fromName(m.referenceValue),s.key):r=ol(m,s.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function hv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let s=0;s<i.position.length;s++)if(!Ms(i.position[s],e.position[s]))return!1;return!0}class hd{constructor(e,s="asc"){this.field=e,this.dir=s}}function LS(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class p_{}class kt extends p_{constructor(e,s,r){super(),this.field=e,this.op=s,this.value=r}static create(e,s,r){return e.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(e,s,r):new PS(e,s,r):s==="array-contains"?new HS(e,r):s==="in"?new FS(e,r):s==="not-in"?new GS(e,r):s==="array-contains-any"?new KS(e,r):new kt(e,s,r)}static createKeyFieldInFilter(e,s,r){return s==="in"?new BS(e,r):new qS(e,r)}matches(e){const s=e.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(ol(s,this.value)):s!==null&&ar(this.value)===ar(s)&&this.matchesComparison(ol(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ts extends p_{constructor(e,s){super(),this.filters=e,this.op=s,this.Pe=null}static create(e,s){return new ts(e,s)}matches(e){return g_(this)?this.filters.find((s=>!s.matches(e)))===void 0:this.filters.find((s=>s.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,s)=>e.concat(s.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function g_(i){return i.op==="and"}function y_(i){return US(i)&&g_(i)}function US(i){for(const e of i.filters)if(e instanceof ts)return!1;return!0}function wm(i){if(i instanceof kt)return i.field.canonicalString()+i.op.toString()+cl(i.value);if(y_(i))return i.filters.map((e=>wm(e))).join(",");{const e=i.filters.map((s=>wm(s))).join(",");return`${i.op}(${e})`}}function b_(i,e){return i instanceof kt?(function(r,o){return o instanceof kt&&r.op===o.op&&r.field.isEqual(o.field)&&Ms(r.value,o.value)})(i,e):i instanceof ts?(function(r,o){return o instanceof ts&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,m,b)=>u&&b_(m,o.filters[b])),!0):!1})(i,e):void _e(19439)}function v_(i){return i instanceof kt?(function(s){return`${s.field.canonicalString()} ${s.op} ${cl(s.value)}`})(i):i instanceof ts?(function(s){return s.op.toString()+" {"+s.getFilters().map(v_).join(" ,")+"}"})(i):"Filter"}class PS extends kt{constructor(e,s,r){super(e,s,r),this.key=ye.fromName(r.referenceValue)}matches(e){const s=ye.comparator(e.key,this.key);return this.matchesComparison(s)}}class BS extends kt{constructor(e,s){super(e,"in",s),this.keys=x_("in",s)}matches(e){return this.keys.some((s=>s.isEqual(e.key)))}}class qS extends kt{constructor(e,s){super(e,"not-in",s),this.keys=x_("not-in",s)}matches(e){return!this.keys.some((s=>s.isEqual(e.key)))}}function x_(i,e){return(e.arrayValue?.values||[]).map((s=>ye.fromName(s.referenceValue)))}class HS extends kt{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return ip(s)&&qo(s.arrayValue,this.value)}}class FS extends kt{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return s!==null&&qo(this.value.arrayValue,s)}}class GS extends kt{constructor(e,s){super(e,"not-in",s)}matches(e){if(qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return s!==null&&s.nullValue===void 0&&!qo(this.value.arrayValue,s)}}class KS extends kt{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!ip(s)||!s.arrayValue.values)&&s.arrayValue.values.some((r=>qo(this.value.arrayValue,r)))}}class YS{constructor(e,s=null,r=[],o=[],u=null,m=null,b=null){this.path=e,this.collectionGroup=s,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=m,this.endAt=b,this.Te=null}}function fv(i,e=null,s=[],r=[],o=null,u=null,m=null){return new YS(i,e,s,r,o,u,m)}function rp(i){const e=Se(i);if(e.Te===null){let s=e.path.canonicalString();e.collectionGroup!==null&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map((r=>wm(r))).join(","),s+="|ob:",s+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Sd(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((r=>cl(r))).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((r=>cl(r))).join(",")),e.Te=s}return e.Te}function ap(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<i.orderBy.length;s++)if(!LS(i.orderBy[s],e.orderBy[s]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let s=0;s<i.filters.length;s++)if(!b_(i.filters[s],e.filters[s]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!hv(i.startAt,e.startAt)&&hv(i.endAt,e.endAt)}function Tm(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class ec{constructor(e,s=null,r=[],o=[],u=null,m="F",b=null,g=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=m,this.startAt=b,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function QS(i,e,s,r,o,u,m,b){return new ec(i,e,s,r,o,u,m,b)}function lp(i){return new ec(i)}function mv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function __(i){return i.collectionGroup!==null}function Do(i){const e=Se(i);if(e.Ie===null){e.Ie=[];const s=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),s.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let b=new Mt(Kt.comparator);return m.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(b=b.add(y.field))}))})),b})(e).forEach((u=>{s.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new hd(u,r))})),s.has(Kt.keyField().canonicalString())||e.Ie.push(new hd(Kt.keyField(),r))}return e.Ie}function js(i){const e=Se(i);return e.Ee||(e.Ee=$S(e,Do(i))),e.Ee}function $S(i,e){if(i.limitType==="F")return fv(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new hd(o.field,u)}));const s=i.endAt?new dd(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new dd(i.startAt.position,i.startAt.inclusive):null;return fv(i.path,i.collectionGroup,e,i.filters,i.limit,s,r)}}function Em(i,e){const s=i.filters.concat([e]);return new ec(i.path,i.collectionGroup,i.explicitOrderBy.slice(),s,i.limit,i.limitType,i.startAt,i.endAt)}function Nm(i,e,s){return new ec(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,s,i.startAt,i.endAt)}function kd(i,e){return ap(js(i),js(e))&&i.limitType===e.limitType}function w_(i){return`${rp(js(i))}|lt:${i.limitType}`}function Xa(i){return`Query(target=${(function(s){let r=s.path.canonicalString();return s.collectionGroup!==null&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map((o=>v_(o))).join(", ")}]`),Sd(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map((o=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(o))).join(", ")}]`),s.startAt&&(r+=", startAt: ",r+=s.startAt.inclusive?"b:":"a:",r+=s.startAt.position.map((o=>cl(o))).join(",")),s.endAt&&(r+=", endAt: ",r+=s.endAt.inclusive?"a:":"b:",r+=s.endAt.position.map((o=>cl(o))).join(",")),`Target(${r})`})(js(i))}; limitType=${i.limitType})`}function Cd(i,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ye.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,e)&&(function(r,o){for(const u of Do(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(m,b,g){const y=dv(m,b,g);return m.inclusive?y<=0:y<0})(r.startAt,Do(r),o)||r.endAt&&!(function(m,b,g){const y=dv(m,b,g);return m.inclusive?y>=0:y>0})(r.endAt,Do(r),o))})(i,e)}function XS(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function T_(i){return(e,s)=>{let r=!1;for(const o of Do(i)){const u=ZS(o,e,s);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function ZS(i,e,s){const r=i.field.isKeyField()?ye.comparator(e.key,s.key):(function(u,m,b){const g=m.data.field(u),y=b.data.field(u);return g!==null&&y!==null?ol(g,y):_e(42886)})(i.field,e,s);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:i.dir})}}class ea{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,s){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,s]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,s]);o.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[s]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){cr(this.inner,((s,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return a_(this.inner)}size(){return this.innerSize}}const JS=new ut(ye.comparator);function oi(){return JS}const E_=new ut(ye.comparator);function Ao(...i){let e=E_;for(const s of i)e=e.insert(s.key,s);return e}function N_(i){let e=E_;return i.forEach(((s,r)=>e=e.insert(s,r.overlayedDocument))),e}function Hr(){return Mo()}function S_(){return Mo()}function Mo(){return new ea((i=>i.toString()),((i,e)=>i.isEqual(e)))}const WS=new ut(ye.comparator),eA=new Mt(ye.comparator);function ze(...i){let e=eA;for(const s of i)e=e.add(s);return e}const tA=new Mt(Ve);function nA(){return tA}function op(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:od(e)?"-0":e}}function A_(i){return{integerValue:""+i}}function sA(i,e){return jS(e)?A_(e):op(i,e)}class jd{constructor(){this._=void 0}}function iA(i,e,s){return i instanceof Ho?(function(o,u){const m={fields:{[c_]:{stringValue:o_},[d_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&sp(u)&&(u=Ad(u)),u&&(m.fields[u_]=u),{mapValue:m}})(s,e):i instanceof Fo?C_(i,e):i instanceof Go?j_(i,e):(function(o,u){const m=k_(o,u),b=pv(m)+pv(o.Ae);return _m(m)&&_m(o.Ae)?A_(b):op(o.serializer,b)})(i,e)}function rA(i,e,s){return i instanceof Fo?C_(i,e):i instanceof Go?j_(i,e):s}function k_(i,e){return i instanceof fd?(function(r){return _m(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Ho extends jd{}class Fo extends jd{constructor(e){super(),this.elements=e}}function C_(i,e){const s=R_(e);for(const r of i.elements)s.some((o=>Ms(o,r)))||s.push(r);return{arrayValue:{values:s}}}class Go extends jd{constructor(e){super(),this.elements=e}}function j_(i,e){let s=R_(e);for(const r of i.elements)s=s.filter((o=>!Ms(o,r)));return{arrayValue:{values:s}}}class fd extends jd{constructor(e,s){super(),this.serializer=e,this.Ae=s}}function pv(i){return yt(i.integerValue||i.doubleValue)}function R_(i){return ip(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class aA{constructor(e,s){this.field=e,this.transform=s}}function lA(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof Fo&&o instanceof Fo||r instanceof Go&&o instanceof Go?ll(r.elements,o.elements,Ms):r instanceof fd&&o instanceof fd?Ms(r.Ae,o.Ae):r instanceof Ho&&o instanceof Ho})(i.transform,e.transform)}class oA{constructor(e,s){this.version=e,this.transformResults=s}}class es{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new es}static exists(e){return new es(void 0,e)}static updateTime(e){return new es(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Rd{}function I_(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new cp(i.key,es.none()):new tc(i.key,i.data,es.none());{const s=i.data,r=fn.empty();let o=new Mt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let m=s.field(u);m===null&&u.length>1&&(u=u.popLast(),m=s.field(u)),m===null?r.delete(u):r.set(u,m),o=o.add(u)}return new ur(i.key,r,new En(o.toArray()),es.none())}}function cA(i,e,s){i instanceof tc?(function(o,u,m){const b=o.value.clone(),g=yv(o.fieldTransforms,u,m.transformResults);b.setAll(g),u.convertToFoundDocument(m.version,b).setHasCommittedMutations()})(i,e,s):i instanceof ur?(function(o,u,m){if(!Zu(o.precondition,u))return void u.convertToUnknownDocument(m.version);const b=yv(o.fieldTransforms,u,m.transformResults),g=u.data;g.setAll(D_(o)),g.setAll(b),u.convertToFoundDocument(m.version,g).setHasCommittedMutations()})(i,e,s):(function(o,u,m){u.convertToNoDocument(m.version).setHasCommittedMutations()})(0,e,s)}function Oo(i,e,s,r){return i instanceof tc?(function(u,m,b,g){if(!Zu(u.precondition,m))return b;const y=u.value.clone(),_=bv(u.fieldTransforms,g,m);return y.setAll(_),m.convertToFoundDocument(m.version,y).setHasLocalMutations(),null})(i,e,s,r):i instanceof ur?(function(u,m,b,g){if(!Zu(u.precondition,m))return b;const y=bv(u.fieldTransforms,g,m),_=m.data;return _.setAll(D_(u)),_.setAll(y),m.convertToFoundDocument(m.version,_).setHasLocalMutations(),b===null?null:b.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((N=>N.field)))})(i,e,s,r):(function(u,m,b){return Zu(u.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):b})(i,e,s)}function uA(i,e){let s=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),u=k_(r.transform,o||null);u!=null&&(s===null&&(s=fn.empty()),s.set(r.field,u))}return s||null}function gv(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ll(r,o,((u,m)=>lA(u,m)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class tc extends Rd{constructor(e,s,r,o=[]){super(),this.key=e,this.value=s,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ur extends Rd{constructor(e,s,r,o,u=[]){super(),this.key=e,this.data=s,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function D_(i){const e=new Map;return i.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const r=i.data.field(s);e.set(s,r)}})),e}function yv(i,e,s){const r=new Map;Ye(i.length===s.length,32656,{Re:s.length,Ve:i.length});for(let o=0;o<s.length;o++){const u=i[o],m=u.transform,b=e.data.field(u.field);r.set(u.field,rA(m,b,s[o]))}return r}function bv(i,e,s){const r=new Map;for(const o of i){const u=o.transform,m=s.data.field(o.field);r.set(o.field,iA(u,m,e))}return r}class cp extends Rd{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dA extends Rd{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hA{constructor(e,s,r,o){this.batchId=e,this.localWriteTime=s,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,s){const r=s.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&cA(u,e,r[o])}}applyToLocalView(e,s){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(s=Oo(r,e,s,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(s=Oo(r,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const r=S_();return this.mutations.forEach((o=>{const u=e.get(o.key),m=u.overlayedDocument;let b=this.applyToLocalView(m,u.mutatedFields);b=s.has(o.key)?null:b;const g=I_(m,b);g!==null&&r.set(o.key,g),m.isValidDocument()||m.convertToNoDocument(Ee.min())})),r}keys(){return this.mutations.reduce(((e,s)=>e.add(s.key)),ze())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,((s,r)=>gv(s,r)))&&ll(this.baseMutations,e.baseMutations,((s,r)=>gv(s,r)))}}class up{constructor(e,s,r,o){this.batch=e,this.commitVersion=s,this.mutationResults=r,this.docVersions=o}static from(e,s,r){Ye(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return WS})();const u=e.mutations;for(let m=0;m<u.length;m++)o=o.insert(u[m].key,r[m].version);return new up(e,s,r,o)}}class fA{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class mA{constructor(e,s){this.count=e,this.unchangedNames=s}}var At,Pe;function pA(i){switch(i){case te.OK:return _e(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return _e(15467,{code:i})}}function M_(i){if(i===void 0)return li("GRPC error has no .code"),te.UNKNOWN;switch(i){case At.OK:return te.OK;case At.CANCELLED:return te.CANCELLED;case At.UNKNOWN:return te.UNKNOWN;case At.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case At.INTERNAL:return te.INTERNAL;case At.UNAVAILABLE:return te.UNAVAILABLE;case At.UNAUTHENTICATED:return te.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case At.NOT_FOUND:return te.NOT_FOUND;case At.ALREADY_EXISTS:return te.ALREADY_EXISTS;case At.PERMISSION_DENIED:return te.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case At.ABORTED:return te.ABORTED;case At.OUT_OF_RANGE:return te.OUT_OF_RANGE;case At.UNIMPLEMENTED:return te.UNIMPLEMENTED;case At.DATA_LOSS:return te.DATA_LOSS;default:return _e(39323,{code:i})}}(Pe=At||(At={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";function gA(){return new TextEncoder}const yA=new er([4294967295,4294967295],0);function vv(i){const e=gA().encode(i),s=new $x;return s.update(e),new Uint8Array(s.digest())}function xv(i){const e=new DataView(i.buffer),s=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new er([s,r],0),new er([o,u],0)]}class dp{constructor(e,s,r){if(this.bitmap=e,this.padding=s,this.hashCount=r,s<0||s>=8)throw new ko(`Invalid padding: ${s}`);if(r<0)throw new ko(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ko(`Invalid hash count: ${r}`);if(e.length===0&&s!==0)throw new ko(`Invalid padding when bitmap length is 0: ${s}`);this.ge=8*e.length-s,this.pe=er.fromNumber(this.ge)}ye(e,s,r){let o=e.add(s.multiply(er.fromNumber(r)));return o.compare(yA)===1&&(o=new er([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const s=vv(e),[r,o]=xv(s);for(let u=0;u<this.hashCount;u++){const m=this.ye(r,o,u);if(!this.we(m))return!1}return!0}static create(e,s,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),m=new dp(u,o,s);return r.forEach((b=>m.insert(b))),m}insert(e){if(this.ge===0)return;const s=vv(e),[r,o]=xv(s);for(let u=0;u<this.hashCount;u++){const m=this.ye(r,o,u);this.Se(m)}}Se(e){const s=Math.floor(e/8),r=e%8;this.bitmap[s]|=1<<r}}class ko extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Id{constructor(e,s,r,o,u){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,s,r){const o=new Map;return o.set(e,nc.createSynthesizedTargetChangeForCurrentChange(e,s,r)),new Id(Ee.min(),o,new ut(Ve),oi(),ze())}}class nc{constructor(e,s,r,o,u){this.resumeToken=e,this.current=s,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,s,r){return new nc(r,s,ze(),ze(),ze())}}class Ju{constructor(e,s,r,o){this.be=e,this.removedTargetIds=s,this.key=r,this.De=o}}class O_{constructor(e,s){this.targetId=e,this.Ce=s}}class V_{constructor(e,s,r=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=s,this.resumeToken=r,this.cause=o}}class _v{constructor(){this.ve=0,this.Fe=wv(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),s=ze(),r=ze();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:s=s.add(o);break;case 1:r=r.add(o);break;default:_e(38017,{changeType:u})}})),new nc(this.Me,this.xe,e,s,r)}qe(){this.Oe=!1,this.Fe=wv()}Qe(e,s){this.Oe=!0,this.Fe=this.Fe.insert(e,s)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bA{constructor(e){this.Ge=e,this.ze=new Map,this.je=oi(),this.Je=Bu(),this.He=Bu(),this.Ye=new ut(Ve)}Ze(e){for(const s of e.be)e.De&&e.De.isFoundDocument()?this.Xe(s,e.De):this.et(s,e.key,e.De);for(const s of e.removedTargetIds)this.et(s,e.key,e.De)}tt(e){this.forEachTarget(e,(s=>{const r=this.nt(s);switch(e.state){case 0:this.rt(s)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(s);break;case 3:this.rt(s)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(s)&&(this.it(s),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.ze.forEach(((r,o)=>{this.rt(o)&&s(o)}))}st(e){const s=e.targetId,r=e.Ce.count,o=this.ot(s);if(o){const u=o.target;if(Tm(u))if(r===0){const m=new ye(u.path);this.et(s,m,Jt.newNoDocument(m,Ee.min()))}else Ye(r===1,20013,{expectedCount:r});else{const m=this._t(s);if(m!==r){const b=this.ut(e),g=b?this.ct(b,e,m):1;if(g!==0){this.it(s);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(s,y)}}}}}ut(e){const s=e.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=s;let m,b;try{m=rr(r).toUint8Array()}catch(g){if(g instanceof l_)return al("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{b=new dp(m,o,u)}catch(g){return al(g instanceof ko?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return b.ge===0?null:b}ct(e,s,r){return s.Ce.count===r-this.Pt(e,s.targetId)?0:2}Pt(e,s){const r=this.Ge.getRemoteKeysForTarget(s);let o=0;return r.forEach((u=>{const m=this.Ge.ht(),b=`projects/${m.projectId}/databases/${m.database}/documents/${u.path.canonicalString()}`;e.mightContain(b)||(this.et(s,u,null),o++)})),o}Tt(e){const s=new Map;this.ze.forEach(((u,m)=>{const b=this.ot(m);if(b){if(u.current&&Tm(b.target)){const g=new ye(b.target.path);this.It(g).has(m)||this.Et(m,g)||this.et(m,g,Jt.newNoDocument(g,e))}u.Be&&(s.set(m,u.ke()),u.qe())}}));let r=ze();this.He.forEach(((u,m)=>{let b=!0;m.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(r=r.add(u))})),this.je.forEach(((u,m)=>m.setReadTime(e)));const o=new Id(e,s,this.Ye,this.je,r);return this.je=oi(),this.Je=Bu(),this.He=Bu(),this.Ye=new ut(Ve),o}Xe(e,s){if(!this.rt(e))return;const r=this.Et(e,s.key)?2:0;this.nt(e).Qe(s.key,r),this.je=this.je.insert(s.key,s),this.Je=this.Je.insert(s.key,this.It(s.key).add(e)),this.He=this.He.insert(s.key,this.dt(s.key).add(e))}et(e,s,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,s)?o.Qe(s,1):o.$e(s),this.He=this.He.insert(s,this.dt(s).delete(e)),this.He=this.He.insert(s,this.dt(s).add(e)),r&&(this.je=this.je.insert(s,r))}removeTarget(e){this.ze.delete(e)}_t(e){const s=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let s=this.ze.get(e);return s||(s=new _v,this.ze.set(e,s)),s}dt(e){let s=this.He.get(e);return s||(s=new Mt(Ve),this.He=this.He.insert(e,s)),s}It(e){let s=this.Je.get(e);return s||(s=new Mt(Ve),this.Je=this.Je.insert(e,s)),s}rt(e){const s=this.ot(e)!==null;return s||ue("WatchChangeAggregator","Detected inactive target",e),s}ot(e){const s=this.ze.get(e);return s&&s.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _v),this.Ge.getRemoteKeysForTarget(e).forEach((s=>{this.et(e,s,null)}))}Et(e,s){return this.Ge.getRemoteKeysForTarget(e).has(s)}}function Bu(){return new ut(ye.comparator)}function wv(){return new ut(ye.comparator)}const vA={asc:"ASCENDING",desc:"DESCENDING"},xA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_A={and:"AND",or:"OR"};class wA{constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function Sm(i,e){return i.useProto3Json||Sd(e)?e:{value:e}}function md(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function z_(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function TA(i,e){return md(i,e.toTimestamp())}function Rs(i){return Ye(!!i,49232),Ee.fromTimestamp((function(s){const r=ir(s);return new at(r.seconds,r.nanos)})(i))}function hp(i,e){return Am(i,e).canonicalString()}function Am(i,e){const s=(function(o){return new st(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?s:s.child(e)}function L_(i){const e=st.fromString(i);return Ye(H_(e),10190,{key:e.toString()}),e}function km(i,e){return hp(i.databaseId,e.path)}function rm(i,e){const s=L_(e);if(s.get(1)!==i.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+i.databaseId.projectId);if(s.get(3)!==i.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+i.databaseId.database);return new ye(P_(s))}function U_(i,e){return hp(i.databaseId,e)}function EA(i){const e=L_(i);return e.length===4?st.emptyPath():P_(e)}function Cm(i){return new st(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function P_(i){return Ye(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Tv(i,e,s){return{name:km(i,e),fields:s.value.mapValue.fields}}function NA(i,e){let s;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,_){return y.useProto3Json?(Ye(_===void 0||typeof _=="string",58123),Qt.fromBase64String(_||"")):(Ye(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Qt.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),m=e.targetChange.cause,b=m&&(function(y){const _=y.code===void 0?te.UNKNOWN:M_(y.code);return new ce(_,y.message||"")})(m);s=new V_(r,o,u,b||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=rm(i,r.document.name),u=Rs(r.document.updateTime),m=r.document.createTime?Rs(r.document.createTime):Ee.min(),b=new fn({mapValue:{fields:r.document.fields}}),g=Jt.newFoundDocument(o,u,m,b),y=r.targetIds||[],_=r.removedTargetIds||[];s=new Ju(y,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=rm(i,r.document),u=r.readTime?Rs(r.readTime):Ee.min(),m=Jt.newNoDocument(o,u),b=r.removedTargetIds||[];s=new Ju([],b,m.key,m)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=rm(i,r.document),u=r.removedTargetIds||[];s=new Ju([],u,o,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,m=new mA(o,u),b=r.targetId;s=new O_(b,m)}}return s}function SA(i,e){let s;if(e instanceof tc)s={update:Tv(i,e.key,e.value)};else if(e instanceof cp)s={delete:km(i,e.key)};else if(e instanceof ur)s={update:Tv(i,e.key,e.data),updateMask:OA(e.fieldMask)};else{if(!(e instanceof dA))return _e(16599,{Vt:e.type});s={verify:km(i,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map((r=>(function(u,m){const b=m.transform;if(b instanceof Ho)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof Fo)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof Go)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof fd)return{fieldPath:m.field.canonicalString(),increment:b.Ae};throw _e(20930,{transform:m.transform})})(0,r)))),e.precondition.isNone||(s.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:TA(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)})(i,e.precondition)),s}function AA(i,e){return i&&i.length>0?(Ye(e!==void 0,14353),i.map((s=>(function(o,u){let m=o.updateTime?Rs(o.updateTime):Rs(u);return m.isEqual(Ee.min())&&(m=Rs(u)),new oA(m,o.transformResults||[])})(s,e)))):[]}function kA(i,e){return{documents:[U_(i,e.path)]}}function CA(i,e){const s={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),s.structuredQuery.from=[{collectionId:r.lastSegment()}]),s.parent=U_(i,o);const u=(function(y){if(y.length!==0)return q_(ts.create(y,"and"))})(e.filters);u&&(s.structuredQuery.where=u);const m=(function(y){if(y.length!==0)return y.map((_=>(function(k){return{field:Za(k.field),direction:IA(k.dir)}})(_)))})(e.orderBy);m&&(s.structuredQuery.orderBy=m);const b=Sm(i,e.limit);return b!==null&&(s.structuredQuery.limit=b),e.startAt&&(s.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(s.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:s,parent:o}}function jA(i){let e=EA(i.parent);const s=i.structuredQuery,r=s.from?s.from.length:0;let o=null;if(r>0){Ye(r===1,65062);const _=s.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];s.where&&(u=(function(N){const k=B_(N);return k instanceof ts&&y_(k)?k.getFilters():[k]})(s.where));let m=[];s.orderBy&&(m=(function(N){return N.map((k=>(function(Z){return new hd(Ja(Z.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(k)))})(s.orderBy));let b=null;s.limit&&(b=(function(N){let k;return k=typeof N=="object"?N.value:N,Sd(k)?null:k})(s.limit));let g=null;s.startAt&&(g=(function(N){const k=!!N.before,L=N.values||[];return new dd(L,k)})(s.startAt));let y=null;return s.endAt&&(y=(function(N){const k=!N.before,L=N.values||[];return new dd(L,k)})(s.endAt)),QS(e,o,m,u,b,"F",g,y)}function RA(i,e){const s=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return s==null?null:{"goog-listen-tags":s}}function B_(i){return i.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const r=Ja(s.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ja(s.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ja(s.unaryFilter.field);return kt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Ja(s.unaryFilter.field);return kt.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(i):i.fieldFilter!==void 0?(function(s){return kt.create(Ja(s.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(s.fieldFilter.op),s.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(s){return ts.create(s.compositeFilter.filters.map((r=>B_(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(s.compositeFilter.op))})(i):_e(30097,{filter:i})}function IA(i){return vA[i]}function DA(i){return xA[i]}function MA(i){return _A[i]}function Za(i){return{fieldPath:i.canonicalString()}}function Ja(i){return Kt.fromServerFormat(i.fieldPath)}function q_(i){return i instanceof kt?(function(s){if(s.op==="=="){if(uv(s.value))return{unaryFilter:{field:Za(s.field),op:"IS_NAN"}};if(cv(s.value))return{unaryFilter:{field:Za(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(uv(s.value))return{unaryFilter:{field:Za(s.field),op:"IS_NOT_NAN"}};if(cv(s.value))return{unaryFilter:{field:Za(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(s.field),op:DA(s.op),value:s.value}}})(i):i instanceof ts?(function(s){const r=s.getFilters().map((o=>q_(o)));return r.length===1?r[0]:{compositeFilter:{op:MA(s.op),filters:r}}})(i):_e(54877,{filter:i})}function OA(i){const e=[];return i.fields.forEach((s=>e.push(s.canonicalString()))),{fieldPaths:e}}function H_(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Xi{constructor(e,s,r,o,u=Ee.min(),m=Ee.min(),b=Qt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=s,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=b,this.expectedCount=g}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class VA{constructor(e){this.yt=e}}function zA(i){const e=jA({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Nm(e,e.limit,"L"):e}class LA{constructor(){this.Cn=new UA}addToCollectionParentIndex(e,s){return this.Cn.add(s),ne.resolve()}getCollectionParents(e,s){return ne.resolve(this.Cn.getEntries(s))}addFieldIndex(e,s){return ne.resolve()}deleteFieldIndex(e,s){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,s){return ne.resolve()}getDocumentsMatchingTarget(e,s){return ne.resolve(null)}getIndexType(e,s){return ne.resolve(0)}getFieldIndexes(e,s){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,s){return ne.resolve(sr.min())}getMinOffsetFromCollectionGroup(e,s){return ne.resolve(sr.min())}updateCollectionGroup(e,s,r){return ne.resolve()}updateIndexEntries(e,s){return ne.resolve()}}class UA{constructor(){this.index={}}add(e){const s=e.lastSegment(),r=e.popLast(),o=this.index[s]||new Mt(st.comparator),u=!o.has(r);return this.index[s]=o.add(r),u}has(e){const s=e.lastSegment(),r=e.popLast(),o=this.index[s];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Mt(st.comparator)).toArray()}}const Ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},F_=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,s,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=r}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(F_,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class ul{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ul(0)}static cr(){return new ul(-1)}}const Nv="LruGarbageCollector",PA=1048576;function Sv([i,e],[s,r]){const o=Ve(i,s);return o===0?Ve(e,r):o}class BA{constructor(e){this.Ir=e,this.buffer=new Mt(Sv),this.Er=0}dr(){return++this.Er}Ar(e){const s=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(s);else{const r=this.buffer.last();Sv(s,r)<0&&(this.buffer=this.buffer.delete(r).add(s))}}get maxValue(){return this.buffer.last()[0]}}class qA{constructor(e,s,r){this.garbageCollector=e,this.asyncQueue=s,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(Nv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){yl(s)?ue(Nv,"Ignoring IndexedDB error during garbage collection: ",s):await gl(s)}await this.Vr(3e5)}))}}class HA{constructor(e,s){this.mr=e,this.params=s}calculateTargetCount(e,s){return this.mr.gr(e).next((r=>Math.floor(s/100*r)))}nthSequenceNumber(e,s){if(s===0)return ne.resolve(Nd.ce);const r=new BA(s);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,s,r){return this.mr.removeTargets(e,s,r)}removeOrphanedDocuments(e,s){return this.mr.removeOrphanedDocuments(e,s)}collect(e,s){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Ev)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ev):this.yr(e,s)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,s){let r,o,u,m,b,g,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((N=>(N>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,m=Date.now(),this.nthSequenceNumber(e,o)))).next((N=>(r=N,b=Date.now(),this.removeTargets(e,r,s)))).next((N=>(u=N,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((N=>(y=Date.now(),$a()<=Oe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-_}ms
	Determined least recently used ${o} in `+(b-m)+`ms
	Removed ${u} targets in `+(g-b)+`ms
	Removed ${N} documents in `+(y-g)+`ms
Total Duration: ${y-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:N}))))}}function FA(i,e){return new HA(i,e)}class GA{constructor(){this.changes=new ea((e=>e.toString()),((e,s)=>e.isEqual(s))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const r=this.changes.get(s);return r!==void 0?ne.resolve(r):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class KA{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}class YA{constructor(e,s,r,o){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,s){let r=null;return this.documentOverlayCache.getOverlay(e,s).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,s)))).next((o=>(r!==null&&Oo(r.mutation,o,En.empty(),at.now()),o)))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,s,r=ze()){const o=Hr();return this.populateOverlays(e,o,s).next((()=>this.computeViews(e,s,o,r).next((u=>{let m=Ao();return u.forEach(((b,g)=>{m=m.insert(b,g.overlayedDocument)})),m}))))}getOverlayedDocuments(e,s){const r=Hr();return this.populateOverlays(e,r,s).next((()=>this.computeViews(e,s,r,ze())))}populateOverlays(e,s,r){const o=[];return r.forEach((u=>{s.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((m,b)=>{s.set(m,b)}))}))}computeViews(e,s,r,o){let u=oi();const m=Mo(),b=(function(){return Mo()})();return s.forEach(((g,y)=>{const _=r.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof ur)?u=u.insert(y.key,y):_!==void 0?(m.set(y.key,_.mutation.getFieldMask()),Oo(_.mutation,y,_.mutation.getFieldMask(),at.now())):m.set(y.key,En.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,_)=>m.set(y,_))),s.forEach(((y,_)=>b.set(y,new KA(_,m.get(y)??null)))),b)))}recalculateAndSaveOverlays(e,s){const r=Mo();let o=new ut(((m,b)=>m-b)),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next((m=>{for(const b of m)b.keys().forEach((g=>{const y=s.get(g);if(y===null)return;let _=r.get(g)||En.empty();_=b.applyToLocalView(y,_),r.set(g,_);const N=(o.get(b.batchId)||ze()).add(g);o=o.insert(b.batchId,N)}))})).next((()=>{const m=[],b=o.getReverseIterator();for(;b.hasNext();){const g=b.getNext(),y=g.key,_=g.value,N=S_();_.forEach((k=>{if(!u.has(k)){const L=I_(s.get(k),r.get(k));L!==null&&N.set(k,L),u=u.add(k)}})),m.push(this.documentOverlayCache.saveOverlays(e,y,N))}return ne.waitFor(m)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,s,r,o){return(function(m){return ye.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0})(s)?this.getDocumentsMatchingDocumentQuery(e,s.path):__(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,r,o):this.getDocumentsMatchingCollectionQuery(e,s,r,o)}getNextDocuments(e,s,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,r,o).next((u=>{const m=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,r.largestBatchId,o-u.size):ne.resolve(Hr());let b=Uo,g=u;return m.next((y=>ne.forEach(y,((_,N)=>(b<N.largestBatchId&&(b=N.largestBatchId),u.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next((k=>{g=g.insert(_,k)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,ze()))).next((_=>({batchId:b,changes:N_(_)})))))}))}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new ye(s)).next((r=>{let o=Ao();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,s,r,o){const u=s.collectionGroup;let m=Ao();return this.indexManager.getCollectionParents(e,u).next((b=>ne.forEach(b,(g=>{const y=(function(N,k){return new ec(k,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)})(s,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((_=>{_.forEach(((N,k)=>{m=m.insert(N,k)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(e,s,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,r.largestBatchId).next((m=>(u=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,r,u,o)))).next((m=>{u.forEach(((g,y)=>{const _=y.getKey();m.get(_)===null&&(m=m.insert(_,Jt.newInvalidDocument(_)))}));let b=Ao();return m.forEach(((g,y)=>{const _=u.get(g);_!==void 0&&Oo(_.mutation,y,En.empty(),at.now()),Cd(s,y)&&(b=b.insert(g,y))})),b}))}}class QA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,s){return ne.resolve(this.Lr.get(s))}saveBundleMetadata(e,s){return this.Lr.set(s.id,(function(o){return{id:o.id,version:o.version,createTime:Rs(o.createTime)}})(s)),ne.resolve()}getNamedQuery(e,s){return ne.resolve(this.kr.get(s))}saveNamedQuery(e,s){return this.kr.set(s.name,(function(o){return{name:o.name,query:zA(o.bundledQuery),readTime:Rs(o.readTime)}})(s)),ne.resolve()}}class $A{constructor(){this.overlays=new ut(ye.comparator),this.qr=new Map}getOverlay(e,s){return ne.resolve(this.overlays.get(s))}getOverlays(e,s){const r=Hr();return ne.forEach(s,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,s,r){return r.forEach(((o,u)=>{this.St(e,s,u)})),ne.resolve()}removeOverlaysForBatchId(e,s,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),ne.resolve()}getOverlaysForCollection(e,s,r){const o=Hr(),u=s.length+1,m=new ye(s.child("")),b=this.overlays.getIteratorFrom(m);for(;b.hasNext();){const g=b.getNext().value,y=g.getKey();if(!s.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,s,r,o){let u=new ut(((y,_)=>y-_));const m=this.overlays.getIterator();for(;m.hasNext();){const y=m.getNext().value;if(y.getKey().getCollectionGroup()===s&&y.largestBatchId>r){let _=u.get(y.largestBatchId);_===null&&(_=Hr(),u=u.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const b=Hr(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,_)=>b.set(y,_))),!(b.size()>=o)););return ne.resolve(b)}St(e,s,r){const o=this.overlays.get(r.key);if(o!==null){const m=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,m)}this.overlays=this.overlays.insert(r.key,new fA(s,r));let u=this.qr.get(s);u===void 0&&(u=ze(),this.qr.set(s,u)),this.qr.set(s,u.add(r.key))}}class XA{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,ne.resolve()}}class fp{constructor(){this.Qr=new Mt(Lt.$r),this.Ur=new Mt(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,s){const r=new Lt(e,s);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,s){e.forEach((r=>this.addReference(r,s)))}removeReference(e,s){this.Gr(new Lt(e,s))}zr(e,s){e.forEach((r=>this.removeReference(r,s)))}jr(e){const s=new ye(new st([])),r=new Lt(s,e),o=new Lt(s,e+1),u=[];return this.Ur.forEachInRange([r,o],(m=>{this.Gr(m),u.push(m.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const s=new ye(new st([])),r=new Lt(s,e),o=new Lt(s,e+1);let u=ze();return this.Ur.forEachInRange([r,o],(m=>{u=u.add(m.key)})),u}containsKey(e){const s=new Lt(e,0),r=this.Qr.firstAfterOrEqual(s);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,s){this.key=e,this.Yr=s}static $r(e,s){return ye.comparator(e.key,s.key)||Ve(e.Yr,s.Yr)}static Kr(e,s){return Ve(e.Yr,s.Yr)||ye.comparator(e.key,s.key)}}class ZA{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(Lt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,s,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new hA(u,s,r,o);this.mutationQueue.push(m);for(const b of o)this.Zr=this.Zr.add(new Lt(b.key,u)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return ne.resolve(m)}lookupMutationBatch(e,s){return ne.resolve(this.Xr(s))}getNextMutationBatchAfterBatchId(e,s){const r=s+1,o=this.ei(r),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?np:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const r=new Lt(s,0),o=new Lt(s,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(m=>{const b=this.Xr(m.Yr);u.push(b)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,s){let r=new Mt(Ve);return s.forEach((o=>{const u=new Lt(o,0),m=new Lt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,m],(b=>{r=r.add(b.Yr)}))})),ne.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,s){const r=s.path,o=r.length+1;let u=r;ye.isDocumentKey(u)||(u=u.child(""));const m=new Lt(new ye(u),0);let b=new Mt(Ve);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(b=b.add(g.Yr)),!0)}),m),ne.resolve(this.ti(b))}ti(e){const s=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&s.push(o)})),s}removeMutationBatch(e,s){Ye(this.ni(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ne.forEach(s.mutations,(o=>{const u=new Lt(o.key,s.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,s){const r=new Lt(s,0),o=this.Zr.firstAfterOrEqual(r);return ne.resolve(s.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,s){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const s=this.ei(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}class JA{constructor(e){this.ri=e,this.docs=(function(){return new ut(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const r=s.key,o=this.docs.get(r),u=o?o.size:0,m=this.ri(s);return this.docs=this.docs.insert(r,{document:s.mutableCopy(),size:m}),this.size+=m-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const r=this.docs.get(s);return ne.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(s))}getEntries(e,s){let r=oi();return s.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))})),ne.resolve(r)}getDocumentsMatchingQuery(e,s,r,o){let u=oi();const m=s.path,b=new ye(m.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(b);for(;g.hasNext();){const{key:y,value:{document:_}}=g.getNext();if(!m.isPrefixOf(y.path))break;y.path.length>m.length+1||SS(NS(_),r)<=0||(o.has(_.key)||Cd(s,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,s,r,o){_e(9500)}ii(e,s){return ne.forEach(this.docs,(r=>s(r)))}newChangeBuffer(e){return new WA(this)}getSize(e){return ne.resolve(this.size)}}class WA extends GA{constructor(e){super(),this.Nr=e}applyChanges(e){const s=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?s.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),ne.waitFor(s)}getFromCache(e,s){return this.Nr.getEntry(e,s)}getAllFromCache(e,s){return this.Nr.getEntries(e,s)}}class ek{constructor(e){this.persistence=e,this.si=new ea((s=>rp(s)),ap),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new fp,this.targetCount=0,this.ai=ul.ur()}forEachTarget(e,s){return this.si.forEach(((r,o)=>s(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,s,r){return r&&(this.lastRemoteSnapshotVersion=r),s>this.oi&&(this.oi=s),ne.resolve()}Pr(e){this.si.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.ai=new ul(s),this.highestTargetId=s),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,s){return this.Pr(s),this.targetCount+=1,ne.resolve()}updateTargetData(e,s){return this.Pr(s),ne.resolve()}removeTargetData(e,s){return this.si.delete(s.target),this._i.jr(s.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,s,r){let o=0;const u=[];return this.si.forEach(((m,b)=>{b.sequenceNumber<=s&&r.get(b.targetId)===null&&(this.si.delete(m),u.push(this.removeMatchingKeysForTargetId(e,b.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,s){const r=this.si.get(s)||null;return ne.resolve(r)}addMatchingKeys(e,s,r){return this._i.Wr(s,r),ne.resolve()}removeMatchingKeys(e,s,r){this._i.zr(s,r);const o=this.persistence.referenceDelegate,u=[];return o&&s.forEach((m=>{u.push(o.markPotentiallyOrphaned(e,m))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,s){return this._i.jr(s),ne.resolve()}getMatchingKeysForTargetId(e,s){const r=this._i.Hr(s);return ne.resolve(r)}containsKey(e,s){return ne.resolve(this._i.containsKey(s))}}class G_{constructor(e,s){this.ui={},this.overlays={},this.ci=new Nd(0),this.li=!1,this.li=!0,this.hi=new XA,this.referenceDelegate=e(this),this.Pi=new ek(this),this.indexManager=new LA,this.remoteDocumentCache=(function(o){return new JA(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new VA(s),this.Ii=new QA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new $A,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let r=this.ui[e.toKey()];return r||(r=new ZA(s,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,s,r){ue("MemoryPersistence","Starting transaction:",e);const o=new tk(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,s){return ne.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,s))))}}class tk extends kS{constructor(e){super(),this.currentSequenceNumber=e}}class mp{constructor(e){this.persistence=e,this.Ri=new fp,this.Vi=null}static mi(e){return new mp(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,s,r){return this.Ri.addReference(r,s),this.fi.delete(r.toString()),ne.resolve()}removeReference(e,s,r){return this.Ri.removeReference(r,s),this.fi.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,s){return this.fi.add(s.toString()),ne.resolve()}removeTarget(e,s){this.Ri.jr(s.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,s.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,s)))}Ei(){this.Vi=new Set}di(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(r=>{const o=ye.fromPath(r);return this.gi(e,o).next((u=>{u||s.removeEntry(o,Ee.min())}))})).next((()=>(this.Vi=null,s.apply(e))))}updateLimboDocument(e,s){return this.gi(e,s).next((r=>{r?this.fi.delete(s.toString()):this.fi.add(s.toString())}))}Ti(e){return 0}gi(e,s){return ne.or([()=>ne.resolve(this.Ri.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Ai(e,s)])}}class pd{constructor(e,s){this.persistence=e,this.pi=new ea((r=>RS(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=FA(this,s)}static mi(e,s){return new pd(e,s)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,s){return this.persistence.getTargetCache().forEachTarget(e,s)}gr(e){const s=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>s.next((o=>r+o))))}wr(e){let s=0;return this.pr(e,(r=>{s++})).next((()=>s))}pr(e,s){return ne.forEach(this.pi,((r,o)=>this.br(e,r,o).next((u=>u?ne.resolve():s(o)))))}removeTargets(e,s,r){return this.persistence.getTargetCache().removeTargets(e,s,r)}removeOrphanedDocuments(e,s){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(m=>this.br(e,m,s).next((b=>{b||(r++,u.removeEntry(m,Ee.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeTarget(e,s){const r=s.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,s,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,s,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}Ti(e){let s=e.key.toString().length;return e.isFoundDocument()&&(s+=$u(e.data.value)),s}br(e,s,r){return ne.or([()=>this.persistence.Ai(e,s),()=>this.persistence.getTargetCache().containsKey(e,s),()=>{const o=this.pi.get(s);return ne.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class pp{constructor(e,s,r,o){this.targetId=e,this.fromCache=s,this.Es=r,this.ds=o}static As(e,s){let r=ze(),o=ze();for(const u of s.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new pp(e,s.fromCache,r,o)}}class nk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class sk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return KT()?8:CS(Wt())>0?6:4})()}initialize(e,s){this.ps=e,this.indexManager=s,this.Rs=!0}getDocumentsMatchingQuery(e,s,r,o){const u={result:null};return this.ys(e,s).next((m=>{u.result=m})).next((()=>{if(!u.result)return this.ws(e,s,o,r).next((m=>{u.result=m}))})).next((()=>{if(u.result)return;const m=new nk;return this.Ss(e,s,m).next((b=>{if(u.result=b,this.Vs)return this.bs(e,s,m,b.size)}))})).next((()=>u.result))}bs(e,s,r,o){return r.documentReadCount<this.fs?($a()<=Oe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Xa(s),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):($a()<=Oe.DEBUG&&ue("QueryEngine","Query:",Xa(s),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?($a()<=Oe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Xa(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,js(s))):ne.resolve())}ys(e,s){if(mv(s))return ne.resolve(null);let r=js(s);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(s.limit!==null&&o===1&&(s=Nm(s,null,"F"),r=js(s)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const m=ze(...u);return this.ps.getDocuments(e,m).next((b=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.Ds(s,b);return this.Cs(s,y,m,g.readTime)?this.ys(e,Nm(s,null,"F")):this.vs(e,y,s,g)}))))})))))}ws(e,s,r,o){return mv(s)||o.isEqual(Ee.min())?ne.resolve(null):this.ps.getDocuments(e,r).next((u=>{const m=this.Ds(s,u);return this.Cs(s,m,r,o)?ne.resolve(null):($a()<=Oe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xa(s)),this.vs(e,m,s,ES(o,Uo)).next((b=>b)))}))}Ds(e,s){let r=new Mt(T_(e));return s.forEach(((o,u)=>{Cd(e,u)&&(r=r.add(u))})),r}Cs(e,s,r,o){if(e.limit===null)return!1;if(r.size!==s.size)return!0;const u=e.limitType==="F"?s.last():s.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,s,r){return $a()<=Oe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Xa(s)),this.ps.getDocumentsMatchingQuery(e,s,sr.min(),r)}vs(e,s,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((u=>(s.forEach((m=>{u=u.insert(m.key,m)})),u)))}}const gp="LocalStore",ik=3e8;class rk{constructor(e,s,r,o){this.persistence=e,this.Fs=s,this.serializer=o,this.Ms=new ut(Ve),this.xs=new ea((u=>rp(u)),ap),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>e.collect(s,this.Ms)))}}function ak(i,e,s,r){return new rk(i,e,s,r)}async function K_(i,e){const s=Se(i);return await s.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return s.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,s.Bs(e),s.mutationQueue.getAllMutationBatches(r)))).next((u=>{const m=[],b=[];let g=ze();for(const y of o){m.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}for(const y of u){b.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}return s.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:m,addedBatchIds:b})))}))}))}function lk(i,e){const s=Se(i);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=s.Ns.newChangeBuffer({trackRemovals:!0});return(function(b,g,y,_){const N=y.batch,k=N.keys();let L=ne.resolve();return k.forEach((Z=>{L=L.next((()=>_.getEntry(g,Z))).next((G=>{const D=y.docVersions.get(Z);Ye(D!==null,48541),G.version.compareTo(D)<0&&(N.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),_.addEntry(G)))}))})),L.next((()=>b.mutationQueue.removeMutationBatch(g,N)))})(s,r,e,u).next((()=>u.apply(r))).next((()=>s.mutationQueue.performConsistencyCheck(r))).next((()=>s.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(b){let g=ze();for(let y=0;y<b.mutationResults.length;++y)b.mutationResults[y].transformResults.length>0&&(g=g.add(b.batch.mutations[y].key));return g})(e)))).next((()=>s.localDocuments.getDocuments(r,o)))}))}function Y_(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>e.Pi.getLastRemoteSnapshotVersion(s)))}function ok(i,e){const s=Se(i),r=e.snapshotVersion;let o=s.Ms;return s.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const m=s.Ns.newChangeBuffer({trackRemovals:!0});o=s.Ms;const b=[];e.targetChanges.forEach(((_,N)=>{const k=o.get(N);if(!k)return;b.push(s.Pi.removeMatchingKeys(u,_.removedDocuments,N).next((()=>s.Pi.addMatchingKeys(u,_.addedDocuments,N))));let L=k.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(N)!==null?L=L.withResumeToken(Qt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):_.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(_.resumeToken,r)),o=o.insert(N,L),(function(G,D,$){return G.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=ik?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(k,L,_)&&b.push(s.Pi.updateTargetData(u,L))}));let g=oi(),y=ze();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&b.push(s.persistence.referenceDelegate.updateLimboDocument(u,_))})),b.push(ck(u,m,e.documentUpdates).next((_=>{g=_.ks,y=_.qs}))),!r.isEqual(Ee.min())){const _=s.Pi.getLastRemoteSnapshotVersion(u).next((N=>s.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));b.push(_)}return ne.waitFor(b).next((()=>m.apply(u))).next((()=>s.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(s.Ms=o,u)))}function ck(i,e,s){let r=ze(),o=ze();return s.forEach((u=>r=r.add(u))),e.getEntries(i,r).next((u=>{let m=oi();return s.forEach(((b,g)=>{const y=u.get(b);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(b)),g.isNoDocument()&&g.version.isEqual(Ee.min())?(e.removeEntry(b,g.readTime),m=m.insert(b,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),m=m.insert(b,g)):ue(gp,"Ignoring outdated watch update for ",b,". Current version:",y.version," Watch version:",g.version)})),{ks:m,qs:o}}))}function uk(i,e){const s=Se(i);return s.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=np),s.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function dk(i,e){const s=Se(i);return s.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return s.Pi.getTargetData(r,e).next((u=>u?(o=u,ne.resolve(o)):s.Pi.allocateTargetId(r).next((m=>(o=new Xi(e,m,"TargetPurposeListen",r.currentSequenceNumber),s.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=s.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(s.Ms=s.Ms.insert(r.targetId,r),s.xs.set(e,r.targetId)),r}))}async function jm(i,e,s){const r=Se(i),o=r.Ms.get(e),u=s?"readwrite":"readwrite-primary";try{s||await r.persistence.runTransaction("Release target",u,(m=>r.persistence.referenceDelegate.removeTarget(m,o)))}catch(m){if(!yl(m))throw m;ue(gp,`Failed to update sequence numbers for target ${e}: ${m}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function Av(i,e,s){const r=Se(i);let o=Ee.min(),u=ze();return r.persistence.runTransaction("Execute query","readwrite",(m=>(function(g,y,_){const N=Se(g),k=N.xs.get(_);return k!==void 0?ne.resolve(N.Ms.get(k)):N.Pi.getTargetData(y,_)})(r,m,js(e)).next((b=>{if(b)return o=b.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(m,b.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(m,e,s?o:Ee.min(),s?u:ze()))).next((b=>(hk(r,XS(e),b),{documents:b,Qs:u})))))}function hk(i,e,s){let r=i.Os.get(e)||Ee.min();s.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Os.set(e,r)}class kv{constructor(){this.activeTargetIds=nA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fk{constructor(){this.Mo=new kv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,r){}addLocalQueryTarget(e,s=!0){return s&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,s,r){this.xo[e]=s}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new kv,Promise.resolve()}handleUserChange(e,s,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mk{Oo(e){}shutdown(){}}const Cv="ConnectivityMonitor";class jv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(Cv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(Cv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let qu=null;function Rm(){return qu===null?qu=(function(){return 268435456+Math.round(2147483648*Math.random())})():qu++,"0x"+qu.toString(16)}const am="RestConnection",pk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const s=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=s+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===cd?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,s,r,o,u){const m=Rm(),b=this.zo(e,s.toUriEncodedString());ue(am,`Sending RPC '${e}' ${m}:`,b,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(b),_=hl(y);return this.Jo(e,b,g,r,_).then((N=>(ue(am,`Received RPC '${e}' ${m}: `,N),N)),(N=>{throw al(am,`RPC '${e}' ${m} failed with error: `,N,"url: ",b,"request:",r),N}))}Ho(e,s,r,o,u,m){return this.Go(e,s,r,o,u)}jo(e,s,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}zo(e,s){const r=pk[e];return`${this.Uo}/v1/${s}:${r}`}terminate(){}}class yk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class bk extends gk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,s,r,o,u){const m=Rm();return new Promise(((b,g)=>{const y=new Xx;y.setWithCredentials(!0),y.listenOnce(Zx.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Qu.NO_ERROR:const N=y.getResponseJson();ue(Xt,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(N)),b(N);break;case Qu.TIMEOUT:ue(Xt,`RPC '${e}' ${m} timed out`),g(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case Qu.HTTP_ERROR:const k=y.getStatus();if(ue(Xt,`RPC '${e}' ${m} failed with status:`,k,"response text:",y.getResponseText()),k>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const Z=L?.error;if(Z&&Z.status&&Z.message){const G=(function($){const T=$.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(T)>=0?T:te.UNKNOWN})(Z.status);g(new ce(G,Z.message))}else g(new ce(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ce(te.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:m,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(Xt,`RPC '${e}' ${m} completed.`)}}));const _=JSON.stringify(o);ue(Xt,`RPC '${e}' ${m} sending request:`,o),y.send(s,"POST",_,r,15)}))}T_(e,s,r){const o=Rm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=e_(),b=Wx(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,s,r),g.encodeInitMessageHeaders=!0;const _=u.join("");ue(Xt,`Creating RPC '${e}' stream ${o}: ${_}`,g);const N=m.createWebChannel(_,g);this.I_(N);let k=!1,L=!1;const Z=new yk({Yo:D=>{L?ue(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,D):(k||(ue(Xt,`Opening RPC '${e}' stream ${o} transport.`),N.open(),k=!0),ue(Xt,`RPC '${e}' stream ${o} sending:`,D),N.send(D))},Zo:()=>N.close()}),G=(D,$,T)=>{D.listen($,(I=>{try{T(I)}catch(se){setTimeout((()=>{throw se}),0)}}))};return G(N,So.EventType.OPEN,(()=>{L||(ue(Xt,`RPC '${e}' stream ${o} transport opened.`),Z.o_())})),G(N,So.EventType.CLOSE,(()=>{L||(L=!0,ue(Xt,`RPC '${e}' stream ${o} transport closed`),Z.a_(),this.E_(N))})),G(N,So.EventType.ERROR,(D=>{L||(L=!0,al(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,D.name,"Message:",D.message),Z.a_(new ce(te.UNAVAILABLE,"The operation could not be completed")))})),G(N,So.EventType.MESSAGE,(D=>{if(!L){const $=D.data[0];Ye(!!$,16349);const T=$,I=T?.error||T[0]?.error;if(I){ue(Xt,`RPC '${e}' stream ${o} received error:`,I);const se=I.status;let ie=(function(A){const R=At[A];if(R!==void 0)return M_(R)})(se),pe=I.message;ie===void 0&&(ie=te.INTERNAL,pe="Unknown error status: "+se+" with message "+I.message),L=!0,Z.a_(new ce(ie,pe)),N.close()}else ue(Xt,`RPC '${e}' stream ${o} received:`,$),Z.u_($)}})),G(b,Jx.STAT_EVENT,(D=>{D.stat===bm.PROXY?ue(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):D.stat===bm.NOPROXY&&ue(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((s=>s===e))}}function lm(){return typeof document<"u"?document:null}function Dd(i){return new wA(i,!0)}class Q_{constructor(e,s,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=s,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const s=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,s-r);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${s} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Rv="PersistentStream";class $_{constructor(e,s,r,o,u,m,b,g){this.Mi=e,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=b,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Q_(e,s)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,s){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():s&&s.code===te.RESOURCE_EXHAUSTED?(li(s.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):s&&s.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(s)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),s=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===s&&this.G_(r,o)}),(r=>{e((()=>{const o=new ce(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,s){const r=this.W_(this.D_);this.stream=this.j_(e,s),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(Rv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return s=>{this.Mi.enqueueAndForget((()=>this.D_===e?s():(ue(Rv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vk extends $_{constructor(e,s,r,o,u,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,r,o,m),this.serializer=u}j_(e,s){return this.connection.T_("Listen",e,s)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const s=NA(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Ee.min();const m=u.targetChange;return m.targetIds&&m.targetIds.length?Ee.min():m.readTime?Rs(m.readTime):Ee.min()})(e);return this.listener.H_(s,r)}Y_(e){const s={};s.database=Cm(this.serializer),s.addTarget=(function(u,m){let b;const g=m.target;if(b=Tm(g)?{documents:kA(u,g)}:{query:CA(u,g).ft},b.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){b.resumeToken=z_(u,m.resumeToken);const y=Sm(u,m.expectedCount);y!==null&&(b.expectedCount=y)}else if(m.snapshotVersion.compareTo(Ee.min())>0){b.readTime=md(u,m.snapshotVersion.toTimestamp());const y=Sm(u,m.expectedCount);y!==null&&(b.expectedCount=y)}return b})(this.serializer,e);const r=RA(this.serializer,e);r&&(s.labels=r),this.q_(s)}Z_(e){const s={};s.database=Cm(this.serializer),s.removeTarget=e,this.q_(s)}}class xk extends $_{constructor(e,s,r,o,u,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,r,o,m),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,s){return this.connection.T_("Write",e,s)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const s=AA(e.writeResults,e.commitTime),r=Rs(e.commitTime);return this.listener.na(r,s)}ra(){const e={};e.database=Cm(this.serializer),this.q_(e)}ea(e){const s={streamToken:this.lastStreamToken,writes:e.map((r=>SA(this.serializer,r)))};this.q_(s)}}class _k{}class wk extends _k{constructor(e,s,r,o){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,s,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Go(e,Am(s,r),o,u,m))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(te.UNKNOWN,u.toString())}))}Ho(e,s,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,b])=>this.connection.Ho(e,Am(s,r),o,m,b,u))).catch((m=>{throw m.name==="FirebaseError"?(m.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ce(te.UNKNOWN,m.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Tk{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const s=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(li(s),this.aa=!1):ue("OnlineStateTracker",s)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Jr="RemoteStore";class Ek{constructor(e,s,r,o,u){this.localStore=e,this.datastore=s,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((m=>{r.enqueueAndForget((async()=>{ta(this)&&(ue(Jr,"Restarting streams for network reachability change."),await(async function(g){const y=Se(g);y.Ea.add(4),await sc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Md(y)})(this))}))})),this.Ra=new Tk(r,o)}}async function Md(i){if(ta(i))for(const e of i.da)await e(!0)}async function sc(i){for(const e of i.da)await e(!1)}function X_(i,e){const s=Se(i);s.Ia.has(e.targetId)||(s.Ia.set(e.targetId,e),xp(s)?vp(s):bl(s).O_()&&bp(s,e))}function yp(i,e){const s=Se(i),r=bl(s);s.Ia.delete(e),r.O_()&&Z_(s,e),s.Ia.size===0&&(r.O_()?r.L_():ta(s)&&s.Ra.set("Unknown"))}function bp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const s=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}bl(i).Y_(e)}function Z_(i,e){i.Va.Ue(e),bl(i).Z_(e)}function vp(i){i.Va=new bA({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),bl(i).start(),i.Ra.ua()}function xp(i){return ta(i)&&!bl(i).x_()&&i.Ia.size>0}function ta(i){return Se(i).Ea.size===0}function J_(i){i.Va=void 0}async function Nk(i){i.Ra.set("Online")}async function Sk(i){i.Ia.forEach(((e,s)=>{bp(i,e)}))}async function Ak(i,e){J_(i),xp(i)?(i.Ra.ha(e),vp(i)):i.Ra.set("Unknown")}async function kk(i,e,s){if(i.Ra.set("Online"),e instanceof V_&&e.state===2&&e.cause)try{await(async function(o,u){const m=u.cause;for(const b of u.targetIds)o.Ia.has(b)&&(await o.remoteSyncer.rejectListen(b,m),o.Ia.delete(b),o.Va.removeTarget(b))})(i,e)}catch(r){ue(Jr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gd(i,r)}else if(e instanceof Ju?i.Va.Ze(e):e instanceof O_?i.Va.st(e):i.Va.tt(e),!s.isEqual(Ee.min()))try{const r=await Y_(i.localStore);s.compareTo(r)>=0&&await(function(u,m){const b=u.Va.Tt(m);return b.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const _=u.Ia.get(y);_&&u.Ia.set(y,_.withResumeToken(g.resumeToken,m))}})),b.targetMismatches.forEach(((g,y)=>{const _=u.Ia.get(g);if(!_)return;u.Ia.set(g,_.withResumeToken(Qt.EMPTY_BYTE_STRING,_.snapshotVersion)),Z_(u,g);const N=new Xi(_.target,g,y,_.sequenceNumber);bp(u,N)})),u.remoteSyncer.applyRemoteEvent(b)})(i,s)}catch(r){ue(Jr,"Failed to raise snapshot:",r),await gd(i,r)}}async function gd(i,e,s){if(!yl(e))throw e;i.Ea.add(1),await sc(i),i.Ra.set("Offline"),s||(s=()=>Y_(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(Jr,"Retrying IndexedDB access"),await s(),i.Ea.delete(1),await Md(i)}))}function W_(i,e){return e().catch((s=>gd(i,s,e)))}async function Od(i){const e=Se(i),s=lr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:np;for(;Ck(e);)try{const o=await uk(e.localStore,r);if(o===null){e.Ta.length===0&&s.L_();break}r=o.batchId,jk(e,o)}catch(o){await gd(e,o)}e1(e)&&t1(e)}function Ck(i){return ta(i)&&i.Ta.length<10}function jk(i,e){i.Ta.push(e);const s=lr(i);s.O_()&&s.X_&&s.ea(e.mutations)}function e1(i){return ta(i)&&!lr(i).x_()&&i.Ta.length>0}function t1(i){lr(i).start()}async function Rk(i){lr(i).ra()}async function Ik(i){const e=lr(i);for(const s of i.Ta)e.ea(s.mutations)}async function Dk(i,e,s){const r=i.Ta.shift(),o=up.from(r,e,s);await W_(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Od(i)}async function Mk(i,e){e&&lr(i).X_&&await(async function(r,o){if((function(m){return pA(m)&&m!==te.ABORTED})(o.code)){const u=r.Ta.shift();lr(r).B_(),await W_(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Od(r)}})(i,e),e1(i)&&t1(i)}async function Iv(i,e){const s=Se(i);s.asyncQueue.verifyOperationInProgress(),ue(Jr,"RemoteStore received new credentials");const r=ta(s);s.Ea.add(3),await sc(s),r&&s.Ra.set("Unknown"),await s.remoteSyncer.handleCredentialChange(e),s.Ea.delete(3),await Md(s)}async function Ok(i,e){const s=Se(i);e?(s.Ea.delete(2),await Md(s)):e||(s.Ea.add(2),await sc(s),s.Ra.set("Unknown"))}function bl(i){return i.ma||(i.ma=(function(s,r,o){const u=Se(s);return u.sa(),new vk(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:Nk.bind(null,i),t_:Sk.bind(null,i),r_:Ak.bind(null,i),H_:kk.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),xp(i)?vp(i):i.Ra.set("Unknown")):(await i.ma.stop(),J_(i))}))),i.ma}function lr(i){return i.fa||(i.fa=(function(s,r,o){const u=Se(s);return u.sa(),new xk(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:Rk.bind(null,i),r_:Mk.bind(null,i),ta:Ik.bind(null,i),na:Dk.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Od(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(Jr,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class _p{constructor(e,s,r,o,u){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,s,r,o,u){const m=Date.now()+r,b=new _p(e,s,m,o,u);return b.start(r),b}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wp(i,e){if(li("AsyncQueue",`${e}: ${i}`),yl(i))return new ce(te.UNAVAILABLE,`${e}: ${i}`);throw i}class il{static emptySet(e){return new il(e.comparator)}constructor(e){this.comparator=e?(s,r)=>e(s,r)||ye.comparator(s.key,r.key):(s,r)=>ye.comparator(s.key,r.key),this.keyedMap=Ao(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((s,r)=>(e(s),!1)))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof il)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;s.hasNext();){const o=s.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((s=>{e.push(s.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,s){const r=new il;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=s,r}}class Dv{constructor(){this.ga=new ut(ye.comparator)}track(e){const s=e.doc.key,r=this.ga.get(s);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(s,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(s,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(s,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(s):e.type===1&&r.type===2?this.ga=this.ga.insert(s,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(s,e)}ya(){const e=[];return this.ga.inorderTraversal(((s,r)=>{e.push(r)})),e}}class dl{constructor(e,s,r,o,u,m,b,g,y){this.query=e,this.docs=s,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=m,this.syncStateChanged=b,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,s,r,o,u){const m=[];return s.forEach((b=>{m.push({type:0,doc:b})})),new dl(e,s,il.emptySet(s),m,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,r=e.docChanges;if(s.length!==r.length)return!1;for(let o=0;o<s.length;o++)if(s[o].type!==r[o].type||!s[o].doc.isEqual(r[o].doc))return!1;return!0}}class Vk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class zk{constructor(){this.queries=Mv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,r){const o=Se(s),u=o.queries;o.queries=Mv(),u.forEach(((m,b)=>{for(const g of b.Sa)g.onError(r)}))})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function Mv(){return new ea((i=>w_(i)),kd)}async function n1(i,e){const s=Se(i);let r=3;const o=e.query;let u=s.queries.get(o);u?!u.ba()&&e.Da()&&(r=2):(u=new Vk,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await s.onListen(o,!0);break;case 1:u.wa=await s.onListen(o,!1);break;case 2:await s.onFirstRemoteStoreListen(o)}}catch(m){const b=wp(m,`Initialization of query '${Xa(e.query)}' failed`);return void e.onError(b)}s.queries.set(o,u),u.Sa.push(e),e.va(s.onlineState),u.wa&&e.Fa(u.wa)&&Tp(s)}async function s1(i,e){const s=Se(i),r=e.query;let o=3;const u=s.queries.get(r);if(u){const m=u.Sa.indexOf(e);m>=0&&(u.Sa.splice(m,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return s.queries.delete(r),s.onUnlisten(r,!0);case 1:return s.queries.delete(r),s.onUnlisten(r,!1);case 2:return s.onLastRemoteStoreUnlisten(r);default:return}}function Lk(i,e){const s=Se(i);let r=!1;for(const o of e){const u=o.query,m=s.queries.get(u);if(m){for(const b of m.Sa)b.Fa(o)&&(r=!0);m.wa=o}}r&&Tp(s)}function Uk(i,e,s){const r=Se(i),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(s);r.queries.delete(e)}function Tp(i){i.Ca.forEach((e=>{e.next()}))}var Im,Ov;(Ov=Im||(Im={})).Ma="default",Ov.Cache="cache";class i1{constructor(e,s,r){this.query=e,this.xa=s,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new dl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),s=!0):this.La(e,this.onlineState)&&(this.ka(e),s=!0),this.Na=e,s}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let s=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),s=!0),s}La(e,s){if(!e.fromCache||!this.Da())return!0;const r=s!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||s==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const s=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ka(e){e=dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Im.Cache}}class r1{constructor(e){this.key=e}}class a1{constructor(e){this.key=e}}class Pk{constructor(e,s){this.query=e,this.Ya=s,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=T_(e),this.tu=new il(this.eu)}get nu(){return this.Ya}ru(e,s){const r=s?s.iu:new Dv,o=s?s.tu:this.tu;let u=s?s.mutatedKeys:this.mutatedKeys,m=o,b=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,N)=>{const k=o.get(_),L=Cd(this.query,N)?N:null,Z=!!k&&this.mutatedKeys.has(k.key),G=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let D=!1;k&&L?k.data.isEqual(L.data)?Z!==G&&(r.track({type:3,doc:L}),D=!0):this.su(k,L)||(r.track({type:2,doc:L}),D=!0,(g&&this.eu(L,g)>0||y&&this.eu(L,y)<0)&&(b=!0)):!k&&L?(r.track({type:0,doc:L}),D=!0):k&&!L&&(r.track({type:1,doc:k}),D=!0,(g||y)&&(b=!0)),D&&(L?(m=m.add(L),u=G?u.add(_):u.delete(_)):(m=m.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;m.size>this.query.limit;){const _=this.query.limitType==="F"?m.last():m.first();m=m.delete(_.key),u=u.delete(_.key),r.track({type:1,doc:_})}return{tu:m,iu:r,Cs:b,mutatedKeys:u}}su(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const m=e.iu.ya();m.sort(((_,N)=>(function(L,Z){const G=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:D})}};return G(L)-G(Z)})(_.type,N.type)||this.eu(_.doc,N.doc))),this.ou(r),o=o??!1;const b=s&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,m.length!==0||y?{snapshot:new dl(this.query,e.tu,u,m,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Dv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((s=>this.Ya=this.Ya.add(s))),e.modifiedDocuments.forEach((s=>{})),e.removedDocuments.forEach((s=>this.Ya=this.Ya.delete(s))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const s=[];return e.forEach((r=>{this.Xa.has(r)||s.push(new a1(r))})),this.Xa.forEach((r=>{e.has(r)||s.push(new r1(r))})),s}cu(e){this.Ya=e.Qs,this.Xa=ze();const s=this.ru(e.documents);return this.applyChanges(s,!0)}lu(){return dl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ep="SyncEngine";class Bk{constructor(e,s,r){this.query=e,this.targetId=s,this.view=r}}class qk{constructor(e){this.key=e,this.hu=!1}}class Hk{constructor(e,s,r,o,u,m){this.localStore=e,this.remoteStore=s,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new ea((b=>w_(b)),kd),this.Iu=new Map,this.Eu=new Set,this.du=new ut(ye.comparator),this.Au=new Map,this.Ru=new fp,this.Vu={},this.mu=new Map,this.fu=ul.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Fk(i,e,s=!0){const r=h1(i);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await l1(r,e,s,!0),o}async function Gk(i,e){const s=h1(i);await l1(s,e,!0,!1)}async function l1(i,e,s,r){const o=await dk(i.localStore,js(e)),u=o.targetId,m=i.sharedClientState.addLocalQueryTarget(u,s);let b;return r&&(b=await Kk(i,e,u,m==="current",o.resumeToken)),i.isPrimaryClient&&s&&X_(i.remoteStore,o),b}async function Kk(i,e,s,r,o){i.pu=(N,k,L)=>(async function(G,D,$,T){let I=D.view.ru($);I.Cs&&(I=await Av(G.localStore,D.query,!1).then((({documents:C})=>D.view.ru(C,I))));const se=T&&T.targetChanges.get(D.targetId),ie=T&&T.targetMismatches.get(D.targetId)!=null,pe=D.view.applyChanges(I,G.isPrimaryClient,se,ie);return zv(G,D.targetId,pe.au),pe.snapshot})(i,N,k,L);const u=await Av(i.localStore,e,!0),m=new Pk(e,u.Qs),b=m.ru(u.documents),g=nc.createSynthesizedTargetChangeForCurrentChange(s,r&&i.onlineState!=="Offline",o),y=m.applyChanges(b,i.isPrimaryClient,g);zv(i,s,y.au);const _=new Bk(e,s,m);return i.Tu.set(e,_),i.Iu.has(s)?i.Iu.get(s).push(e):i.Iu.set(s,[e]),y.snapshot}async function Yk(i,e,s){const r=Se(i),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((m=>!kd(m,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await jm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),s&&yp(r.remoteStore,o.targetId),Dm(r,o.targetId)})).catch(gl)):(Dm(r,o.targetId),await jm(r.localStore,o.targetId,!0))}async function Qk(i,e){const s=Se(i),r=s.Tu.get(e),o=s.Iu.get(r.targetId);s.isPrimaryClient&&o.length===1&&(s.sharedClientState.removeLocalQueryTarget(r.targetId),yp(s.remoteStore,r.targetId))}async function $k(i,e,s){const r=nC(i);try{const o=await(function(m,b){const g=Se(m),y=at.now(),_=b.reduce(((L,Z)=>L.add(Z.key)),ze());let N,k;return g.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let Z=oi(),G=ze();return g.Ns.getEntries(L,_).next((D=>{Z=D,Z.forEach((($,T)=>{T.isValidDocument()||(G=G.add($))}))})).next((()=>g.localDocuments.getOverlayedDocuments(L,Z))).next((D=>{N=D;const $=[];for(const T of b){const I=uA(T,N.get(T.key).overlayedDocument);I!=null&&$.push(new ur(T.key,I,m_(I.value.mapValue),es.exists(!0)))}return g.mutationQueue.addMutationBatch(L,y,$,b)})).next((D=>{k=D;const $=D.applyToLocalDocumentSet(N,G);return g.documentOverlayCache.saveOverlays(L,D.batchId,$)}))})).then((()=>({batchId:k.batchId,changes:N_(N)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(m,b,g){let y=m.Vu[m.currentUser.toKey()];y||(y=new ut(Ve)),y=y.insert(b,g),m.Vu[m.currentUser.toKey()]=y})(r,o.batchId,s),await ic(r,o.changes),await Od(r.remoteStore)}catch(o){const u=wp(o,"Failed to persist write");s.reject(u)}}async function o1(i,e){const s=Se(i);try{const r=await ok(s.localStore,e);e.targetChanges.forEach(((o,u)=>{const m=s.Au.get(u);m&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?m.hu=!0:o.modifiedDocuments.size>0?Ye(m.hu,14607):o.removedDocuments.size>0&&(Ye(m.hu,42227),m.hu=!1))})),await ic(s,r,e)}catch(r){await gl(r)}}function Vv(i,e,s){const r=Se(i);if(r.isPrimaryClient&&s===0||!r.isPrimaryClient&&s===1){const o=[];r.Tu.forEach(((u,m)=>{const b=m.view.va(e);b.snapshot&&o.push(b.snapshot)})),(function(m,b){const g=Se(m);g.onlineState=b;let y=!1;g.queries.forEach(((_,N)=>{for(const k of N.Sa)k.va(b)&&(y=!0)})),y&&Tp(g)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Xk(i,e,s){const r=Se(i);r.sharedClientState.updateQueryState(e,"rejected",s);const o=r.Au.get(e),u=o&&o.key;if(u){let m=new ut(ye.comparator);m=m.insert(u,Jt.newNoDocument(u,Ee.min()));const b=ze().add(u),g=new Id(Ee.min(),new Map,new ut(Ve),m,b);await o1(r,g),r.du=r.du.remove(u),r.Au.delete(e),Np(r)}else await jm(r.localStore,e,!1).then((()=>Dm(r,e,s))).catch(gl)}async function Zk(i,e){const s=Se(i),r=e.batch.batchId;try{const o=await lk(s.localStore,e);u1(s,r,null),c1(s,r),s.sharedClientState.updateMutationState(r,"acknowledged"),await ic(s,o)}catch(o){await gl(o)}}async function Jk(i,e,s){const r=Se(i);try{const o=await(function(m,b){const g=Se(m);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return g.mutationQueue.lookupMutationBatch(y,b).next((N=>(Ye(N!==null,37113),_=N.keys(),g.mutationQueue.removeMutationBatch(y,N)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,_,b))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>g.localDocuments.getDocuments(y,_)))}))})(r.localStore,e);u1(r,e,s),c1(r,e),r.sharedClientState.updateMutationState(e,"rejected",s),await ic(r,o)}catch(o){await gl(o)}}function c1(i,e){(i.mu.get(e)||[]).forEach((s=>{s.resolve()})),i.mu.delete(e)}function u1(i,e,s){const r=Se(i);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(s?u.reject(s):u.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Dm(i,e,s=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),s&&i.Pu.yu(r,s);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||d1(i,r)}))}function d1(i,e){i.Eu.delete(e.path.canonicalString());const s=i.du.get(e);s!==null&&(yp(i.remoteStore,s),i.du=i.du.remove(e),i.Au.delete(s),Np(i))}function zv(i,e,s){for(const r of s)r instanceof r1?(i.Ru.addReference(r.key,e),Wk(i,r)):r instanceof a1?(ue(Ep,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||d1(i,r.key)):_e(19791,{wu:r})}function Wk(i,e){const s=e.key,r=s.path.canonicalString();i.du.get(s)||i.Eu.has(r)||(ue(Ep,"New document in limbo: "+s),i.Eu.add(r),Np(i))}function Np(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const s=new ye(st.fromString(e)),r=i.fu.next();i.Au.set(r,new qk(s)),i.du=i.du.insert(s,r),X_(i.remoteStore,new Xi(js(lp(s.path)),r,"TargetPurposeLimboResolution",Nd.ce))}}async function ic(i,e,s){const r=Se(i),o=[],u=[],m=[];r.Tu.isEmpty()||(r.Tu.forEach(((b,g)=>{m.push(r.pu(g,e,s).then((y=>{if((y||s)&&r.isPrimaryClient){const _=y?!y.fromCache:s?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(y){o.push(y);const _=pp.As(g.targetId,y);u.push(_)}})))})),await Promise.all(m),r.Pu.H_(o),await(async function(g,y){const _=Se(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(N=>ne.forEach(y,(k=>ne.forEach(k.Es,(L=>_.persistence.referenceDelegate.addReference(N,k.targetId,L))).next((()=>ne.forEach(k.ds,(L=>_.persistence.referenceDelegate.removeReference(N,k.targetId,L)))))))))}catch(N){if(!yl(N))throw N;ue(gp,"Failed to update sequence numbers: "+N)}for(const N of y){const k=N.targetId;if(!N.fromCache){const L=_.Ms.get(k),Z=L.snapshotVersion,G=L.withLastLimboFreeSnapshotVersion(Z);_.Ms=_.Ms.insert(k,G)}}})(r.localStore,u))}async function eC(i,e){const s=Se(i);if(!s.currentUser.isEqual(e)){ue(Ep,"User change. New user:",e.toKey());const r=await K_(s.localStore,e);s.currentUser=e,(function(u,m){u.mu.forEach((b=>{b.forEach((g=>{g.reject(new ce(te.CANCELLED,m))}))})),u.mu.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ic(s,r.Ls)}}function tC(i,e){const s=Se(i),r=s.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let o=ze();const u=s.Iu.get(e);if(!u)return o;for(const m of u){const b=s.Tu.get(m);o=o.unionWith(b.view.nu)}return o}}function h1(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=o1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xk.bind(null,e),e.Pu.H_=Lk.bind(null,e.eventManager),e.Pu.yu=Uk.bind(null,e.eventManager),e}function nC(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jk.bind(null,e),e}class yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,s){return null}Mu(e,s){return null}vu(e){return ak(this.persistence,new sk,e.initialUser,this.serializer)}Cu(e){return new G_(mp.mi,this.serializer)}Du(e){return new fk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yd.provider={build:()=>new yd};class sC extends yd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,s){Ye(this.persistence.referenceDelegate instanceof pd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new qA(r,e.asyncQueue,s)}Cu(e){const s=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new G_((r=>pd.mi(r,s)),this.serializer)}}class Mm{async initialize(e,s){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Vv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eC.bind(null,this.syncEngine),await Ok(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new zk})()}createDatastore(e){const s=Dd(e.databaseInfo.databaseId),r=(function(u){return new bk(u)})(e.databaseInfo);return(function(u,m,b,g){return new wk(u,m,b,g)})(e.authCredentials,e.appCheckCredentials,r,s)}createRemoteStore(e){return(function(r,o,u,m,b){return new Ek(r,o,u,m,b)})(this.localStore,this.datastore,e.asyncQueue,(s=>Vv(this.syncEngine,s,0)),(function(){return jv.v()?new jv:new mk})())}createSyncEngine(e,s){return(function(o,u,m,b,g,y,_){const N=new Hk(o,u,m,b,g,y);return _&&(N.gu=!0),N})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}async terminate(){await(async function(s){const r=Se(s);ue(Jr,"RemoteStore shutting down."),r.Ea.add(5),await sc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Mm.provider={build:()=>new Mm};class f1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,s){setTimeout((()=>{this.muted||e(s)}),0)}}const or="FirestoreClient";class iC{constructor(e,s,r,o,u){this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=r,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async m=>{ue(or,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(r,(m=>(ue(or,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(s){const r=wp(s,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function om(i,e){i.asyncQueue.verifyOperationInProgress(),ue(or,"Initializing OfflineComponentProvider");const s=i.configuration;await e.initialize(s);let r=s.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await K_(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Lv(i,e){i.asyncQueue.verifyOperationInProgress();const s=await rC(i);ue(or,"Initializing OnlineComponentProvider"),await e.initialize(s,i.configuration),i.setCredentialChangeListener((r=>Iv(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>Iv(e.remoteStore,o))),i._onlineComponents=e}async function rC(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(or,"Using user provided OfflineComponentProvider");try{await om(i,i._uninitializedComponentsProvider._offline)}catch(e){const s=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(s))throw s;al("Error using user provided cache. Falling back to memory cache: "+s),await om(i,new yd)}}else ue(or,"Using default OfflineComponentProvider"),await om(i,new sC(void 0));return i._offlineComponents}async function m1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(or,"Using user provided OnlineComponentProvider"),await Lv(i,i._uninitializedComponentsProvider._online)):(ue(or,"Using default OnlineComponentProvider"),await Lv(i,new Mm))),i._onlineComponents}function aC(i){return m1(i).then((e=>e.syncEngine))}async function Om(i){const e=await m1(i),s=e.eventManager;return s.onListen=Fk.bind(null,e.syncEngine),s.onUnlisten=Yk.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=Gk.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=Qk.bind(null,e.syncEngine),s}function lC(i,e,s={}){const r=new tr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,m,b,g,y){const _=new f1({next:k=>{_.Nu(),m.enqueueAndForget((()=>s1(u,N))),k.fromCache&&g.source==="server"?y.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(k)},error:k=>y.reject(k)}),N=new i1(b,_,{includeMetadataChanges:!0,qa:!0});return n1(u,N)})(await Om(i),i.asyncQueue,e,s,r))),r.promise}function p1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const Uv=new Map;const g1="firestore.googleapis.com",Pv=!0;class Bv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=g1,this.ssl=Pv}else this.host=e.host,this.ssl=e.ssl??Pv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=F_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PA)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vd{constructor(e,s,r,o){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new fS;switch(r.type){case"firstParty":return new yS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const r=Uv.get(s);r&&(ue("ComponentProvider","Removing Datastore"),Uv.delete(s),r.terminate())})(this),Promise.resolve()}}function oC(i,e,s,r={}){i=Cs(i,Vd);const o=hl(e),u=i._getSettings(),m={...u,emulatorOptions:i._getEmulatorOptions()},b=`${e}:${s}`;o&&(dx(`https://${b}`),hx("Firestore",!0)),u.host!==g1&&u.host!==b&&al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:b,ssl:o,emulatorOptions:r};if(!Qr(g,m)&&(i._setSettings(g),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=Zt.MOCK_USER;else{y=zT(r.mockUserToken,i._app?.options.projectId);const N=r.mockUserToken.sub||r.mockUserToken.user_id;if(!N)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Zt(N)}i._authCredentials=new mS(new n_(y,_))}}class na{constructor(e,s,r){this.converter=s,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new na(this.firestore,e,this._query)}}class jt{constructor(e,s,r){this.converter=s,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,s,r){if(Wo(s,jt._jsonSchema))return new jt(e,r||null,new ye(st.fromString(s.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:Ct("string",jt._jsonSchemaVersion),referencePath:Ct("string")};class nr extends na{constructor(e,s,r){super(e,s,lp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new ye(e))}withConverter(e){return new nr(this.firestore,e,this._path)}}function Hu(i,e,...s){if(i=Yt(i),s_("collection","path",e),i instanceof Vd){const r=st.fromString(e,...s);return ev(r),new nr(i,null,r)}{if(!(i instanceof jt||i instanceof nr))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(st.fromString(e,...s));return ev(r),new nr(i.firestore,null,r)}}function Vm(i,e,...s){if(i=Yt(i),arguments.length===1&&(e=tp.newId()),s_("doc","path",e),i instanceof Vd){const r=st.fromString(e,...s);return Wb(r),new jt(i,null,new ye(r))}{if(!(i instanceof jt||i instanceof nr))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(st.fromString(e,...s));return Wb(r),new jt(i.firestore,i instanceof nr?i.converter:null,new ye(r))}}const qv="AsyncQueue";class Hv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Q_(this,"async_queue_retry"),this._c=()=>{const r=lm();r&&ue(qv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const s=lm();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const s=lm();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const s=new tr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yl(e))throw e;ue(qv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const s=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,li("INTERNAL UNHANDLED ERROR: ",Fv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=s,s}enqueueAfterDelay(e,s,r){this.uc(),this.oc.indexOf(e)>-1&&(s=0);const o=_p.createAndSchedule(this,e,s,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:Fv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const s of this.tc)if(s.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((s,r)=>s.targetTimeMs-r.targetTimeMs));for(const s of this.tc)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const s=this.tc.indexOf(e);this.tc.splice(s,1)}}function Fv(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function Gv(i){return(function(s,r){if(typeof s!="object"||s===null)return!1;const o=s;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Wr extends Vd{constructor(e,s,r,o){super(e,s,r,o),this.type="firestore",this._queue=new Hv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hv(e),this._firestoreClient=void 0,await e}}}function Kv(i,e){const s=typeof i=="object"?i:px(),r=typeof i=="string"?i:cd,o=Gm(s,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=OT("firestore");u&&oC(o,...u)}return o}function Sp(i){if(i._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||cC(i),i._firestoreClient}function cC(i){const e=i._freezeSettings(),s=(function(o,u,m,b){return new MS(o,u,m,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,p1(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new iC(i._authCredentials,i._appCheckCredentials,i._queue,s,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Qt.fromBase64String(e))}catch(s){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new Pn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wo(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Ct("string",Pn._jsonSchemaVersion),bytes:Ct("string")};class zd{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ld{constructor(e){this._methodName=e}}class Is{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Is._jsonSchemaVersion}}static fromJSON(e){if(Wo(e,Is._jsonSchema))return new Is(e.latitude,e.longitude)}}Is._jsonSchemaVersion="firestore/geoPoint/1.0",Is._jsonSchema={type:Ct("string",Is._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};class Ds{constructor(e){this._values=(e||[]).map((s=>s))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ds._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wo(e,Ds._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((s=>typeof s=="number")))return new Ds(e.vectorValues);throw new ce(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ds._jsonSchemaVersion="firestore/vectorValue/1.0",Ds._jsonSchema={type:Ct("string",Ds._jsonSchemaVersion),vectorValues:Ct("object")};const uC=/^__.*__$/;class dC{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return this.fieldMask!==null?new ur(e,this.data,this.fieldMask,s,this.fieldTransforms):new tc(e,this.data,s,this.fieldTransforms)}}class y1{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return new ur(e,this.data,this.fieldMask,s,this.fieldTransforms)}}function b1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:i})}}class Ap{constructor(e,s,r,o,u,m){this.settings=e,this.databaseId=s,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ap({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const s=this.path?.child(e),r=this.Vc({path:s,fc:!1});return r.gc(e),r}yc(e){const s=this.path?.child(e),r=this.Vc({path:s,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((s=>e.isPrefixOf(s)))!==void 0||this.fieldTransforms.find((s=>e.isPrefixOf(s.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(b1(this.Ac)&&uC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class hC{constructor(e,s,r){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=r||Dd(e)}Cc(e,s,r,o=!1){return new Ap({Ac:e,methodName:s,Dc:r,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kp(i){const e=i._freezeSettings(),s=Dd(i._databaseId);return new hC(i._databaseId,!!e.ignoreUndefinedProperties,s)}function fC(i,e,s,r,o,u={}){const m=i.Cc(u.merge||u.mergeFields?2:0,e,s,o);jp("Data must be an object, but it was:",m,r);const b=v1(r,m);let g,y;if(u.merge)g=new En(m.fieldMask),y=m.fieldTransforms;else if(u.mergeFields){const _=[];for(const N of u.mergeFields){const k=zm(e,N,s);if(!m.contains(k))throw new ce(te.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);_1(_,k)||_.push(k)}g=new En(_),y=m.fieldTransforms.filter((N=>g.covers(N.field)))}else g=null,y=m.fieldTransforms;return new dC(new fn(b),g,y)}class Ud extends Ld{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ud}}class Cp extends Ld{_toFieldTransform(e){return new aA(e.path,new Ho)}isEqual(e){return e instanceof Cp}}function mC(i,e,s,r){const o=i.Cc(1,e,s);jp("Data must be an object, but it was:",o,r);const u=[],m=fn.empty();cr(r,((g,y)=>{const _=Rp(e,g,s);y=Yt(y);const N=o.yc(_);if(y instanceof Ud)u.push(_);else{const k=rc(y,N);k!=null&&(u.push(_),m.set(_,k))}}));const b=new En(u);return new y1(m,b,o.fieldTransforms)}function pC(i,e,s,r,o,u){const m=i.Cc(1,e,s),b=[zm(e,r,s)],g=[o];if(u.length%2!=0)throw new ce(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<u.length;k+=2)b.push(zm(e,u[k])),g.push(u[k+1]);const y=[],_=fn.empty();for(let k=b.length-1;k>=0;--k)if(!_1(y,b[k])){const L=b[k];let Z=g[k];Z=Yt(Z);const G=m.yc(L);if(Z instanceof Ud)y.push(L);else{const D=rc(Z,G);D!=null&&(y.push(L),_.set(L,D))}}const N=new En(y);return new y1(_,N,m.fieldTransforms)}function gC(i,e,s,r=!1){return rc(s,i.Cc(r?4:3,e))}function rc(i,e){if(x1(i=Yt(i)))return jp("Unsupported field value:",e,i),v1(i,e);if(i instanceof Ld)return(function(r,o){if(!b1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let m=0;for(const b of r){let g=rc(b,o.wc(m));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),m++}return{arrayValue:{values:u}}})(i,e)}return(function(r,o){if((r=Yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sA(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=at.fromDate(r);return{timestampValue:md(o.serializer,u)}}if(r instanceof at){const u=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:md(o.serializer,u)}}if(r instanceof Is)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pn)return{bytesValue:z_(o.serializer,r._byteString)};if(r instanceof jt){const u=o.databaseId,m=r.firestore._databaseId;if(!m.isEqual(u))throw o.Sc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:hp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ds)return(function(m,b){return{mapValue:{fields:{[h_]:{stringValue:f_},[ud]:{arrayValue:{values:m.toArray().map((y=>{if(typeof y!="number")throw b.Sc("VectorValues must only contain numeric values.");return op(b.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Ed(r)}`)})(i,e)}function v1(i,e){const s={};return a_(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cr(i,((r,o)=>{const u=rc(o,e.mc(r));u!=null&&(s[r]=u)})),{mapValue:{fields:s}}}function x1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof at||i instanceof Is||i instanceof Pn||i instanceof jt||i instanceof Ld||i instanceof Ds)}function jp(i,e,s){if(!x1(s)||!i_(s)){const r=Ed(s);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function zm(i,e,s){if((e=Yt(e))instanceof zd)return e._internalPath;if(typeof e=="string")return Rp(i,e);throw bd("Field path arguments must be of type string or ",i,!1,void 0,s)}const yC=new RegExp("[~\\*/\\[\\]]");function Rp(i,e,s){if(e.search(yC)>=0)throw bd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,s);try{return new zd(...e.split("."))._internalPath}catch{throw bd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,s)}}function bd(i,e,s,r,o){const u=r&&!r.isEmpty(),m=o!==void 0;let b=`Function ${e}() called with invalid data`;s&&(b+=" (via `toFirestore()`)"),b+=". ";let g="";return(u||m)&&(g+=" (found",u&&(g+=` in field ${r}`),m&&(g+=` in document ${o}`),g+=")"),new ce(te.INVALID_ARGUMENT,b+i+g)}function _1(i,e){return i.some((s=>s.isEqual(e)))}class w1{constructor(e,s,r,o,u){this._firestore=e,this._userDataWriter=s,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field(Ip("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class bC extends w1{data(){return super.data()}}function Ip(i,e){return typeof e=="string"?Rp(i,e):e instanceof zd?e._internalPath:e._delegate._internalPath}function T1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dp{}class vC extends Dp{}function xC(i,e,...s){let r=[];e instanceof Dp&&r.push(e),r=r.concat(s),(function(u){const m=u.filter((g=>g instanceof Mp)).length,b=u.filter((g=>g instanceof Pd)).length;if(m>1||m>0&&b>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class Pd extends vC{constructor(e,s,r){super(),this._field=e,this._op=s,this._value=r,this.type="where"}static _create(e,s,r){return new Pd(e,s,r)}_apply(e){const s=this._parse(e);return E1(e._query,s),new na(e.firestore,e.converter,Em(e._query,s))}_parse(e){const s=kp(e.firestore);return(function(u,m,b,g,y,_,N){let k;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){$v(N,_);const Z=[];for(const G of N)Z.push(Qv(g,u,G));k={arrayValue:{values:Z}}}else k=Qv(g,u,N)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||$v(N,_),k=gC(b,m,N,_==="in"||_==="not-in");return kt.create(y,_,k)})(e._query,"where",s,e.firestore._databaseId,this._field,this._op,this._value)}}function Yv(i,e,s){const r=e,o=Ip("where",i);return Pd._create(o,r,s)}class Mp extends Dp{constructor(e,s){super(),this.type=e,this._queryConstraints=s}static _create(e,s){return new Mp(e,s)}_parse(e){const s=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return s.length===1?s[0]:ts.create(s,this._getOperator())}_apply(e){const s=this._parse(e);return s.getFilters().length===0?e:((function(o,u){let m=o;const b=u.getFlattenedFilters();for(const g of b)E1(m,g),m=Em(m,g)})(e._query,s),new na(e.firestore,e.converter,Em(e._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Qv(i,e,s){if(typeof(s=Yt(s))=="string"){if(s==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__(e)&&s.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const r=e.path.child(st.fromString(s));if(!ye.isDocumentKey(r))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ov(i,new ye(r))}if(s instanceof jt)return ov(i,s._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ed(s)}.`)}function $v(i,e){if(!Array.isArray(i)||i.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function E1(i,e){const s=(function(o,u){for(const m of o)for(const b of m.getFlattenedFilters())if(u.indexOf(b.op)>=0)return b.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(s!==null)throw s===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${s.toString()}' filters.`)}class _C{convertValue(e,s="none"){switch(ar(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const r={};return cr(e,((o,u)=>{r[o]=this.convertValue(u,s)})),r}convertVectorValue(e){const s=e.fields?.[ud].arrayValue?.values?.map((r=>yt(r.doubleValue)));return new Ds(s)}convertGeoPoint(e){return new Is(yt(e.latitude),yt(e.longitude))}convertArray(e,s){return(e.values||[]).map((r=>this.convertValue(r,s)))}convertServerTimestamp(e,s){switch(s){case"previous":const r=Ad(e);return r==null?null:this.convertValue(r,s);case"estimate":return this.convertTimestamp(Po(e));default:return null}}convertTimestamp(e){const s=ir(e);return new at(s.seconds,s.nanos)}convertDocumentKey(e,s){const r=st.fromString(e);Ye(H_(r),9688,{name:e});const o=new Bo(r.get(1),r.get(3)),u=new ye(r.popFirst(5));return o.isEqual(s)||li(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),u}}function wC(i,e,s){let r;return r=i?i.toFirestore(e):e,r}class Co{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gr extends w1{constructor(e,s,r,o,u,m){super(e,s,r,o,m),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new Wu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const r=this._document.data.field(Ip("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,s={};return s.type=Gr._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}}Gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gr._jsonSchema={type:Ct("string",Gr._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Wu extends Gr{data(e={}){return super.data(e)}}class Kr{constructor(e,s,r,o){this._firestore=e,this._userDataWriter=s,this._snapshot=o,this.metadata=new Co(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((s=>e.push(s))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,s){this._snapshot.docs.forEach((r=>{e.call(s,new Wu(this._firestore,this._userDataWriter,r.key,r,new Co(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let m=0;return o._snapshot.docChanges.map((b=>{const g=new Wu(o._firestore,o._userDataWriter,b.doc.key,b.doc,new Co(o._snapshot.mutatedKeys.has(b.doc.key),o._snapshot.fromCache),o.query.converter);return b.doc,{type:"added",doc:g,oldIndex:-1,newIndex:m++}}))}{let m=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((b=>u||b.type!==3)).map((b=>{const g=new Wu(o._firestore,o._userDataWriter,b.doc.key,b.doc,new Co(o._snapshot.mutatedKeys.has(b.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return b.type!==0&&(y=m.indexOf(b.doc.key),m=m.delete(b.doc.key)),b.type!==1&&(m=m.add(b.doc),_=m.indexOf(b.doc.key)),{type:TC(b.type),doc:g,oldIndex:y,newIndex:_}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Kr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=tp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(s.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function TC(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:i})}}Kr._jsonSchemaVersion="firestore/querySnapshot/1.0",Kr._jsonSchema={type:Ct("string",Kr._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Op extends _C{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,s)}}function Xv(i){i=Cs(i,na);const e=Cs(i.firestore,Wr),s=Sp(e),r=new Op(e);return T1(i._query),lC(s,i._query).then((o=>new Kr(e,r,i,o)))}function EC(i,e,s,...r){i=Cs(i,jt);const o=Cs(i.firestore,Wr),u=kp(o);let m;return m=typeof(e=Yt(e))=="string"||e instanceof zd?pC(u,"updateDoc",i._key,e,s,r):mC(u,"updateDoc",i._key,e),Vp(o,[m.toMutation(i._key,es.exists(!0))])}function Zv(i){return Vp(Cs(i.firestore,Wr),[new cp(i._key,es.none())])}function NC(i,e){const s=Cs(i.firestore,Wr),r=Vm(i),o=wC(i.converter,e);return Vp(s,[fC(kp(i.firestore),"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,es.exists(!1))]).then((()=>r))}function Tn(i,...e){i=Yt(i);let s={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Gv(e[r])||(s=e[r++]);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Gv(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let u,m,b;if(i instanceof jt)m=Cs(i.firestore,Wr),b=lp(i._key.path),u={next:g=>{e[r]&&e[r](SC(m,i,g))},error:e[r+1],complete:e[r+2]};else{const g=Cs(i,na);m=Cs(g.firestore,Wr),b=g._query;const y=new Op(m);u={next:_=>{e[r]&&e[r](new Kr(m,y,g,_))},error:e[r+1],complete:e[r+2]},T1(i._query)}return(function(y,_,N,k){const L=new f1(k),Z=new i1(_,L,N);return y.asyncQueue.enqueueAndForget((async()=>n1(await Om(y),Z))),()=>{L.Nu(),y.asyncQueue.enqueueAndForget((async()=>s1(await Om(y),Z)))}})(Sp(m),b,o,u)}function Vp(i,e){return(function(r,o){const u=new tr;return r.asyncQueue.enqueueAndForget((async()=>$k(await aC(r),o,u))),u.promise})(Sp(i),e)}function SC(i,e,s){const r=s.docs.get(e._key),o=new Op(i);return new Gr(i,o,e._key,r,new Co(s.hasPendingWrites,s.fromCache),e.converter)}function Nn(){return new Cp("serverTimestamp")}(function(e,s=!0){(function(o){pl=o})(fl),rl(new $r("firestore",((r,{instanceIdentifier:o,options:u})=>{const m=r.getProvider("app").getImmediate(),b=new Wr(new pS(r.getProvider("auth-internal")),new bS(m,r.getProvider("app-check-internal")),(function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bo(y.options.projectId,_)})(m,o),m);return u={useFetchStreams:s,...u},b._setSettings(u),b}),"PUBLIC").setMultipleInstances(!0)),Wi($b,Xb,e),Wi($b,Xb,"esm2020")})();const AC=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kC=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,r)=>r?r.toUpperCase():s.toLowerCase()),Jv=i=>{const e=kC(i);return e.charAt(0).toUpperCase()+e.slice(1)},N1=(...i)=>i.filter((e,s,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===s).join(" ").trim(),CC=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var jC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const RC=oe.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:m,...b},g)=>oe.createElement("svg",{ref:g,...jC,width:e,height:e,stroke:i,strokeWidth:r?Number(s)*24/Number(e):s,className:N1("lucide",o),...!u&&!CC(b)&&{"aria-hidden":"true"},...b},[...m.map(([y,_])=>oe.createElement(y,_)),...Array.isArray(u)?u:[u]]));const me=(i,e)=>{const s=oe.forwardRef(({className:r,...o},u)=>oe.createElement(RC,{ref:u,iconNode:e,className:N1(`lucide-${AC(Jv(i))}`,`lucide-${i}`,r),...o}));return s.displayName=Jv(i),s};const IC=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],DC=me("activity",IC);const MC=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],vd=me("archive",MC);const OC=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],zp=me("arrow-down-right",OC);const VC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Vo=me("arrow-right",VC);const zC=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],LC=me("arrow-up-right",zC);const UC=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],S1=me("banknote",UC);const PC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],BC=me("book-open",PC);const qC=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],A1=me("box",qC);const HC=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Wv=me("calculator",HC);const FC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],k1=me("calendar",FC);const GC=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],KC=me("chart-pie",GC);const YC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Bd=me("check",YC);const QC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}],["path",{d:"M16 12H8",key:"1fr5h0"}]],qd=me("circle-arrow-left",QC);const $C=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],XC=me("circle-check-big",$C);const ZC=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],JC=me("clipboard-list",ZC);const WC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],C1=me("clock",WC);const ej=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],ac=me("coins",ej);const tj=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],nj=me("credit-card",tj);const sj=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ij=me("external-link",sj);const rj=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Lp=me("file-spreadsheet",rj);const aj=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],j1=me("funnel",aj);const lj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],R1=me("globe",lj);const oj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],I1=me("info",oj);const cj=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ex=me("layers",cj);const uj=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Hd=me("layout-dashboard",uj);const dj=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],D1=me("link",dj);const hj=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],M1=me("list-todo",hj);const fj=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],mj=me("log-in",fj);const pj=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],tx=me("map-pin",pj);const gj=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],yj=me("menu",gj);const bj=[["path",{d:"M5 12h14",key:"1ays0h"}]],vj=me("minus",bj);const xj=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],O1=me("moon",xj);const _j=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Yr=me("package",_j);const wj=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],nx=me("palette",wj);const Tj=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Lm=me("pen-tool",Tj);const Ej=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],Nj=me("pin",Ej);const Sj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ns=me("plus",Sj);const Aj=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Um=me("printer",Aj);const kj=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],V1=me("refresh-cw",kj);const Cj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],lc=me("search",Cj);const jj=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],z1=me("settings",jj);const Rj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Up=me("shield-alert",Rj);const Ij=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Pp=me("shopping-bag",Ij);const Dj=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Fd=me("shopping-cart",Dj);const Mj=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Oj=me("sparkles",Mj);const Vj=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Pm=me("square-pen",Vj);const zj=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],L1=me("store",zj);const Lj=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Bm=me("sun",Lj);const Uj=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],sn=me("trash-2",Uj);const Pj=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["rect",{width:"3",height:"9",x:"7",y:"7",key:"14n3xi"}],["rect",{width:"3",height:"5",x:"14",y:"7",key:"s4azjd"}]],Bp=me("trello",Pj);const Bj=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],qj=me("trending-down",Bj);const Hj=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],xd=me("trending-up",Hj);const Fj=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Gd=me("triangle-alert",Fj);const Gj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Kj=me("user",Gj);const Yj=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],qp=me("wallet",Yj);const Qj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ss=me("x",Qj);class $j extends oe.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){console.error("Uygulama Hatas:",e,s)}render(){return this.state.hasError?d.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-red-50 text-red-800 p-8 text-center",children:[d.jsx(Gd,{size:48,className:"mb-4"}),d.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Bir eyler ters gitti."}),d.jsx("p",{className:"mb-4",children:"Uygulama kt. Ltfen sayfay yenileyin."}),d.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-red-700",children:"Sayfay Yenile"})]}):this.props.children}}let Ya,el,Gi,Fr=!1;try{if(typeof __firebase_config<"u"&&__firebase_config){const i=JSON.parse(__firebase_config);Ya=mm(i),el=Yb(Ya),Gi=Kv(Ya),Fr=!0}else{const i={apiKey:"AIzaSyCt6qLthhCPMlQ5GYUdOQAbByb9HAlccbM",authDomain:"berilden-ede58.firebaseapp.com",projectId:"berilden-ede58",storageBucket:"berilden-ede58.firebasestorage.app",messagingSenderId:"59384339014",appId:"1:59384339014:web:ffa57c12d4b65f4b28c847",measurementId:"G-EK5M5X22JV"};i.apiKey&&i.apiKey!=="SZN_API_KEYNZ"&&(Ya=mm(i),el=Yb(Ya),Gi=Kv(Ya),Fr=!0)}}catch(i){console.error("Firebase Hatas:",i)}const Qa=typeof __app_id<"u"?__app_id:"berilden-store-v3",Fi=(i,e,s="success")=>{i({message:e,type:s}),setTimeout(()=>i(null),3e3)},Xj=({size:i,className:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),d.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),Zj=({children:i,onClose:e,title:s})=>d.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full sm:max-w-md rounded-t-2xl sm:rounded-2xl shadow-2xl flex flex-col max-h-[90vh] animate-slide-up",children:[d.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-slate-700",children:[d.jsx("h3",{className:"font-bold text-lg dark:text-white",children:s}),d.jsx("button",{onClick:e,className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:d.jsx(ss,{size:20,className:"text-slate-500 dark:text-slate-300"})})]}),d.jsx("div",{className:"p-4 overflow-y-auto custom-scrollbar",children:i})]})}),Jj=({onLogin:i,loading:e,error:s,setError:r})=>{const[o,u]=oe.useState(""),[m,b]=oe.useState("");return Fr?e?d.jsx("div",{className:"h-screen flex items-center justify-center text-orange-600 font-bold animate-pulse text-xl",children:"Ykleniyor..."}):d.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-100 p-4",children:d.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-sm",children:[d.jsx("h2",{className:"text-2xl font-bold text-center text-orange-600 mb-6",children:"BerildenStore"}),d.jsxs("form",{onSubmit:g=>{g.preventDefault(),i(o,m)},children:[d.jsx("input",{className:"w-full p-3 border rounded-lg mb-4",placeholder:"Kullanc Ad",value:o,onChange:g=>u(g.target.value)}),d.jsx("input",{className:"w-full p-3 border rounded-lg mb-6",type:"password",placeholder:"ifre",value:m,onChange:g=>b(g.target.value)}),d.jsxs("button",{className:"w-full py-3 bg-orange-600 text-white rounded-lg font-bold hover:bg-orange-700 transition-colors flex items-center justify-center gap-2",children:[d.jsx(mj,{size:18})," Giri Yap"]}),s&&d.jsx("p",{className:"text-red-500 text-center mt-3 text-sm",children:s})]})]})}):d.jsxs("div",{className:"h-screen flex items-center justify-center text-red-500 font-bold p-4 text-center",children:["Veritaban Balants Yok",d.jsx("br",{}),d.jsx("span",{className:"text-sm font-normal text-slate-500",children:"Ltfen API Key ayarlarn kontrol edin."})]})},Wj=({data:i,setActiveTab:e})=>{const{items:s,orders:r,recentSales:o,markets:u,expenses:m,shoppingList:b,printers:g,printJobs:y}=i,_=o.reduce((T,I)=>T+(Number(I.totalPrice)||0),0)+u.reduce((T,I)=>T+(Number(I.totalRevenue)||0),0),N=m.reduce((T,I)=>T+(Number(I.amount)||0),0)+u.reduce((T,I)=>T+(Number(I.totalExpenses)||0),0),k=_-N,L=s.filter(T=>T.stock<3),Z=r.filter(T=>T.status==="new"||T.status==="processing"),G=b.filter(T=>!T.completed&&T.priority==="high"),D=g.filter(T=>T.status==="printing"),$=oe.useMemo(()=>{const T={},I=new Date;return I.setDate(I.getDate()-30),o.forEach(se=>{(se.createdAt?new Date(se.createdAt.seconds*1e3):new Date(se.date))>=I&&(T[se.productName]=(T[se.productName]||0)+(Number(se.quantity)||1))}),Object.entries(T).map(([se,ie])=>({name:se,qty:ie})).sort((se,ie)=>ie.qty-se.qty).slice(0,3)},[o]);return d.jsxs("div",{className:"space-y-6 animate-in fade-in pb-24",children:[d.jsxs("div",{className:"flex justify-between items-end",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Hd,{className:"text-orange-600"})," Kontrol Paneli"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Operasyonel durum zeti."})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase",children:"Bugn"}),d.jsx("p",{className:"text-sm font-bold dark:text-white",children:new Date().toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border dark:border-slate-700 shadow-sm relative overflow-hidden",children:[d.jsx("div",{className:"absolute right-0 top-0 p-3 opacity-5 text-orange-600",children:d.jsx(ac,{size:80})}),d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase mb-1",children:"Ciro"}),d.jsxs("p",{className:"text-2xl font-black text-slate-800 dark:text-white",children:[_,""]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border dark:border-slate-700 shadow-sm relative overflow-hidden",children:[d.jsx("div",{className:"absolute right-0 top-0 p-3 opacity-5 text-blue-600",children:d.jsx(qp,{size:80})}),d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase mb-1",children:"Net Kr"}),d.jsxs("p",{className:`text-2xl font-black ${k>=0?"text-blue-600":"text-red-500"}`,children:[k,""]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border dark:border-slate-700 shadow-sm relative overflow-hidden",children:[d.jsx("div",{className:"absolute right-0 top-0 p-3 opacity-5 text-purple-600",children:d.jsx(Bp,{size:80})}),d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase mb-1",children:"Sipari"}),d.jsx("p",{className:"text-2xl font-black text-slate-800 dark:text-white",children:Z.length}),d.jsx("p",{className:"text-[10px] text-orange-500 font-bold",children:"lem Bekliyor"})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border dark:border-slate-700 shadow-sm relative overflow-hidden",children:[d.jsx("div",{className:"absolute right-0 top-0 p-3 opacity-5 text-green-600",children:d.jsx(Um,{size:80})}),d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase mb-1",children:"Atlye"}),d.jsxs("p",{className:"text-2xl font-black text-slate-800 dark:text-white",children:[D.length," / ",g.length]}),d.jsx("p",{className:"text-[10px] text-green-500 font-bold",children:"Cihaz alyor"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-full",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm flex flex-col h-full min-h-[400px]",children:[d.jsxs("h3",{className:"font-bold text-lg mb-4 dark:text-white flex items-center gap-2",children:[d.jsx(Up,{size:20,className:"text-red-500"})," Aksiyon Merkezi"]}),d.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-3 pr-1",children:[L.length>0&&d.jsxs("div",{onClick:()=>e("inventory"),className:"p-4 bg-red-50 dark:bg-red-900/10 border border-red-100 dark:border-red-900/30 rounded-xl flex items-center gap-4 cursor-pointer hover:bg-red-100 transition-colors group",children:[d.jsx("div",{className:"bg-white dark:bg-red-900/40 p-3 rounded-xl text-red-500 shadow-sm",children:d.jsx(Gd,{size:24})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-bold text-red-700 dark:text-red-300 group-hover:underline",children:"Kritik Stok Seviyesi"}),d.jsxs("p",{className:"text-xs text-red-600/70 dark:text-red-400",children:[L.length," rn tkenmek zere."]})]}),d.jsx(Vo,{size:18,className:"text-red-400"})]}),Z.length>0&&d.jsxs("div",{onClick:()=>e("orders"),className:"p-4 bg-orange-50 dark:bg-orange-900/10 border border-orange-100 dark:border-orange-900/30 rounded-xl flex items-center gap-4 cursor-pointer hover:bg-orange-100 transition-colors group",children:[d.jsx("div",{className:"bg-white dark:bg-orange-900/40 p-3 rounded-xl text-orange-500 shadow-sm",children:d.jsx(C1,{size:24})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-bold text-orange-700 dark:text-orange-300 group-hover:underline",children:"Bekleyen Sipariler"}),d.jsxs("p",{className:"text-xs text-orange-600/70 dark:text-orange-400",children:[Z.length," sipari hazrlanmal."]})]}),d.jsx(Vo,{size:18,className:"text-orange-400"})]}),G.length>0&&d.jsxs("div",{onClick:()=>e("shopping"),className:"p-4 bg-yellow-50 dark:bg-yellow-900/10 border border-yellow-100 dark:border-yellow-900/30 rounded-xl flex items-center gap-4 cursor-pointer hover:bg-yellow-100 transition-colors group",children:[d.jsx("div",{className:"bg-white dark:bg-yellow-900/40 p-3 rounded-xl text-yellow-600 shadow-sm",children:d.jsx(Pp,{size:24})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-bold text-yellow-700 dark:text-yellow-300 group-hover:underline",children:"Acil Malzeme htiyac"}),d.jsxs("p",{className:"text-xs text-yellow-600/70 dark:text-yellow-400",children:[G.length," acil ncelikli malzeme alnmal."]})]}),d.jsx(Vo,{size:18,className:"text-yellow-400"})]}),L.length===0&&Z.length===0&&G.length===0&&d.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-400 h-full",children:[d.jsx(XC,{size:48,className:"mb-4 text-green-500 opacity-50"}),d.jsx("p",{className:"font-bold text-slate-500",children:"Harika!"}),d.jsx("p",{className:"text-sm",children:"u an acil bir durum yok."})]})]})]}),d.jsxs("div",{className:"flex flex-col gap-6",children:[d.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 text-white p-6 rounded-2xl shadow-lg relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:d.jsx(xd,{size:100})}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[d.jsx(xd,{size:20,className:"text-yellow-300"})," Son 30 Gnn Yldzlar"]}),d.jsxs("div",{className:"space-y-3",children:[$.map((T,I)=>d.jsxs("div",{className:"flex items-center gap-3 bg-white/10 p-3 rounded-xl backdrop-blur-sm border border-white/10",children:[d.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-black text-sm shadow-sm ${I===0?"bg-yellow-400 text-yellow-900":I===1?"bg-slate-300 text-slate-800":"bg-orange-300 text-orange-900"}`,children:I+1}),d.jsx("div",{className:"flex-1 min-w-0",children:d.jsx("p",{className:"font-bold text-sm truncate",children:T.name})}),d.jsxs("div",{className:"bg-white/20 px-2 py-1 rounded text-xs font-bold",children:[T.qty," Adet"]})]},I)),$.length===0&&d.jsx("p",{className:"text-sm opacity-70 text-center py-4",children:"Henz yeterli sat verisi yok."})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"font-bold text-lg dark:text-white flex items-center gap-2",children:[d.jsx(Um,{size:20,className:"text-slate-500"})," Atlye"]}),d.jsx("button",{onClick:()=>e("workshop"),className:"text-xs bg-slate-100 dark:bg-slate-700 px-3 py-1 rounded-lg hover:bg-slate-200",children:"Ynet"})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[g.slice(0,6).map(T=>d.jsxs("div",{className:`p-2 rounded-lg border flex flex-col items-center text-center transition-all ${T.status==="printing"?"bg-green-50 border-green-200":"bg-slate-50 dark:bg-slate-900 border-slate-200 dark:border-slate-700"}`,children:[d.jsx("div",{className:`w-2 h-2 rounded-full mb-1 ${T.status==="printing"?"bg-green-500 animate-pulse":T.status==="maintenance"?"bg-red-500":"bg-slate-300"}`}),d.jsx("span",{className:"text-[10px] font-bold dark:text-white truncate w-full",children:T.name})]},T.id)),g.length===0&&d.jsx("div",{className:"col-span-3 text-center text-xs text-slate-400",children:"Yazc yok."})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{onClick:()=>e("sales"),className:"bg-white dark:bg-slate-800 border dark:border-slate-700 hover:border-blue-400 p-3 rounded-xl flex flex-col items-center justify-center gap-1 transition-colors group shadow-sm",children:[d.jsx(Fd,{size:20,className:"text-slate-400 group-hover:text-blue-500"}),d.jsx("span",{className:"text-xs font-bold dark:text-white",children:"Sat Yap"})]}),d.jsxs("button",{onClick:()=>e("orders"),className:"bg-white dark:bg-slate-800 border dark:border-slate-700 hover:border-blue-400 p-3 rounded-xl flex flex-col items-center justify-center gap-1 transition-colors group shadow-sm",children:[d.jsx(ns,{size:20,className:"text-slate-400 group-hover:text-blue-500"}),d.jsx("span",{className:"text-xs font-bold dark:text-white",children:"Sipari Al"})]})]})]})]})]})},e4=({items:i,ops:e})=>{const[s,r]=oe.useState(""),[o,u]=oe.useState("Tm"),[m,b]=oe.useState("list"),[g,y]=oe.useState(!1),[_,N]=oe.useState({}),k=["Tm",...new Set(i.map(T=>T.type||"Genel").filter(T=>T))],L=i.filter(T=>{const I=T.name.toLowerCase().includes(s.toLowerCase()),se=o==="Tm"||T.type===o;return I&&se}),Z=i.reduce((T,I)=>T+Number(I.sellPrice||0)*Number(I.stock||0),0),G=i.filter(T=>T.stock<3).length,D=()=>{_.id?e.update("inventory",_.id,_):e.add("inventory",_),y(!1)},$=(T,I)=>{const se=Number(T.stock)+I;se<0||e.update("inventory",T.id,{stock:se})};return d.jsxs("div",{className:"space-y-6 animate-in fade-in pb-20",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Toplam rn"}),d.jsx("p",{className:"text-2xl font-black dark:text-white",children:i.length})]}),d.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg text-blue-600",children:d.jsx(Yr,{size:24})})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Stok Deeri"}),d.jsxs("p",{className:"text-2xl font-black text-purple-600",children:[Z,""]})]}),d.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg text-purple-600",children:d.jsx(ac,{size:24})})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Kritik Stok"}),d.jsx("p",{className:`text-2xl font-black ${G>0?"text-red-600":"text-green-600"}`,children:G})]}),d.jsx("div",{className:`p-3 rounded-lg ${G>0?"bg-red-50 text-red-600":"bg-green-50 text-green-600"}`,children:d.jsx(Gd,{size:24})})]})]}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700",children:[d.jsx("div",{className:"flex gap-2 w-full md:w-auto overflow-x-auto pb-2 md:pb-0",children:k.map(T=>d.jsx("button",{type:"button",onClick:()=>u(T),className:`px-4 py-2 rounded-lg text-sm font-bold transition-colors whitespace-nowrap ${o===T?"bg-slate-800 text-white dark:bg-white dark:text-slate-900":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-300 hover:bg-slate-200"}`,children:T},T))}),d.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(lc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),d.jsx("input",{className:"w-full pl-10 pr-4 py-2 bg-slate-100 dark:bg-slate-700 dark:text-white rounded-lg outline-none focus:ring-2 focus:ring-blue-100",placeholder:"Ara...",value:s,onChange:T=>r(T.target.value)})]}),d.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 rounded-lg p-1",children:[d.jsx("button",{type:"button",onClick:()=>b("list"),className:`p-2 rounded-md transition-all ${m==="list"?"bg-white dark:bg-slate-600 shadow-sm text-blue-600":"text-slate-400"}`,children:d.jsx(M1,{size:18})}),d.jsx("button",{type:"button",onClick:()=>b("grid"),className:`p-2 rounded-md transition-all ${m==="grid"?"bg-white dark:bg-slate-600 shadow-sm text-blue-600":"text-slate-400"}`,children:d.jsx(Hd,{size:18})})]}),d.jsxs("button",{type:"button",onClick:()=>{N({}),y(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-bold hover:bg-blue-700 transition-colors flex items-center gap-2",children:[d.jsx(ns,{size:20})," ",d.jsx("span",{className:"hidden lg:inline",children:"Ekle"})]})]})]}),m==="list"&&d.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border dark:border-slate-700 overflow-hidden shadow-sm",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 text-slate-500",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-4",children:"rn"}),d.jsx("th",{className:"p-4",children:"Kategori"}),d.jsx("th",{className:"p-4 text-center",children:"Stok Ynetimi"}),d.jsx("th",{className:"p-4 text-right",children:"Fiyat"}),d.jsx("th",{className:"p-4 text-right",children:"lem"})]})}),d.jsx("tbody",{children:L.map(T=>d.jsxs("tr",{className:"border-t dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors group",children:[d.jsxs("td",{className:"p-4 font-bold dark:text-white flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-100 dark:bg-slate-600 flex items-center justify-center overflow-hidden",children:T.imageUrl?d.jsx("img",{src:T.imageUrl,className:"w-full h-full object-cover"}):d.jsx(Yr,{className:"text-slate-400"})}),T.name]}),d.jsx("td",{className:"p-4 text-slate-500",children:d.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded text-xs",children:T.type||"Genel"})}),d.jsx("td",{className:"p-4",children:d.jsxs("div",{className:"flex items-center justify-center gap-3",children:[d.jsx("button",{type:"button",onClick:()=>$(T,-1),className:"w-6 h-6 rounded bg-slate-100 dark:bg-slate-700 hover:bg-red-100 hover:text-red-600 flex items-center justify-center font-bold text-slate-500 transition-colors",children:"-"}),d.jsx("span",{className:`w-8 text-center font-bold ${T.stock<3?"text-red-500":"dark:text-white"}`,children:T.stock}),d.jsx("button",{type:"button",onClick:()=>$(T,1),className:"w-6 h-6 rounded bg-slate-100 dark:bg-slate-700 hover:bg-green-100 hover:text-green-600 flex items-center justify-center font-bold text-slate-500 transition-colors",children:"+"})]})}),d.jsxs("td",{className:"p-4 text-right font-mono font-bold text-slate-700 dark:text-slate-300",children:[T.sellPrice,""]}),d.jsx("td",{className:"p-4 text-right",children:d.jsxs("div",{className:"flex justify-end gap-2 opacity-50 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{type:"button",onClick:()=>{N(T),y(!0)},className:"p-2 hover:bg-blue-50 text-blue-500 rounded-lg transition-colors",children:d.jsx(Pm,{size:16})}),d.jsx("button",{type:"button",onClick:()=>e.delete(T.id,"inventory"),className:"p-2 hover:bg-red-50 text-red-500 rounded-lg transition-colors",children:d.jsx(sn,{size:16})})]})})]},T.id))})]})}),m==="grid"&&d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:L.map(T=>d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border dark:border-slate-700 overflow-hidden hover:shadow-lg transition-all group relative flex flex-col",children:[d.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:[d.jsx("button",{type:"button",onClick:()=>{N(T),y(!0)},className:"p-1.5 bg-white/90 text-blue-500 rounded-lg shadow-sm",children:d.jsx(Pm,{size:14})}),d.jsx("button",{type:"button",onClick:()=>e.delete(T.id,"inventory"),className:"p-1.5 bg-white/90 text-red-500 rounded-lg shadow-sm",children:d.jsx(sn,{size:14})})]}),d.jsxs("div",{className:"aspect-square bg-slate-100 dark:bg-slate-700 flex items-center justify-center relative overflow-hidden",children:[T.imageUrl?d.jsx("img",{src:T.imageUrl,className:"w-full h-full object-cover"}):d.jsx(Yr,{size:48,className:"text-slate-300"}),T.stock<3&&d.jsx("div",{className:"absolute bottom-2 left-2 bg-red-500 text-white text-[10px] px-2 py-0.5 rounded-full font-bold shadow-sm",children:"Kritik Stok"})]}),d.jsxs("div",{className:"p-3 flex flex-col flex-1",children:[d.jsxs("div",{className:"flex justify-between items-start mb-1",children:[d.jsx("span",{className:"text-[10px] bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 rounded text-slate-500",children:T.type||"Genel"}),d.jsxs("span",{className:"font-bold text-blue-600",children:[T.sellPrice,""]})]}),d.jsx("h4",{className:"font-bold text-sm dark:text-white line-clamp-2 mb-2 flex-1",children:T.name}),d.jsxs("div",{className:"flex items-center justify-between bg-slate-50 dark:bg-slate-900/50 rounded-lg p-1",children:[d.jsx("button",{type:"button",onClick:()=>$(T,-1),className:"w-6 h-6 flex items-center justify-center hover:bg-white dark:hover:bg-slate-700 rounded text-slate-500",children:"-"}),d.jsxs("span",{className:`text-xs font-bold ${T.stock<3?"text-red-500":"dark:text-white"}`,children:[T.stock," Adet"]}),d.jsx("button",{type:"button",onClick:()=>$(T,1),className:"w-6 h-6 flex items-center justify-center hover:bg-white dark:hover:bg-slate-700 rounded text-slate-500",children:"+"})]})]})]},T.id))}),g&&d.jsx(Zj,{title:_.id?"rn Dzenle":"Yeni rn",onClose:()=>y(!1),children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("input",{className:"w-full p-4 bg-slate-50 dark:bg-slate-700 rounded-xl font-bold dark:text-white outline-none",placeholder:"rn Ad",value:_.name||"",onChange:T=>N({..._,name:T.target.value})}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"text-xs font-bold text-slate-400 ml-1 uppercase",children:"Stok"}),d.jsx("input",{type:"number",inputMode:"decimal",className:"w-full p-3 bg-slate-50 dark:bg-slate-700 rounded-xl outline-none",value:_.stock||"",onChange:T=>N({..._,stock:T.target.value})})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"text-xs font-bold text-slate-400 ml-1 uppercase",children:"Fiyat ()"}),d.jsx("input",{type:"number",inputMode:"decimal",className:"w-full p-3 bg-slate-50 dark:bg-slate-700 rounded-xl outline-none font-bold text-blue-600",value:_.sellPrice||"",onChange:T=>N({..._,sellPrice:T.target.value})})]})]}),d.jsx("input",{className:"w-full p-3 bg-slate-50 dark:bg-slate-700 rounded-xl outline-none text-sm",placeholder:"Kategori (3D, Elektronik...)",value:_.type||"",onChange:T=>N({..._,type:T.target.value})}),d.jsx("input",{className:"w-full p-3 bg-slate-50 dark:bg-slate-700 rounded-xl outline-none text-sm",placeholder:"Resim URL",value:_.imageUrl||"",onChange:T=>N({..._,imageUrl:T.target.value})}),d.jsx("div",{className:"flex gap-3 pt-2",children:d.jsx("button",{onClick:D,className:"w-full py-3 bg-blue-600 text-white rounded-xl font-bold shadow-lg shadow-blue-200 dark:shadow-none active:scale-95 transition-transform",children:"Kaydet"})})]})})]})},t4=({items:i,ops:e})=>{const[s,r]=oe.useState([]),[o,u]=oe.useState(""),[m,b]=oe.useState("Tm"),[g,y]=oe.useState(!1),[_,N]=oe.useState({name:"",price:""}),k=["Tm",...new Set(i.map(I=>I.type||"Genel").filter(I=>I))],L=i.filter(I=>{const se=I.name.toLowerCase().includes(o.toLowerCase()),ie=m==="Tm"||I.type===m;return se&&ie}),Z=I=>{const se=s.find(ie=>ie.id===I.id);if(se){if(!I.isManual&&se.qty>=I.stock)return alert("Stok yetersiz!");r(s.map(ie=>ie.id===I.id?{...ie,qty:ie.qty+1}:ie))}else r([...s,{...I,qty:1}])},G=(I,se)=>{const ie=s.find(C=>C.id===I);if(!ie)return;const pe=ie.qty+se;if(pe<=0){r(s.filter(C=>C.id!==I));return}if(!ie.isManual&&pe>ie.stock){alert("Stok snrna ulald!");return}r(s.map(C=>C.id===I?{...C,qty:pe}:C))},D=()=>{if(!_.name||!_.price)return;const I={id:`manual_${Date.now()}`,name:_.name,sellPrice:Number(_.price),stock:9999,isManual:!0,imageUrl:null};Z(I),N({name:"",price:""}),y(!1)},$=async I=>{if(s.length===0)return;const se=s.reduce((ie,pe)=>ie+pe.sellPrice*pe.qty,0);await Promise.all(s.map(async ie=>{ie.isManual||await e.update("inventory",ie.id,{stock:Number(ie.stock)-ie.qty}),await e.add("sales_history",{productName:ie.name,quantity:ie.qty,totalPrice:ie.sellPrice*ie.qty,unitPrice:ie.sellPrice,platform:I==="Cash"?"Kasa (Nakit)":"Kasa (Kart)",date:new Date().toLocaleDateString("tr-TR"),paymentMethod:I})})),r([]),alert(`Sat Baarl! 
Toplam: ${se} 
deme: ${I==="Cash"?"Nakit":"Kredi Kart"}`)},T=s.reduce((I,se)=>I+se.sellPrice*se.qty,0);return d.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-[calc(100vh-140px)] animate-in fade-in pb-20",children:[d.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-800 rounded-2xl border dark:border-slate-700 flex flex-col overflow-hidden shadow-sm",children:[d.jsxs("div",{className:"p-4 border-b dark:border-slate-700 flex flex-col gap-4",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(lc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),d.jsx("input",{className:"w-full pl-10 pr-4 py-3 bg-slate-100 dark:bg-slate-900 dark:text-white rounded-xl outline-none focus:ring-2 focus:ring-blue-100",placeholder:"rn barkodu veya ad ara...",value:o,onChange:I=>u(I.target.value),autoFocus:!0})]}),d.jsxs("button",{type:"button",onClick:()=>y(!0),className:"bg-purple-100 text-purple-600 px-4 rounded-xl font-bold hover:bg-purple-200 transition-colors flex items-center gap-2 whitespace-nowrap",children:[d.jsx(Lm,{size:18})," ",d.jsx("span",{className:"hidden sm:inline",children:"Manuel Ekle"})]})]}),d.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 custom-scrollbar",children:k.map(I=>d.jsx("button",{type:"button",onClick:()=>b(I),className:`px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap transition-colors ${m===I?"bg-slate-800 text-white dark:bg-white dark:text-slate-900":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-300 hover:bg-slate-200"}`,children:I},I))})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar bg-slate-50 dark:bg-slate-900/50",children:d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:L.map(I=>d.jsxs("button",{type:"button",onClick:()=>Z(I),disabled:I.stock<=0,className:"bg-white dark:bg-slate-800 p-3 rounded-xl border dark:border-slate-700 hover:border-blue-500 hover:shadow-md dark:hover:border-blue-500 text-left disabled:opacity-50 disabled:cursor-not-allowed transition-all group flex flex-col h-full relative",children:[I.stock>0&&d.jsx("span",{className:"absolute top-2 right-2 bg-slate-100 dark:bg-slate-700 text-[10px] font-bold px-1.5 py-0.5 rounded text-slate-500",children:I.stock}),I.stock<=0&&d.jsx("span",{className:"absolute top-2 right-2 bg-red-100 text-red-600 text-[10px] font-bold px-1.5 py-0.5 rounded",children:"Tkendi"}),d.jsx("div",{className:"aspect-square bg-slate-100 dark:bg-slate-700 mb-3 rounded-lg flex items-center justify-center overflow-hidden",children:I.imageUrl?d.jsx("img",{src:I.imageUrl,className:"h-full w-full object-cover group-hover:scale-105 transition-transform"}):d.jsx(Yr,{className:"text-slate-300",size:32})}),d.jsx("div",{className:"font-bold text-sm text-slate-800 dark:text-white line-clamp-2 flex-1 mb-1",children:I.name}),d.jsxs("div",{className:"text-blue-600 font-black text-lg",children:[I.sellPrice,""]})]},I.id))})})]}),d.jsxs("div",{className:"w-full lg:w-96 bg-white dark:bg-slate-800 rounded-2xl border dark:border-slate-700 flex flex-col shadow-xl",children:[d.jsxs("div",{className:"p-5 border-b dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 rounded-t-2xl flex justify-between items-center",children:[d.jsxs("h3",{className:"font-black text-lg flex items-center gap-2 dark:text-white",children:[d.jsx(Pp,{className:"text-blue-600"})," Sat Sepeti"]}),s.length>0&&d.jsx("button",{type:"button",onClick:()=>r([]),className:"text-red-500 text-xs font-bold hover:bg-red-50 px-2 py-1 rounded transition-colors",children:"Sepeti Temizle"})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar",children:s.length===0?d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 opacity-50 space-y-4",children:[d.jsx(Fd,{size:64,strokeWidth:1}),d.jsx("p",{children:"Sepete rn ekleyin"})]}):s.map(I=>d.jsxs("div",{className:"flex flex-col bg-white dark:bg-slate-700 p-3 rounded-xl border border-slate-100 dark:border-slate-600 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("span",{className:"font-bold text-sm dark:text-white line-clamp-2",children:I.name}),d.jsxs("span",{className:"font-bold text-blue-600",children:[I.sellPrice*I.qty,""]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"text-xs text-slate-400",children:[I.sellPrice," / adet"]}),d.jsxs("div",{className:"flex items-center gap-3 bg-slate-100 dark:bg-slate-800 rounded-lg p-1",children:[d.jsx("button",{type:"button",onClick:()=>G(I.id,-1),className:"w-6 h-6 flex items-center justify-center hover:bg-white dark:hover:bg-slate-700 rounded text-slate-500 transition-colors",children:d.jsx(vj,{size:14})}),d.jsx("span",{className:"w-6 text-center font-bold text-sm dark:text-white",children:I.qty}),d.jsx("button",{type:"button",onClick:()=>G(I.id,1),className:"w-6 h-6 flex items-center justify-center hover:bg-white dark:hover:bg-slate-700 rounded text-slate-500 transition-colors",children:d.jsx(ns,{size:14})})]})]})]},I.id))}),d.jsxs("div",{className:"p-5 border-t dark:border-slate-700 bg-slate-50 dark:bg-slate-900/30 rounded-b-2xl",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("span",{className:"text-slate-500 font-bold",children:"TOPLAM TUTAR"}),d.jsxs("span",{className:"text-3xl font-black text-slate-800 dark:text-white",children:[T,""]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{type:"button",onClick:()=>$("Cash"),disabled:s.length===0,className:"py-4 bg-green-600 text-white rounded-xl font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:bg-green-700 transition-all flex flex-col items-center justify-center gap-1 active:scale-95",children:[d.jsx(S1,{size:24}),d.jsx("span",{children:"NAKT"})]}),d.jsxs("button",{type:"button",onClick:()=>$("Card"),disabled:s.length===0,className:"py-4 bg-blue-600 text-white rounded-xl font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-700 transition-all flex flex-col items-center justify-center gap-1 active:scale-95",children:[d.jsx(nj,{size:24}),d.jsx("span",{children:"KART"})]})]})]})]}),g&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl w-full max-w-sm shadow-2xl animate-in zoom-in-95",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("h3",{className:"font-bold text-xl dark:text-white flex items-center gap-2",children:[d.jsx(Lm,{size:20,className:"text-purple-600"})," Manuel Sat"]}),d.jsx("button",{type:"button",onClick:()=>y(!1),className:"text-slate-400 hover:text-slate-600",children:d.jsx(ss,{})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"rn / Hizmet Ad"}),d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white outline-none focus:border-purple-500",placeholder:"rn: Hediye Paketi",value:_.name,onChange:I=>N({..._,name:I.target.value}),autoFocus:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Fiyat ()"}),d.jsx("input",{type:"number",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white outline-none focus:border-purple-500",placeholder:"0.00",value:_.price,onChange:I=>N({..._,price:I.target.value})})]}),d.jsx("button",{type:"button",onClick:D,className:"w-full py-3 bg-purple-600 text-white rounded-xl font-bold mt-2 hover:bg-purple-700 transition-colors",children:"Sepete Ekle"})]})]})})]})},n4=({orders:i,ops:e})=>{const[s,r]=oe.useState(""),[o,u]=oe.useState("Tm"),[m,b]=oe.useState(!1),[g,y]=oe.useState({}),_=["Instagram","Shopier","Dolap","Etsy","Trendyol","Hepsiburada","ieksepeti","Dier"],N=i.filter(D=>{const $=(D.customerName||"").toLowerCase().includes(s.toLowerCase())||(D.productName||"").toLowerCase().includes(s.toLowerCase()),T=o==="Tm"||D.platform===o;return $&&T}),k=N.filter(D=>D.status!=="completed"&&D.status!=="cancelled").reduce((D,$)=>D+(Number($.price)||0),0),L=()=>{const D={...g,createdAt:g.createdAt||Nn(),status:g.status||"new"};g.id?e.update("orders",g.id,D):e.add("orders",D),b(!1),y({})},Z=()=>{if(N.length===0)return alert("Listede indirilecek sipari yok.");let D=`Sipari Tarihi;Mteri Ad;Tutar;Platform;rn;Sipari No;Durum
`;N.forEach(se=>{const pe=[se.createdAt?.seconds?new Date(se.createdAt.seconds*1e3).toLocaleDateString("tr-TR"):"-",`"${se.customerName}"`,`${se.price}`.replace(".",","),se.platform,`"${se.productName}"`,`"${se.note||""}"`,se.status==="new"?"Yeni":se.status==="processing"?"Hazrlanyor":"Tamamland"].join(";");D+=pe+`
`});const $=new Blob(["\uFEFF"+D],{type:"text/csv;charset=utf-8;"}),T=URL.createObjectURL($),I=document.createElement("a");I.setAttribute("href",T),I.setAttribute("download",`Siparis_Listesi_${new Date().toLocaleDateString("tr-TR")}.csv`),document.body.appendChild(I),I.click(),document.body.removeChild(I)},G=D=>{switch(D){case"Trendyol":return"bg-orange-100 text-orange-600 border-orange-200";case"Hepsiburada":return"bg-orange-100 text-orange-800 border-orange-200";case"ieksepeti":return"bg-blue-100 text-blue-600 border-blue-200";case"Instagram":return"bg-pink-100 text-pink-600 border-pink-200";case"Shopier":return"bg-blue-100 text-blue-600 border-blue-200";default:return"bg-slate-100 text-slate-600 border-slate-200"}};return d.jsxs("div",{className:"space-y-6 animate-in fade-in h-[calc(100vh-140px)] flex flex-col",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[d.jsxs("div",{className:"relative flex-1 md:w-64",children:[d.jsx(lc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),d.jsx("input",{className:"w-full pl-10 pr-4 py-2 bg-slate-100 dark:bg-slate-900 dark:text-white rounded-lg outline-none focus:ring-2 focus:ring-blue-100",placeholder:"Sipari, Mteri Ara...",value:s,onChange:D=>r(D.target.value)})]}),d.jsxs("select",{className:"p-2 bg-slate-100 dark:bg-slate-900 dark:text-white rounded-lg outline-none border-none text-sm font-medium",value:o,onChange:D=>u(D.target.value),children:[d.jsx("option",{value:"Tm",children:"Tm Platformlar"}),_.map(D=>d.jsx("option",{value:D,children:D},D))]})]}),d.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto justify-between md:justify-end",children:[d.jsxs("div",{className:"text-right hidden md:block",children:[d.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Bekleyen Ciro"}),d.jsxs("p",{className:"font-bold text-lg text-blue-600",children:[k,""]})]}),d.jsxs("button",{type:"button",onClick:Z,className:"bg-green-600 text-white px-4 py-2 rounded-lg font-bold hover:bg-green-700 transition-colors flex items-center gap-2",children:[d.jsx(Lp,{size:20})," ",d.jsx("span",{className:"hidden sm:inline",children:"Excel ndir"})]}),d.jsxs("button",{type:"button",onClick:()=>{y({status:"new",platform:"Instagram"}),b(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-bold hover:bg-blue-700 transition-colors flex items-center gap-2",children:[d.jsx(ns,{size:20})," ",d.jsx("span",{className:"hidden sm:inline",children:"Manuel Ekle"})]})]})]}),d.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 flex-1 custom-scrollbar",children:["new","processing","shipped","completed"].map(D=>{const $={new:"Yeni Sipari",processing:"Hazrlanyor",shipped:"Kargoland",completed:"Tamamland"},T={new:"border-blue-200 bg-blue-50 text-blue-700",processing:"border-yellow-200 bg-yellow-50 text-yellow-700",shipped:"border-purple-200 bg-purple-50 text-purple-700",completed:"border-green-200 bg-green-50 text-green-700"};return d.jsxs("div",{className:"min-w-[300px] w-full md:w-1/4 bg-slate-50 dark:bg-slate-800/50 rounded-xl border dark:border-slate-700 flex flex-col h-full",children:[d.jsxs("div",{className:"p-3 font-bold uppercase text-xs border-b dark:border-slate-700 flex justify-between items-center rounded-t-xl bg-white dark:bg-slate-800 dark:text-white",children:[d.jsx("span",{className:`px-2 py-1 rounded border ${T[D].replace("text-","text-opacity-80 ")} bg-white`,children:$[D]}),d.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded text-slate-600 dark:text-slate-300",children:N.filter(I=>I.status===D).length})]}),d.jsxs("div",{className:"p-2 space-y-3 overflow-y-auto flex-1 custom-scrollbar",children:[N.filter(I=>I.status===D).map(I=>d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm group relative hover:shadow-md transition-all",children:[d.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white dark:bg-slate-800 p-1 rounded-lg shadow-sm z-10",children:[d.jsx("button",{type:"button",onClick:()=>{y(I),b(!0)},className:"p-1.5 hover:bg-blue-50 text-blue-500 rounded",children:d.jsx(Pm,{size:14})}),d.jsx("button",{type:"button",onClick:()=>e.delete(I.id,"orders"),className:"p-1.5 hover:bg-red-50 text-red-500 rounded",children:d.jsx(sn,{size:14})})]}),d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded border ${G(I.platform)}`,children:I.platform}),d.jsx("span",{className:"text-[10px] text-slate-400",children:I.createdAt?.seconds?new Date(I.createdAt.seconds*1e3).toLocaleDateString("tr-TR"):"-"})]}),d.jsxs("div",{className:"mb-3",children:[d.jsx("h4",{className:"font-bold text-sm text-slate-800 dark:text-white line-clamp-1",children:I.customerName}),d.jsx("p",{className:"text-xs text-slate-500 line-clamp-2 mt-0.5",children:I.productName})]}),I.note&&d.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-2 rounded-lg mb-3 border border-amber-100 dark:border-amber-800/30",children:d.jsxs("p",{className:"text-[10px] text-amber-700 dark:text-amber-400 italic flex gap-1",children:[d.jsx(I1,{size:12,className:"shrink-0 mt-0.5"})," ",I.note]})}),d.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-dashed dark:border-slate-700",children:[d.jsxs("span",{className:"font-bold text-blue-600",children:[I.price,""]}),d.jsxs("div",{className:"flex gap-1",children:[D!=="new"&&d.jsx("button",{type:"button",onClick:()=>e.update("orders",I.id,{status:D==="completed"?"shipped":D==="shipped"?"processing":"new"}),className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded text-slate-400",title:"Geri Al",children:d.jsx(qd,{size:16})}),D!=="completed"&&d.jsx("button",{type:"button",onClick:()=>e.update("orders",I.id,{status:D==="new"?"processing":D==="processing"?"shipped":"completed"}),className:"p-1.5 hover:bg-green-50 dark:hover:bg-green-900/30 rounded text-green-500",title:"lerlet",children:d.jsx(Vo,{size:16})})]})]})]},I.id)),N.filter(I=>I.status===D).length===0&&d.jsxs("div",{className:"text-center py-10 opacity-30 flex flex-col items-center",children:[d.jsx(Bp,{size:32,className:"mb-2"}),d.jsx("span",{className:"text-xs",children:"Sipari Yok"})]})]})]},D)})}),m&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl w-full max-w-md shadow-2xl animate-in zoom-in-95",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"font-bold text-xl dark:text-white",children:g.id?"Siparii Dzenle":"Yeni Sipari"}),d.jsx("button",{type:"button",onClick:()=>b(!1),children:d.jsx(ss,{className:"text-slate-400 hover:text-slate-600"})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Mteri Ad"}),d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"Ad Soyad",value:g.customerName||"",onChange:D=>y({...g,customerName:D.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"rn / Hizmet Detay"}),d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"rn ad, renk, beden...",value:g.productName||"",onChange:D=>y({...g,productName:D.target.value})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Fiyat ()"}),d.jsx("input",{type:"number",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"0.00",value:g.price||"",onChange:D=>y({...g,price:D.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Platform"}),d.jsx("select",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:g.platform||"Instagram",onChange:D=>y({...g,platform:D.target.value}),children:_.map(D=>d.jsx("option",{value:D,children:D},D))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Sipari Notu"}),d.jsx("textarea",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white h-20 resize-none",placeholder:"Kargo notu, zel istekler...",value:g.note||"",onChange:D=>y({...g,note:D.target.value})})]}),g.id&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Stat"}),d.jsx("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-1 rounded-xl",children:["new","processing","shipped","completed"].map(D=>d.jsx("button",{type:"button",onClick:()=>y({...g,status:D}),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-colors ${g.status===D?"bg-white dark:bg-slate-600 shadow text-blue-600":"text-slate-400"}`,children:D==="new"?"Yeni":D==="processing"?"Hazr":D==="shipped"?"Kargo":"Tamam"},D))})]}),d.jsx("button",{type:"button",onClick:L,className:"w-full bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200 dark:shadow-none mt-2",children:g.id?"Deiiklikleri Kaydet":"Siparii Olutur"})]})]})})]})},s4=({todos:i,proposals:e,ideas:s,ops:r})=>{const[o,u]=oe.useState("tasks"),[m,b]=oe.useState(!1),[g,y]=oe.useState({}),[_,N]=oe.useState("all"),k=i.filter(T=>T.status==="pending").length,L=i.filter(T=>T.status==="pending"&&T.priority==="high").length,Z=e.filter(T=>T.status==="pending").length,G=i.filter(T=>_==="all"||T.priority===_),D=()=>{const T=o==="tasks"||o==="calendar"?"todos":o==="proposals"?"proposals":"ideas",I={...g,createdAt:Nn(),status:g.status||"pending",priority:g.priority||"medium"};o==="ideas"&&(I.isPinned=!1),g.id?r.update(T,g.id,I):r.add(T,I),b(!1),y({})},$=()=>{const T=Array.from({length:30},(se,ie)=>ie+1),I=new Date().getDate();return d.jsx("div",{className:"grid grid-cols-7 gap-2",children:T.map(se=>{const ie=i.filter(pe=>pe.endDate&&new Date(pe.endDate).getDate()===se&&new Date(pe.endDate).getMonth()===new Date().getMonth());return d.jsxs("div",{className:`min-h-[100px] bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-xl p-2 flex flex-col ${se===I?"ring-2 ring-blue-500":""}`,children:[d.jsx("span",{className:`text-xs font-bold mb-1 ${se===I?"text-blue-600":"text-slate-400"}`,children:se}),d.jsx("div",{className:"flex-1 space-y-1 overflow-y-auto custom-scrollbar",children:ie.map(pe=>d.jsx("div",{onClick:()=>{y(pe),b(!0)},className:`text-[9px] p-1 rounded border cursor-pointer truncate ${pe.priority==="high"?"bg-red-50 text-red-600 border-red-100":"bg-blue-50 text-blue-600 border-blue-100"}`,children:pe.title},pe.id))})]},se)})})};return d.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Bekleyen Grev"}),d.jsx("p",{className:"text-2xl font-black text-slate-800 dark:text-white",children:k})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Acil ler"}),d.jsx("p",{className:"text-2xl font-black text-red-600",children:L})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Ak Teklifler"}),d.jsx("p",{className:"text-2xl font-black text-purple-600",children:Z})]}),d.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm flex items-center justify-center",children:d.jsxs("button",{type:"button",onClick:()=>{y({}),b(!0)},className:"w-full h-full bg-blue-600 text-white rounded-lg font-bold flex flex-col items-center justify-center gap-1 hover:bg-blue-700 transition-colors",children:[d.jsx(ns,{size:24}),d.jsx("span",{children:"Yeni Ekle"})]})})]}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-slate-100 dark:bg-slate-800 p-2 rounded-xl",children:[d.jsx("div",{className:"flex gap-1 bg-white dark:bg-slate-700 p-1 rounded-lg shadow-sm w-full md:w-auto overflow-x-auto",children:[{id:"tasks",label:"Grev Panosu",icon:M1},{id:"calendar",label:"Takvim",icon:k1},{id:"proposals",label:"Teklifler",icon:Lp},{id:"ideas",label:"Fikirler",icon:Oj}].map(T=>d.jsxs("button",{type:"button",onClick:()=>u(T.id),className:`px-4 py-2 rounded-md text-sm font-bold flex items-center gap-2 transition-all whitespace-nowrap ${o===T.id?"bg-slate-800 text-white dark:bg-slate-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-600 dark:text-slate-300"}`,children:[d.jsx(T.icon,{size:16})," ",T.label]},T.id))}),o==="tasks"&&d.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-500",children:[d.jsx(j1,{size:16}),d.jsxs("select",{className:"bg-transparent outline-none cursor-pointer dark:text-slate-300",value:_,onChange:T=>N(T.target.value),children:[d.jsx("option",{value:"all",children:"Tm ncelikler"}),d.jsx("option",{value:"high",children:"Yksek ncelik"}),d.jsx("option",{value:"medium",children:"Orta ncelik"}),d.jsx("option",{value:"low",children:"Dk ncelik"})]})]})]}),o==="calendar"&&$(),o==="tasks"&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 h-[calc(100vh-320px)] overflow-hidden",children:["pending","in_progress","completed"].map(T=>d.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl border dark:border-slate-700 flex flex-col h-full",children:[d.jsxs("div",{className:"p-4 border-b dark:border-slate-700 flex justify-between items-center bg-white dark:bg-slate-800 rounded-t-xl",children:[d.jsx("h4",{className:"font-bold uppercase text-xs text-slate-500",children:T==="pending"?"Yaplacak":T==="in_progress"?"Sryor":"Tamamland"}),d.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded text-xs font-bold",children:G.filter(I=>I.status===T).length})]}),d.jsx("div",{className:"p-3 space-y-3 flex-1 overflow-y-auto custom-scrollbar",children:G.filter(I=>I.status===T).map(I=>d.jsxs("div",{className:`bg-white dark:bg-slate-800 p-4 rounded-xl border shadow-sm group relative hover:shadow-md transition-all ${I.priority==="high"?"border-l-4 border-l-red-500":"dark:border-slate-700"}`,children:[d.jsxs("div",{className:"flex justify-between items-start mb-1",children:[d.jsx("h5",{className:`font-bold text-sm ${T==="completed"?"line-through text-slate-400":"dark:text-white"}`,children:I.title}),I.endDate&&new Date(I.endDate)<new Date&&T!=="completed"&&d.jsx(Gd,{size:14,className:"text-red-500",title:"Gecikmi"})]}),d.jsx("p",{className:"text-xs text-slate-500 mb-3 line-clamp-2",children:I.desc}),d.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-dashed dark:border-slate-700",children:[I.endDate&&d.jsxs("span",{className:`text-[10px] flex items-center gap-1 ${I.endDate&&new Date(I.endDate)<new Date?"text-red-500 font-bold":"text-slate-400"}`,children:[d.jsx(C1,{size:12})," ",new Date(I.endDate).toLocaleDateString()]}),d.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[T!=="pending"&&d.jsx("button",{type:"button",onClick:()=>r.update("todos",I.id,{status:"pending"}),className:"p-1 hover:bg-slate-100 rounded text-slate-400",children:d.jsx(qd,{size:14})}),d.jsx("button",{type:"button",onClick:()=>r.delete(I.id,"todos"),className:"p-1 hover:bg-red-50 text-red-500 rounded",children:d.jsx(sn,{size:14})}),T!=="completed"&&d.jsx("button",{type:"button",onClick:()=>r.update("todos",I.id,{status:T==="pending"?"in_progress":"completed"}),className:"p-1 hover:bg-green-50 text-green-500 rounded",children:d.jsx(Vo,{size:14})})]})]})]},I.id))})]},T))}),o==="proposals"&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(T=>d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm relative group hover:border-purple-300 transition-colors",children:[d.jsx("button",{type:"button",onClick:()=>r.delete(T.id,"proposals"),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 text-red-500",children:d.jsx(sn,{size:16})}),d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-50 dark:bg-purple-900/20 text-purple-600 flex items-center justify-center",children:d.jsx(Kj,{size:20})}),d.jsxs("div",{children:[d.jsx("h5",{className:"font-bold text-sm dark:text-white",children:T.customer}),d.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded ${T.status==="accepted"?"bg-green-100 text-green-600":"bg-yellow-100 text-yellow-600"}`,children:T.status==="accepted"?"Onayland":"Bekliyor"})]})]}),d.jsx("div",{className:"bg-slate-50 dark:bg-slate-900 p-3 rounded-lg mb-3 text-xs text-slate-600 dark:text-slate-300 line-clamp-3",children:T.product}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("span",{className:"font-bold text-lg text-blue-600",children:[T.price,""]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"button",onClick:()=>r.update("proposals",T.id,{status:"rejected"}),className:"p-2 hover:bg-red-50 text-red-500 rounded-lg",children:d.jsx(ss,{size:16})}),d.jsx("button",{type:"button",onClick:()=>r.update("proposals",T.id,{status:"accepted"}),className:"p-2 hover:bg-green-50 text-green-500 rounded-lg",children:d.jsx(Bd,{size:16})})]})]})]},T.id))}),o==="ideas"&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:s.map(T=>d.jsxs("div",{className:`p-4 rounded-xl border shadow-sm relative group transition-all hover:-translate-y-1 ${T.isPinned?"bg-yellow-50 border-yellow-200":"bg-white dark:bg-slate-800 dark:border-slate-700"}`,children:[d.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{type:"button",onClick:()=>r.update("ideas",T.id,{isPinned:!T.isPinned}),className:"p-1.5 bg-white/50 rounded-full hover:bg-white",children:d.jsx(Nj,{size:14,className:T.isPinned?"fill-current text-yellow-600":"text-slate-400"})}),d.jsx("button",{type:"button",onClick:()=>r.delete(T.id,"ideas"),className:"p-1.5 bg-white/50 rounded-full hover:bg-white hover:text-red-500",children:d.jsx(sn,{size:14})})]}),d.jsx("span",{className:"text-[10px] font-bold opacity-50 uppercase tracking-wider mb-2 block",children:T.category}),d.jsx("h4",{className:"font-bold mb-2 dark:text-white leading-tight",children:T.title}),d.jsx("p",{className:"text-sm opacity-80 dark:text-slate-300 whitespace-pre-wrap",children:T.desc})]},T.id))}),m&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl w-full max-w-md shadow-2xl animate-in zoom-in-95",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("h3",{className:"font-bold text-xl dark:text-white",children:["Yeni ",o==="tasks"||o==="calendar"?"Grev":o==="proposals"?"Teklif":"Fikir"]}),d.jsx("button",{type:"button",onClick:()=>b(!1),children:d.jsx(ss,{})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"Balk / Mteri",value:g.title||g.customer||"",onChange:T=>y({...g,[o==="proposals"?"customer":"title"]:T.target.value})}),d.jsx("textarea",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white h-24 resize-none",placeholder:"Detaylar...",value:g.desc||g.product||"",onChange:T=>y({...g,[o==="proposals"?"product":"desc"]:T.target.value})}),(o==="tasks"||o==="calendar")&&d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx("input",{type:"date",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:g.endDate||"",onChange:T=>y({...g,endDate:T.target.value})}),d.jsxs("select",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:g.priority||"medium",onChange:T=>y({...g,priority:T.target.value}),children:[d.jsx("option",{value:"low",children:"Dk"}),d.jsx("option",{value:"medium",children:"Orta"}),d.jsx("option",{value:"high",children:"Yksek"})]})]}),o==="proposals"&&d.jsx("input",{type:"number",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"Fiyat",value:g.price||"",onChange:T=>y({...g,price:T.target.value})}),o==="ideas"&&d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"Kategori",value:g.category||"",onChange:T=>y({...g,category:T.target.value})}),d.jsx("button",{type:"button",onClick:D,className:"w-full bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200 dark:shadow-none",children:"Kaydet"})]})]})})]})},i4=({printers:i,jobs:e,filaments:s,archive:r,ops:o})=>{const[u,m]=oe.useState("overview"),[b,g]=oe.useState(!1),[y,_]=oe.useState({}),[N,k]=oe.useState(""),[L,Z]=oe.useState({weight:0,hours:0,filamentCost:400,electricity:5,profitMargin:100}),G=L.weight*(L.filamentCost/1e3)+L.hours*L.electricity,D=G*(1+L.profitMargin/100),$=T=>{T.preventDefault(),N&&window.open(`https://www.thingiverse.com/search?q=${N}&type=things&sort=relevant`,"_blank")};return d.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[d.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 justify-between items-start lg:items-center bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm",children:[d.jsx("div",{className:"flex gap-2 w-full lg:w-auto overflow-x-auto pb-2 lg:pb-0",children:[{id:"overview",label:"Genel Bak",icon:Hd},{id:"queue",label:" Kuyruu",icon:ex},{id:"filaments",label:"Filamentler",icon:nx},{id:"archive",label:"Ariv",icon:vd},{id:"calculator",label:"Maliyet",icon:Wv}].map(T=>d.jsxs("button",{type:"button",onClick:()=>m(T.id),className:`px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 transition-all whitespace-nowrap ${u===T.id?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[d.jsx(T.icon,{size:16})," ",T.label]},T.id))}),d.jsxs("form",{onSubmit:$,className:"flex gap-2 w-full lg:w-auto",children:[d.jsxs("div",{className:"relative flex-1 lg:w-64",children:[d.jsx(lc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),d.jsx("input",{className:"w-full pl-9 pr-4 py-2 bg-slate-100 dark:bg-slate-900 rounded-lg text-sm outline-none focus:ring-2 focus:ring-indigo-500 dark:text-white",placeholder:"3D Model Ara...",value:N,onChange:T=>k(T.target.value)})]}),d.jsx("button",{type:"submit",className:"bg-slate-200 dark:bg-slate-700 p-2 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",children:d.jsx(ij,{size:18})})]})]}),u==="overview"&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.map(T=>d.jsxs("div",{className:`p-5 rounded-2xl border-2 shadow-sm relative group transition-all ${T.status==="printing"?"border-green-500 bg-green-50":T.status==="maintenance"?"border-red-500 bg-red-50":"border-slate-200 bg-white"} dark:border-slate-700`,children:[d.jsx("button",{type:"button",onClick:()=>o.delete(T.id,"printers"),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 p-1.5 bg-white rounded-lg text-red-500 shadow-sm",children:d.jsx(sn,{size:14})}),d.jsx("div",{className:"flex justify-between items-start mb-4",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-white shadow-sm ${T.status==="printing"?"bg-green-500":T.status==="maintenance"?"bg-red-500":"bg-slate-400"}`,children:d.jsx(Um,{size:20})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-slate-800",children:T.name}),d.jsx("span",{className:"text-xs font-bold uppercase opacity-60",children:T.status==="printing"?"Baslyor...":T.status==="maintenance"?"Bakmda":"Hazr"})]})]})}),d.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-4",children:[d.jsx("button",{type:"button",onClick:()=>o.update("printers",T.id,{status:"idle"}),className:"py-1.5 rounded-lg text-xs font-bold bg-slate-100 hover:bg-slate-200",children:"Bota"}),d.jsx("button",{type:"button",onClick:()=>o.update("printers",T.id,{status:"printing"}),className:"py-1.5 rounded-lg text-xs font-bold bg-green-100 text-green-600 hover:bg-green-200",children:"Balat"}),d.jsx("button",{type:"button",onClick:()=>o.update("printers",T.id,{status:"maintenance"}),className:"py-1.5 rounded-lg text-xs font-bold bg-red-100 text-red-600 hover:bg-red-200",children:"Bakm"})]})]},T.id)),d.jsxs("button",{type:"button",onClick:()=>{_({}),g(!0)},className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-2xl p-6 flex flex-col items-center justify-center text-slate-400 hover:text-indigo-500 hover:border-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all min-h-[180px]",children:[d.jsx(ns,{size:32,className:"mb-2"}),d.jsx("span",{className:"font-bold",children:"Yeni Yazc Ekle"})]})]}),u==="queue"&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("h3",{className:"font-bold text-lg dark:text-white flex items-center gap-2",children:[d.jsx(ex,{className:"text-indigo-500"})," Bekleyen ler"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{className:"p-2 border rounded-lg text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white outline-none w-48",placeholder:"Dosya ad...",value:y.jobName||"",onChange:T=>_({...y,jobName:T.target.value})}),d.jsx("button",{type:"button",onClick:()=>{y.jobName&&o.add("workshop_jobs",{name:y.jobName,status:"pending",createdAt:Nn()}),_({})},className:"bg-indigo-600 text-white px-4 py-2 rounded-lg font-bold text-sm hover:bg-indigo-700",children:"Ekle"})]})]}),d.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto custom-scrollbar",children:e.map(T=>d.jsxs("div",{className:"flex justify-between items-center p-4 border dark:border-slate-700 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors group",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${T.status==="done"?"bg-green-500":"bg-orange-500"}`}),d.jsx("span",{className:`font-medium ${T.status==="done"?"line-through text-slate-400":"dark:text-white"}`,children:T.name})]}),d.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{type:"button",onClick:()=>o.update("workshop_jobs",T.id,{status:T.status==="done"?"pending":"done"}),className:`p-2 rounded-lg ${T.status==="done"?"text-orange-500 bg-orange-50":"text-green-600 bg-green-50"}`,children:T.status==="done"?d.jsx(qd,{size:16}):d.jsx(Bd,{size:16})}),d.jsx("button",{type:"button",onClick:()=>o.delete(T.id,"workshop_jobs"),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100",children:d.jsx(sn,{size:16})})]})]},T.id))})]}),u==="filaments"&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("h3",{className:"font-bold text-lg dark:text-white flex items-center gap-2",children:[d.jsx(nx,{className:"text-pink-500"})," Filament Stou"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{className:"p-2 border rounded-lg text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white outline-none",placeholder:"Marka/Tr",value:y.filName||"",onChange:T=>_({...y,filName:T.target.value})}),d.jsx("input",{type:"color",className:"h-9 w-12 p-1 border rounded-lg cursor-pointer bg-transparent",value:y.filColor||"#000000",onChange:T=>_({...y,filColor:T.target.value})}),d.jsx("button",{type:"button",onClick:()=>{y.filName&&o.add("workshop_filaments",{name:y.filName,color:y.filColor||"#000000"}),_({...y,filName:""})},className:"bg-indigo-600 text-white px-4 py-2 rounded-lg font-bold text-sm hover:bg-indigo-700",children:"Ekle"})]})]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:s.map(T=>d.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-xl flex flex-col items-center text-center relative group hover:shadow-md transition-all dark:bg-slate-900/50",children:[d.jsx("button",{type:"button",onClick:()=>o.delete(T.id,"workshop_filaments"),className:"absolute top-2 right-2 text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(sn,{size:14})}),d.jsx("div",{className:"w-16 h-16 rounded-full shadow-inner mb-3 border-4 border-white dark:border-slate-700",style:{backgroundColor:T.color}}),d.jsx("span",{className:"font-bold text-sm dark:text-white truncate w-full",children:T.name})]},T.id))})]}),u==="archive"&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("h3",{className:"font-bold text-lg dark:text-white flex items-center gap-2",children:[d.jsx(vd,{className:"text-orange-500"})," Bask Arivi"]}),d.jsxs("button",{type:"button",onClick:()=>{_({}),g(!0)},className:"bg-orange-600 text-white px-4 py-2 rounded-lg font-bold text-sm hover:bg-orange-700 flex items-center gap-2",children:[d.jsx(ns,{size:16})," Kayt Ekle"]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900 text-slate-500 uppercase text-xs",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3",children:"Model"}),d.jsx("th",{className:"p-3",children:"Gramaj"}),d.jsx("th",{className:"p-3",children:"Maliyet"}),d.jsx("th",{className:"p-3",children:"Link"}),d.jsx("th",{className:"p-3 text-right",children:"Sil"})]})}),d.jsx("tbody",{children:r.map(T=>d.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[d.jsx("td",{className:"p-3 font-bold dark:text-white",children:T.name}),d.jsxs("td",{className:"p-3 font-mono",children:[T.weight,"g"]}),d.jsxs("td",{className:"p-3 font-bold text-green-600",children:[T.cost,""]}),d.jsx("td",{className:"p-3",children:T.link&&d.jsxs("a",{href:T.link,target:"_blank",className:"text-blue-500 hover:underline flex items-center gap-1",children:[d.jsx(D1,{size:14})," Git"]})}),d.jsx("td",{className:"p-3 text-right",children:d.jsx("button",{type:"button",onClick:()=>o.delete(T.id,"print_archive"),className:"text-slate-400 hover:text-red-500 transition-colors",children:d.jsx(sn,{size:16})})})]},T.id))})]})})]}),u==="calculator"&&d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsxs("h3",{className:"font-bold text-lg mb-6 dark:text-white flex items-center gap-2",children:[d.jsx(Wv,{className:"text-blue-500"})," Maliyet Parametreleri"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Model Arl (Gram)"}),d.jsx("input",{type:"number",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600",value:L.weight,onChange:T=>Z({...L,weight:Number(T.target.value)})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Bask Sresi (Saat)"}),d.jsx("input",{type:"number",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600",value:L.hours,onChange:T=>Z({...L,hours:Number(T.target.value)})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Filament (/kg)"}),d.jsx("input",{type:"number",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600",value:L.filamentCost,onChange:T=>Z({...L,filamentCost:Number(T.target.value)})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Elektrik (/saat)"}),d.jsx("input",{type:"number",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600",value:L.electricity,onChange:T=>Z({...L,electricity:Number(T.target.value)})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Kr Marj (%)"}),d.jsx("input",{type:"number",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600",value:L.profitMargin,onChange:T=>Z({...L,profitMargin:Number(T.target.value)})})]})]})]}),d.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-600 p-8 rounded-2xl text-white shadow-xl flex flex-col justify-center relative overflow-hidden",children:[d.jsx(ac,{className:"absolute top-0 right-0 p-8 opacity-20",size:200}),d.jsxs("div",{className:"relative z-10 space-y-6",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-indigo-200 font-bold uppercase text-sm mb-1",children:"Hammadde Maliyeti"}),d.jsxs("p",{className:"text-2xl font-mono",children:[(L.weight*L.filamentCost/1e3).toFixed(2),""]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-indigo-200 font-bold uppercase text-sm mb-1",children:"Enerji/Amortisman"}),d.jsxs("p",{className:"text-2xl font-mono",children:[(L.hours*L.electricity).toFixed(2),""]})]}),d.jsxs("div",{className:"pt-6 border-t border-white/20",children:[d.jsx("p",{className:"text-indigo-100 font-bold uppercase text-sm mb-2",children:"nerilen Sat Fiyat"}),d.jsxs("p",{className:"text-6xl font-black tracking-tight",children:[D.toFixed(2),""]}),d.jsxs("p",{className:"text-sm mt-2 opacity-80",children:["Toplam Maliyet: ",G.toFixed(2),"  Kr: ",(D-G).toFixed(2),""]})]})]})]})]}),b&&u==="overview"&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl w-full max-w-md shadow-2xl animate-in zoom-in-95",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"font-bold text-xl dark:text-white",children:"Yeni Yazc Ekle"}),d.jsx("button",{onClick:()=>g(!1),children:d.jsx(ss,{})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"Yazc Ad (rn: Ender 3 V2)",value:y.name||"",onChange:T=>_({...y,name:T.target.value}),autoFocus:!0}),d.jsx("button",{onClick:()=>{if(!y.name)return alert("Ltfen bir isim giriniz");o.add("printers",{name:y.name,status:"idle"}),g(!1)},className:"w-full bg-indigo-600 text-white py-3 rounded-xl font-bold hover:bg-indigo-700 transition-colors",children:"Kaydet"})]})]})}),b&&u==="archive"&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl w-full max-w-md shadow-2xl animate-in zoom-in-95",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"font-bold text-xl dark:text-white",children:"Ariv Kayd Ekle"}),d.jsx("button",{type:"button",onClick:()=>g(!1),children:d.jsx(ss,{})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600",placeholder:"Model Ad",value:y.name||"",onChange:T=>_({...y,name:T.target.value})}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("input",{type:"number",className:"flex-1 p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600",placeholder:"Gramaj (g)",value:y.weight||"",onChange:T=>_({...y,weight:T.target.value})}),d.jsx("input",{type:"number",className:"flex-1 p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600",placeholder:"Maliyet ()",value:y.cost||"",onChange:T=>_({...y,cost:T.target.value})})]}),d.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700 dark:border-slate-600",placeholder:"Link (Opsiyonel)",value:y.link||"",onChange:T=>_({...y,link:T.target.value})}),d.jsx("button",{type:"button",onClick:()=>{o.add("print_archive",y),g(!1),_({})},className:"w-full bg-orange-600 text-white py-3 rounded-xl font-bold hover:bg-orange-700",children:"Kaydet"})]})]})})]})},r4=({markets:i,items:e,sales:s,expenses:r,ops:o})=>{const[u,m]=oe.useState(null),[b,g]=oe.useState("pos"),[y,_]=oe.useState(""),[N,k]=oe.useState(!1),[L,Z]=oe.useState({}),[G,D]=oe.useState({desc:"",amount:""}),[$,T]=oe.useState({name:"",price:""}),[I,se]=oe.useState(!1);oe.useEffect(()=>{if(u){const S=i.find(xe=>xe.id===u.id);S&&m(S)}},[i]);const ie=i.reduce((S,xe)=>S+(xe.totalRevenue||0),0),pe=i.reduce((S,xe)=>S+(xe.totalExpenses||0),0),C=ie-pe,A=S=>{const xe=new Date(S),Fe=new Date;return xe.getDate()===Fe.getDate()&&xe.getMonth()===Fe.getMonth()&&xe.getFullYear()===Fe.getFullYear()},R=S=>A(S)?{label:"BUGN AKTF",color:"bg-green-100 text-green-700 border-green-200 animate-pulse"}:new Date(S)>new Date?{label:"YAKLAIYOR",color:"bg-blue-100 text-blue-700 border-blue-200"}:{label:"TAMAMLANDI",color:"bg-slate-100 text-slate-500 border-slate-200"},z=async S=>{if(!u)return;if(S.stock<=0)return alert("Stok yetersiz!");await o.update("inventory",S.id,{stock:Number(S.stock)-1}),await o.add("sales_history",{productName:S.name,quantity:1,totalPrice:Number(S.sellPrice),unitPrice:Number(S.sellPrice),platform:`Pazar: ${u.name}`,date:new Date().toLocaleDateString("tr-TR"),marketId:u.id,createdAt:Nn()});const xe=(u.totalRevenue||0)+Number(S.sellPrice);await o.update("markets",u.id,{totalRevenue:xe}),m({...u,totalRevenue:xe})},O=async S=>{S.preventDefault();const xe=Number($.price),Fe=(u.totalRevenue||0)+xe;await o.update("markets",u.id,{totalRevenue:Fe}),await o.add("sales_history",{productName:$.name,quantity:1,unitPrice:xe,totalPrice:xe,platform:`Pazar: ${u.name} (Manuel)`,marketId:u.id,date:new Date().toLocaleDateString("tr-TR"),createdAt:Nn()}),m(B=>({...B,totalRevenue:Fe})),se(!1)},P=async()=>{if(!G.amount||!u)return;const S=Number(G.amount);await o.add("general_expenses",{description:`Pazar: ${u.name} - ${G.desc}`,amount:S,category:"Pazar",marketId:u.id,date:new Date().toLocaleDateString("tr-TR"),createdAt:Nn()});const xe=(u.totalExpenses||0)+S;await o.update("markets",u.id,{totalExpenses:xe}),m({...u,totalExpenses:xe}),D({desc:"",amount:""})};if(u){const S=s.filter(B=>B.marketId===u.id),xe=r.filter(B=>B.marketId===u.id||B.category==="Pazar"&&B.description.includes(u.name)),Fe=(u.totalRevenue||0)-(u.totalExpenses||0);return d.jsxs("div",{className:"space-y-6 animate-in fade-in h-[calc(100vh-140px)] flex flex-col",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm shrink-0",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:()=>m(null),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-500",children:d.jsx(qd,{size:24})}),d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold dark:text-white flex items-center gap-2",children:[u.name,d.jsx("span",{className:"text-xs font-medium bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded text-slate-500",children:new Date(u.date).toLocaleDateString("tr-TR")})]}),d.jsxs("p",{className:"text-xs text-slate-400 flex items-center gap-1",children:[d.jsx(tx,{size:12})," ",u.location||"Konum belirtilmedi"]})]})]}),d.jsxs("div",{className:"flex gap-4 text-right bg-slate-50 dark:bg-slate-900/50 p-2 rounded-lg",children:[d.jsxs("div",{className:"px-2 border-r border-slate-200 dark:border-slate-700",children:[d.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Ciro"}),d.jsxs("p",{className:"font-bold text-green-600",children:["+",u.totalRevenue||0,""]})]}),d.jsxs("div",{className:"px-2 border-r border-slate-200 dark:border-slate-700",children:[d.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Gider"}),d.jsxs("p",{className:"font-bold text-red-500",children:["-",u.totalExpenses||0,""]})]}),d.jsxs("div",{className:"px-2",children:[d.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Net"}),d.jsxs("p",{className:`font-bold ${Fe>=0?"text-blue-600":"text-red-500"}`,children:[Fe,""]})]})]})]}),d.jsxs("div",{className:"flex gap-1 mt-4 border-t dark:border-slate-700 pt-4",children:[d.jsxs("button",{onClick:()=>g("pos"),className:`px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 ${b==="pos"?"bg-blue-50 text-blue-600 dark:bg-blue-900/20":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[d.jsx(Fd,{size:16})," Sat Yap"]}),d.jsxs("button",{onClick:()=>g("expenses"),className:`px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 ${b==="expenses"?"bg-red-50 text-red-600 dark:bg-red-900/20":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[d.jsx(qp,{size:16})," Giderler"]}),d.jsxs("button",{onClick:()=>g("summary"),className:`px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 ${b==="summary"?"bg-purple-50 text-purple-600 dark:bg-purple-900/20":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[d.jsx(Lp,{size:16})," zet Rapor"]})]})]}),d.jsxs("div",{className:"flex-1 overflow-hidden bg-white dark:bg-slate-800 rounded-xl border dark:border-slate-700 shadow-sm flex flex-col",children:[b==="pos"&&d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"p-4 border-b dark:border-slate-700 flex justify-between items-center gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[d.jsx(lc,{size:18,className:"text-slate-400"}),d.jsx("input",{className:"w-full p-2 bg-slate-50 dark:bg-slate-900 rounded-xl border-none outline-none focus:ring-2 focus:ring-blue-100 dark:text-white",placeholder:"rn Ara...",value:y,onChange:B=>_(B.target.value),autoFocus:!0})]}),d.jsxs("button",{onClick:()=>se(!0),className:"bg-purple-600 text-white px-3 py-1.5 rounded-lg text-sm font-bold hover:bg-purple-700 flex items-center gap-1",children:[d.jsx(Lm,{size:14})," Manuel"]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:e.filter(B=>B.name.toLowerCase().includes(y.toLowerCase())).map(B=>d.jsxs("button",{disabled:B.stock<=0,onClick:()=>z(B),className:"p-3 border dark:border-slate-700 rounded-xl hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left disabled:opacity-50 disabled:cursor-not-allowed transition-all group flex flex-col relative bg-white dark:bg-slate-800",children:[d.jsx("div",{className:"absolute top-2 right-2 bg-slate-100 dark:bg-slate-700 text-[10px] font-bold px-1.5 py-0.5 rounded text-slate-500",children:B.stock}),d.jsx("div",{className:"aspect-square mb-2 bg-slate-100 dark:bg-slate-700 rounded-lg overflow-hidden flex items-center justify-center",children:B.imageUrl?d.jsx("img",{src:B.imageUrl,className:"w-full h-full object-cover"}):d.jsx(Yr,{className:"text-slate-300"})}),d.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-white line-clamp-1 mb-1",children:B.name}),d.jsxs("p",{className:"text-blue-600 font-bold",children:[B.sellPrice,""]})]},B.id))})})]}),b==="expenses"&&d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"p-6 border-b dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50",children:[d.jsx("h3",{className:"font-bold mb-4 dark:text-white",children:"Yeni Gider Ekle"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{className:"flex-1 p-3 border rounded-xl dark:bg-slate-800 dark:border-slate-600 dark:text-white",placeholder:"Aklama (rn: Yemek, Otopark)",value:G.desc,onChange:B=>D({...G,desc:B.target.value})}),d.jsx("input",{type:"number",className:"w-32 p-3 border rounded-xl dark:bg-slate-800 dark:border-slate-600 dark:text-white",placeholder:"Tutar",value:G.amount,onChange:B=>D({...G,amount:B.target.value})}),d.jsx("button",{onClick:P,className:"bg-red-600 text-white px-6 rounded-xl font-bold hover:bg-red-700 transition-colors",children:"Kaydet"})]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-50 dark:bg-slate-900 dark:text-slate-400",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3",children:"Aklama"}),d.jsx("th",{className:"p-3 text-right",children:"Tutar"}),d.jsx("th",{className:"p-3 text-right",children:"Sil"})]})}),d.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[xe.map(B=>d.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[d.jsx("td",{className:"p-3 font-medium dark:text-white",children:B.description.replace(`Pazar: ${u.name} - `,"")}),d.jsxs("td",{className:"p-3 text-right text-red-500 font-bold",children:["-",B.amount,""]}),d.jsx("td",{className:"p-3 text-right",children:d.jsx("button",{onClick:()=>o.delete(B.id,"general_expenses"),className:"text-slate-400 hover:text-red-500",children:d.jsx(sn,{size:16})})})]},B.id)),xe.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:"3",className:"p-8 text-center text-slate-400",children:"Henz gider eklenmedi."})})]})]})})]}),b==="summary"&&d.jsxs("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:[d.jsxs("h3",{className:"font-bold mb-4 dark:text-white flex items-center gap-2",children:[d.jsx(DC,{size:20})," Sat zeti"]}),d.jsxs("div",{className:"space-y-2",children:[Object.values(S.reduce((B,re)=>(B[re.productName]||(B[re.productName]={name:re.productName,qty:0,total:0}),B[re.productName].qty+=re.quantity,B[re.productName].total+=re.totalPrice,B),{})).sort((B,re)=>re.total-B.total).map((B,re)=>d.jsxs("div",{className:"flex justify-between items-center p-3 border dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 text-slate-500 w-6 h-6 flex items-center justify-center rounded-full text-xs font-bold",children:re+1}),d.jsx("span",{className:"font-medium dark:text-white",children:B.name})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("span",{className:"text-xs bg-blue-50 text-blue-600 px-2 py-0.5 rounded mr-2",children:[B.qty," Adet"]}),d.jsxs("span",{className:"font-bold text-green-600",children:[B.total,""]})]})]},re)),S.length===0&&d.jsx("div",{className:"text-center text-slate-400 py-10",children:"Henz sat yaplmad."})]})]})]}),I&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl w-full max-w-sm shadow-2xl animate-scale-in",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"font-bold text-xl text-slate-800 dark:text-white",children:"Pazarda Manuel Sat"}),d.jsx("button",{onClick:()=>se(!1),className:"text-slate-400 hover:text-slate-600",children:d.jsx(ss,{size:24})})]}),d.jsxs("form",{onSubmit:O,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"rn / Hizmet Ad"}),d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600",placeholder:"rn: zel Tasarm, ndirimli rn",value:$.name,onChange:B=>T({...$,name:B.target.value}),autoFocus:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Sat Fiyat ()"}),d.jsx("input",{type:"number",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600",placeholder:"0.00",value:$.price,onChange:B=>T({...$,price:B.target.value})})]}),d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg text-xs text-blue-700 dark:text-blue-300",children:[d.jsx(Xj,{size:14,className:"inline mr-1"})," Bu ilem stoktan dmez, sadece pazar cirosuna ve sat gemiine eklenir."]}),d.jsx("button",{type:"submit",className:"w-full py-3 bg-green-600 text-white rounded-xl font-bold mt-2 hover:bg-green-700 transition-colors",children:"Sat Onayla"})]})]})})]})}return d.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-2xl font-bold dark:text-white",children:"Pazar Etkinlikleri"}),d.jsxs("button",{type:"button",onClick:()=>{Z({}),k(!0)},className:"bg-orange-600 text-white px-6 py-2 rounded-xl font-bold hover:bg-orange-700 flex items-center gap-2 shadow-lg shadow-orange-200 dark:shadow-none transition-all",children:[d.jsx(ns,{size:20})," Yeni Pazar"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Toplam Pazar Cirosu"}),d.jsxs("p",{className:"text-2xl font-black text-slate-800 dark:text-white",children:[ie,""]})]}),d.jsx("div",{className:"bg-green-50 text-green-600 p-3 rounded-lg",children:d.jsx(ac,{size:24})})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Toplam Kr"}),d.jsxs("p",{className:"text-2xl font-black text-blue-600",children:[C,""]})]}),d.jsx("div",{className:"bg-blue-50 text-blue-600 p-3 rounded-lg",children:d.jsx(xd,{size:24})})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Dzenlenen Etkinlik"}),d.jsx("p",{className:"text-2xl font-black text-purple-600",children:i.length})]}),d.jsx("div",{className:"bg-purple-50 text-purple-600 p-3 rounded-lg",children:d.jsx(L1,{size:24})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.map(S=>{const xe=R(S.date);return d.jsxs("div",{onClick:()=>m(S),className:"bg-white dark:bg-slate-800 rounded-2xl border dark:border-slate-700 overflow-hidden cursor-pointer hover:shadow-xl hover:-translate-y-1 transition-all group relative flex flex-col h-full",children:[d.jsx("button",{onClick:Fe=>{Fe.stopPropagation(),o.delete(S.id,"markets")},className:"absolute top-3 right-3 p-2 bg-white/90 dark:bg-slate-700/90 rounded-lg text-slate-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:d.jsx(sn,{size:16})}),d.jsxs("div",{className:"h-28 bg-gradient-to-br from-orange-400 to-pink-600 p-6 text-white relative",children:[d.jsx("div",{className:`absolute top-4 left-4 px-2 py-1 rounded text-[10px] font-bold border ${xe.color} bg-white/90 backdrop-blur-sm`,children:xe.label}),d.jsxs("div",{className:"absolute bottom-4 left-6",children:[d.jsx("h3",{className:"font-bold text-xl drop-shadow-md",children:S.name}),d.jsxs("div",{className:"text-sm opacity-90 flex gap-2 items-center mt-1",children:[d.jsx(k1,{size:12})," ",new Date(S.date).toLocaleDateString("tr-TR")]})]})]}),d.jsxs("div",{className:"p-5 flex-1 flex flex-col justify-center",children:[S.location&&d.jsxs("p",{className:"text-xs text-slate-500 mb-4 flex items-center gap-1",children:[d.jsx(tx,{size:12})," ",S.location]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[d.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-2 rounded-lg",children:[d.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Ciro"}),d.jsxs("p",{className:"font-bold text-green-600 text-lg",children:[S.totalRevenue||0,""]})]}),d.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-2 rounded-lg",children:[d.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Kr"}),d.jsxs("p",{className:"font-bold text-blue-600 text-lg",children:[(S.totalRevenue||0)-(S.totalExpenses||0),""]})]})]})]}),d.jsx("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/30 text-center border-t dark:border-slate-700 text-xs font-bold text-slate-500 group-hover:text-orange-600 transition-colors",children:"Ynetmek in Tkla"})]},S.id)}),d.jsxs("button",{onClick:()=>{Z({}),k(!0)},className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-2xl p-6 flex flex-col items-center justify-center text-slate-400 hover:text-orange-500 hover:border-orange-300 hover:bg-orange-50 dark:hover:bg-orange-900/10 transition-all min-h-[250px]",children:[d.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 p-4 rounded-full mb-3 group-hover:scale-110 transition-transform",children:d.jsx(ns,{size:32})}),d.jsx("span",{className:"font-bold",children:"Yeni Etkinlik Planla"})]})]}),N&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl w-full max-w-sm shadow-2xl animate-in zoom-in-95",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"font-bold text-xl dark:text-white",children:"Yeni Pazar Etkinlii"}),d.jsx("button",{onClick:()=>k(!1),children:d.jsx(ss,{className:"text-slate-400 hover:text-slate-600"})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Etkinlik Ad"}),d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"rn: Tasarm Tomtom",value:L.name||"",onChange:S=>Z({...L,name:S.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Konum"}),d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"rn: Beyolu",value:L.location||"",onChange:S=>Z({...L,location:S.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Tarih"}),d.jsx("input",{type:"date",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:L.date||"",onChange:S=>Z({...L,date:S.target.value})})]}),d.jsx("button",{onClick:()=>{o.add("markets",{name:L.name,location:L.location,date:L.date,totalRevenue:0,totalExpenses:0}),k(!1)},className:"w-full bg-orange-600 text-white py-3 rounded-xl font-bold hover:bg-orange-700 transition-colors shadow-lg shadow-orange-200 dark:shadow-none",children:"Etkinlii Olutur"})]})]})})]})},a4=({expenses:i,sales:e,ops:s})=>{const[r,o]=oe.useState("all"),[u,m]=oe.useState("all"),[b,g]=oe.useState({}),_=oe.useMemo(()=>{const D=e.map(T=>({id:T.id,type:"income",desc:T.productName,amount:Number(T.totalPrice),category:"Sat",date:T.date,dateObj:T.createdAt?new Date(T.createdAt.seconds*1e3):new Date})),$=i.map(T=>({id:T.id,type:"expense",desc:T.description,amount:Number(T.amount),category:T.category||"Dier",date:T.date,dateObj:T.createdAt?new Date(T.createdAt.seconds*1e3):new Date}));return[...D,...$].sort((T,I)=>I.dateObj-T.dateObj)},[e,i]).filter(D=>{const $=u==="all"||D.type===u,T=r==="all"||D.dateObj.getMonth()===new Date().getMonth()&&D.dateObj.getFullYear()===new Date().getFullYear();return $&&T}),N=_.filter(D=>D.type==="income").reduce((D,$)=>D+$.amount,0),k=_.filter(D=>D.type==="expense").reduce((D,$)=>D+$.amount,0),L=N-k,Z=N>0?(L/N*100).toFixed(1):0,G=_.filter(D=>D.type==="expense").reduce((D,$)=>(D[$.category]=(D[$.category]||0)+$.amount,D),{});return d.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"Toplam Gelir"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("p",{className:"text-2xl font-black text-green-600",children:["+",N,""]}),d.jsx("div",{className:"bg-green-100 text-green-600 p-2 rounded-lg",children:d.jsx(xd,{size:20})})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"Toplam Gider"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("p",{className:"text-2xl font-black text-red-600",children:["-",k,""]}),d.jsx("div",{className:"bg-red-100 text-red-600 p-2 rounded-lg",children:d.jsx(qj,{size:20})})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"Net Kr"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("p",{className:`text-2xl font-black ${L>=0?"text-blue-600":"text-red-500"}`,children:[L,""]}),d.jsx("div",{className:"bg-blue-100 text-blue-600 p-2 rounded-lg",children:d.jsx(qp,{size:20})})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"Kr Marj"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("p",{className:"text-2xl font-black text-purple-600",children:["%",Z]}),d.jsx("div",{className:"bg-purple-100 text-purple-600 p-2 rounded-lg",children:d.jsx(KC,{size:20})})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"font-bold dark:text-white",children:"Bte Dengesi"}),d.jsxs("div",{className:"flex gap-2 text-sm font-bold",children:[d.jsx("button",{type:"button",onClick:()=>o("month"),className:`px-3 py-1 rounded transition-colors ${r==="month"?"bg-slate-800 text-white dark:bg-white dark:text-slate-900":"bg-slate-100 text-slate-500"}`,children:"Bu Ay"}),d.jsx("button",{type:"button",onClick:()=>o("all"),className:`px-3 py-1 rounded transition-colors ${r==="all"?"bg-slate-800 text-white dark:bg-white dark:text-slate-900":"bg-slate-100 text-slate-500"}`,children:"Tm Zamanlar"})]})]}),d.jsxs("div",{className:"h-4 bg-slate-100 rounded-full overflow-hidden flex",children:[d.jsx("div",{className:"bg-green-500 h-full transition-all duration-500",style:{width:`${N>0?N/(N+k)*100:0}%`}}),d.jsx("div",{className:"bg-red-500 h-full transition-all duration-500",style:{width:`${k>0?k/(N+k)*100:0}%`}})]}),d.jsxs("div",{className:"flex justify-between text-xs font-bold mt-2 text-slate-500",children:[d.jsxs("span",{className:"text-green-600",children:["Gelir %",(N>0?N/(N+k)*100:0).toFixed(0)]}),d.jsxs("span",{className:"text-red-600",children:["Gider %",(k>0?k/(N+k)*100:0).toFixed(0)]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2 dark:text-white",children:[d.jsx(S1,{size:20,className:"text-blue-500"})," Hzl Gider Ekle"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("select",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white outline-none",value:b.category||"Genel",onChange:D=>g({...b,category:D.target.value}),children:[d.jsx("option",{value:"Genel",children:"Genel"}),d.jsx("option",{value:"Malzeme",children:"Malzeme"}),d.jsx("option",{value:"Kargo",children:"Kargo"}),d.jsx("option",{value:"Yemek",children:"Yemek"}),d.jsx("option",{value:"Fatura",children:"Fatura"}),d.jsx("option",{value:"Pazar",children:"Pazar"})]}),d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white outline-none",placeholder:"Aklama",value:b.desc||"",onChange:D=>g({...b,desc:D.target.value})}),d.jsx("input",{type:"number",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white outline-none",placeholder:"Tutar",value:b.amount||"",onChange:D=>g({...b,amount:D.target.value})}),d.jsx("button",{type:"button",onClick:()=>{b.amount&&s.add("general_expenses",{description:b.desc,amount:Number(b.amount),category:b.category,date:new Date().toLocaleDateString("tr-TR"),createdAt:Nn()}),g({})},className:"w-full py-3 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-colors shadow-lg shadow-red-100 dark:shadow-none",children:"Kaydet"})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsx("h3",{className:"font-bold mb-4 dark:text-white text-sm uppercase text-slate-500",children:"Gider Dalm"}),d.jsxs("div",{className:"space-y-3",children:[Object.entries(G).sort((D,$)=>$[1]-D[1]).map(([D,$])=>d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"font-medium text-slate-600 dark:text-slate-300",children:D}),d.jsxs("span",{className:"font-bold text-slate-800 dark:text-white",children:[$,""]})]},D)),Object.keys(G).length===0&&d.jsx("div",{className:"text-slate-400 text-xs italic",children:"Veri yok."})]})]})]}),d.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-2xl border dark:border-slate-700 flex flex-col overflow-hidden shadow-sm h-[600px]",children:[d.jsxs("div",{className:"p-4 border-b dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 flex justify-between items-center",children:[d.jsx("h3",{className:"font-bold dark:text-white",children:"Hesap Hareketleri"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"button",onClick:()=>m("all"),className:`text-xs font-bold px-3 py-1 rounded-full ${u==="all"?"bg-slate-200 text-slate-800":"text-slate-400"}`,children:"Tm"}),d.jsx("button",{type:"button",onClick:()=>m("income"),className:`text-xs font-bold px-3 py-1 rounded-full ${u==="income"?"bg-green-100 text-green-700":"text-slate-400"}`,children:"Gelir"}),d.jsx("button",{type:"button",onClick:()=>m("expense"),className:`text-xs font-bold px-3 py-1 rounded-full ${u==="expense"?"bg-red-100 text-red-700":"text-slate-400"}`,children:"Gider"})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar space-y-2",children:[_.map(D=>d.jsxs("div",{className:"flex justify-between items-center p-4 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-xl hover:shadow-md transition-all group",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold shadow-sm ${D.type==="income"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:D.type==="income"?d.jsx(zp,{size:20}):d.jsx(LC,{size:20})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold dark:text-white text-sm line-clamp-1",children:D.desc}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[d.jsx("span",{children:D.date}),d.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-300"}),d.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-1.5 rounded",children:D.category})]})]})]}),d.jsxs("div",{className:"text-right flex items-center gap-4",children:[d.jsxs("p",{className:`font-black text-lg ${D.type==="income"?"text-green-600":"text-red-600"}`,children:[D.type==="income"?"+":"-",D.amount,""]}),d.jsx("button",{type:"button",onClick:()=>{let $="general_expenses";D.type==="income"?$="sales_history":$="general_expenses",s.delete(D.id,$)},className:"p-2 text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20",children:d.jsx(sn,{size:16})})]})]},D.id)),_.length===0&&d.jsxs("div",{className:"text-center py-20 text-slate-400 flex flex-col items-center gap-2",children:[d.jsx(j1,{size:32,className:"opacity-50"}),d.jsx("p",{children:"lem bulunamad."})]})]})]})]})]})},l4=({items:i,ops:e})=>{const[s,r]=oe.useState("all"),[o,u]=oe.useState(!1),[m,b]=oe.useState({}),g=i.length,y=i.filter(G=>G.completed).length,_=i.filter(G=>!G.completed).reduce((G,D)=>G+(Number(D.estimatedCost)||0),0),N=g>0?y/g*100:0,k=i.filter(G=>s==="pending"?!G.completed:s==="completed"?G.completed:!0).sort((G,D)=>G.completed===D.completed?0:G.completed?1:-1),L=()=>{const G={text:m.text,category:m.category||"Genel",priority:m.priority||"medium",estimatedCost:Number(m.estimatedCost),link:m.link,completed:!1,createdAt:Nn()};e.add("shopping",G),u(!1),b({})},Z=G=>{switch(G){case"high":return d.jsx("span",{className:"bg-red-100 text-red-600 text-[10px] px-2 py-0.5 rounded border border-red-200 font-bold uppercase",children:"Acil"});case"medium":return d.jsx("span",{className:"bg-yellow-100 text-yellow-600 text-[10px] px-2 py-0.5 rounded border border-yellow-200 font-bold uppercase",children:"Normal"});default:return d.jsx("span",{className:"bg-blue-100 text-blue-600 text-[10px] px-2 py-0.5 rounded border border-blue-200 font-bold uppercase",children:"Dk"})}};return d.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold dark:text-white flex items-center gap-2",children:[d.jsx(Pp,{className:"text-orange-500"})," Alveri Listesi"]}),d.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Tahmini Tutar: ",d.jsxs("span",{className:"font-bold text-slate-800 dark:text-white",children:[_,""]})]})]}),d.jsxs("button",{type:"button",onClick:()=>{b({}),u(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-bold flex items-center gap-2 text-sm hover:bg-blue-700",children:[d.jsx(ns,{size:16})," Ekle"]})]}),d.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-900 rounded-full h-2.5 mb-2 overflow-hidden",children:d.jsx("div",{className:"bg-green-500 h-2.5 rounded-full transition-all duration-500",style:{width:`${N}%`}})}),d.jsxs("div",{className:"flex justify-between text-xs text-slate-500 font-medium",children:[d.jsxs("span",{children:[y,"/",g," Tamamland"]}),d.jsxs("span",{children:["%",N.toFixed(0)]})]})]}),d.jsx("div",{className:"flex gap-2 border-b dark:border-slate-700 pb-2 overflow-x-auto",children:["all","pending","completed"].map(G=>d.jsx("button",{type:"button",onClick:()=>r(G),className:`px-4 py-2 rounded-lg text-sm font-bold capitalize whitespace-nowrap transition-colors ${s===G?"bg-slate-800 text-white dark:bg-white dark:text-slate-900":"text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800"}`,children:G==="all"?"Tm":G==="pending"?"Alnacaklar":"Tamamlananlar"},G))}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:k.map(G=>d.jsx("div",{className:`bg-white dark:bg-slate-800 p-4 rounded-xl border shadow-sm group relative hover:shadow-md transition-all ${G.completed?"opacity-60 border-slate-200 dark:border-slate-700":"border-slate-200 dark:border-slate-600"}`,children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("button",{type:"button",onClick:()=>e.update("shopping",G.id,{completed:!G.completed}),className:`mt-1 w-5 h-5 rounded border flex items-center justify-center transition-colors ${G.completed?"bg-green-500 border-green-500 text-white":"border-slate-300 hover:border-blue-500"}`,children:G.completed&&d.jsx(Bd,{size:14})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex flex-wrap gap-2 mb-1",children:[Z(G.priority),d.jsx("span",{className:"text-[10px] bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded text-slate-500 uppercase font-bold",children:G.category})]}),d.jsx("h4",{className:`font-bold text-sm mb-1 ${G.completed?"line-through text-slate-400":"dark:text-white"}`,children:G.text}),G.estimatedCost>0&&d.jsxs("p",{className:"text-xs font-bold text-slate-500",children:["~",G.estimatedCost,""]}),G.link&&d.jsxs("a",{href:G.link,target:"_blank",className:"mt-3 inline-flex items-center gap-1 text-xs text-blue-500 hover:underline bg-blue-50 dark:bg-blue-900/20 px-2 py-1 rounded",children:[d.jsx(D1,{size:12})," Linke Git"]})]}),d.jsx("button",{type:"button",onClick:()=>e.delete(G.id,"shopping"),className:"text-slate-300 hover:text-red-500 transition-colors p-1",children:d.jsx(sn,{size:16})})]})},G.id))}),o&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl w-full max-w-sm shadow-2xl animate-in zoom-in-95",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"font-bold text-xl dark:text-white",children:"Yeni Ekle"}),d.jsx("button",{type:"button",onClick:()=>u(!1),children:d.jsx(ss,{})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"Ne alnacak?",value:m.text||"",onChange:G=>b({...m,text:G.target.value})}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("select",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:m.category||"Genel",onChange:G=>b({...m,category:G.target.value}),children:[d.jsx("option",{value:"Genel",children:"Genel"}),d.jsx("option",{value:"Malzeme",children:"Malzeme"}),d.jsx("option",{value:"Ofis",children:"Ofis"}),d.jsx("option",{value:"Mutfak",children:"Mutfak"}),d.jsx("option",{value:"Elektronik",children:"Elektronik"})]}),d.jsxs("select",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:m.priority||"medium",onChange:G=>b({...m,priority:G.target.value}),children:[d.jsx("option",{value:"low",children:"Dk"}),d.jsx("option",{value:"medium",children:"Normal"}),d.jsx("option",{value:"high",children:"Acil"})]})]}),d.jsx("input",{type:"number",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"Tahmini Tutar (Opsiyonel)",value:m.estimatedCost||"",onChange:G=>b({...m,estimatedCost:G.target.value})}),d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"Link (Opsiyonel)",value:m.link||"",onChange:G=>b({...m,link:G.target.value})}),d.jsx("button",{type:"button",onClick:L,className:"w-full bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors",children:"Listeye Ekle"})]})]})})]})},o4=({ops:i})=>{const[e,s]=oe.useState(!1),[r,o]=oe.useState([]),[u,m]=oe.useState({sellerId:"376308",apiKey:"9eXV6icsPUn67B54dtd4",apiSecret:"rHjrH8ep9wv4MElIgrFz"}),b=async()=>{s(!0);try{const _=await(await fetch("https://berilden-api.onrender.com/api/trendyol-orders",{method:"POST",headers:{"Content-Type":"application/json"}})).json();_.success?(o(_.data),_.data.length===0&&alert("Belirtilen tarihlerde yeni sipari bulunamad.")):alert("Hata: "+(_.error||"Bilinmeyen bir hata olutu"))}catch{alert("Sunucuya balanlamad. Terminalde 'node server.js' komutunu altrdnz m?")}finally{s(!1)}},g=async y=>{const _={customerName:`${y.customerFirstName} ${y.customerLastName}`,productName:y.lines[0]?.productName||"Belirsiz rn",price:y.grossAmount,platform:"Trendyol",status:"new",note:`Sipari No: ${y.orderNumber} - Kargo: ${y.cargoTrackingNumber}`,createdAt:Nn()};await i.add("orders",_),o(r.filter(N=>N.orderNumber!==y.orderNumber))};return d.jsxs("div",{className:"space-y-6 animate-in fade-in pb-20",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsxs("h2",{className:"text-xl font-bold dark:text-white mb-4 flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center text-white text-xs",children:"T"}),"Trendyol Entegrasyonu"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[d.jsxs("div",{className:"opacity-50 pointer-events-none",children:[d.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:"Satc ID"}),d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:u.sellerId,readOnly:!0})]}),d.jsxs("div",{className:"opacity-50 pointer-events-none",children:[d.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:"API Key"}),d.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:u.apiKey,readOnly:!0})]}),d.jsxs("div",{className:"opacity-50 pointer-events-none",children:[d.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:"API Secret"}),d.jsx("input",{type:"password",className:"w-full p-3 border rounded-xl dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:u.apiSecret,readOnly:!0})]})]}),d.jsx("div",{className:"flex gap-3",children:d.jsxs("button",{onClick:b,disabled:e,className:"w-full px-4 py-3 bg-orange-600 text-white rounded-xl font-bold hover:bg-orange-700 flex justify-center items-center gap-2 shadow-lg shadow-orange-200 dark:shadow-none transition-all",children:[e?d.jsx(V1,{className:"animate-spin"}):d.jsx(zp,{})," SPARLER EK"]})})]}),r.length>0&&d.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.map(y=>d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-orange-200 dark:border-slate-700 flex flex-col md:flex-row justify-between items-center gap-4 shadow-sm hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsxs("span",{className:"bg-orange-100 text-orange-700 text-xs font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[d.jsx(A1,{size:10})," ",y.orderNumber]}),d.jsx("span",{className:"text-xs text-slate-400",children:new Date(y.createdDate).toLocaleDateString("tr-TR")}),d.jsx("span",{className:"text-[10px] bg-slate-100 text-slate-500 px-1.5 py-0.5 rounded",children:y.cargoTrackingNumber})]}),d.jsxs("h4",{className:"font-bold dark:text-white text-lg",children:[y.customerFirstName," ",y.customerLastName]}),d.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-300 flex items-center gap-1",children:[d.jsx(Yr,{size:14})," ",y.lines[0]?.productName," ",d.jsxs("span",{className:"text-xs opacity-50",children:["(",y.lines[0]?.quantity," Adet)"]})]})]}),d.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[d.jsxs("p",{className:"text-2xl font-black text-orange-600",children:[y.grossAmount,""]}),d.jsxs("button",{onClick:()=>g(y),className:"bg-blue-600 text-white px-5 py-2 rounded-lg text-sm font-bold hover:bg-blue-700 flex items-center gap-2 shadow-md shadow-blue-100 dark:shadow-none",children:[d.jsx(ns,{size:16})," Sisteme Ekle"]})]})]},y.orderNumber))})]})},c4=({ops:i})=>{const[e,s]=oe.useState([]),[r,o]=oe.useState(!1),[u]=oe.useState({merchantId:"185984e9-ec40-46c6-9745-edd35bce9b7e",username:"softtr_dev",password:"c49hZmQ8g5Yy"}),m=async()=>{o(!0);try{const y=await(await fetch("https://berilden-api.onrender.com/api/hepsiburada-orders",{method:"POST",headers:{"Content-Type":"application/json"}})).json();y.success?(s(y.data),y.data.length===0&&alert("Yeni sipari bulunamad.")):alert("Hata: "+(y.error||"Balant salanamad."))}catch{alert("Sunucu hatas! Terminalde 'node server.js' alyor mu?")}o(!1)},b=async g=>{await i.add("orders",{customerName:g.customer?g.customer.name:"Hepsiburada Mterisi",productName:g.items?g.items[0].productName:"HB rn",price:g.totalPrice.amount,platform:"Hepsiburada",status:"new",note:`Sipari No: ${g.orderNumber}`,createdAt:Nn()}),s(e.filter(y=>y.orderNumber!==g.orderNumber))};return d.jsxs("div",{className:"space-y-6 animate-in fade-in pb-20",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-orange-200 dark:border-slate-700 shadow-sm",children:[d.jsx("h2",{className:"text-xl font-bold dark:text-white mb-4 text-orange-600 flex items-center gap-2",children:"Hepsiburada Entegrasyonu"}),d.jsxs("div",{className:"bg-orange-50 text-orange-800 p-3 rounded-lg mb-4 text-xs",children:[" API Bilgileri Tanml: ",u.merchantId]}),d.jsx("button",{onClick:m,disabled:r,className:"w-full py-3 bg-orange-600 text-white rounded-xl font-bold hover:bg-orange-700 transition-colors shadow-lg shadow-orange-100 dark:shadow-none flex justify-center items-center gap-2",children:r?"Balanyor...":"SPARLER EK"})]}),e.length>0&&d.jsx("div",{className:"grid grid-cols-1 gap-3",children:e.map(g=>d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border flex flex-col md:flex-row justify-between items-center gap-4 hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-bold dark:text-white",children:g.customer?g.customer.name:"Mteri Ad Gizli"}),d.jsxs("p",{className:"text-sm text-slate-500",children:[g.orderNumber,"  ",g.items?g.items[0].productName:"rn"]})]}),d.jsxs("div",{className:"text-right flex items-center gap-4",children:[d.jsxs("p",{className:"font-bold text-orange-600 text-lg",children:[g.totalPrice.amount,""]}),d.jsx("button",{onClick:()=>b(g),className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-bold text-sm hover:bg-blue-700",children:"Sisteme Al"})]})]},g.id))})]})},u4=({ops:i})=>{const[e,s]=oe.useState([]),[r,o]=oe.useState(!1),[u]=oe.useState("NhHlBcIq3JYvXZv8wKtBfv33h0xn6qL63NgASFMg"),m=async()=>{o(!0);try{const y=await(await fetch("https://berilden-api.onrender.com/api/ciceksepeti-orders",{method:"POST",headers:{"Content-Type":"application/json"}})).json();y.success?(s(y.data),y.data.length===0&&alert("Yeni sipari bulunamad.")):alert("Hata: "+(y.error||"Balant salanamad."))}catch{alert("Sunucu hatas!")}o(!1)},b=async g=>{await i.add("orders",{customerName:g.receiverName,productName:g.orderItems?g.orderItems[0].productName:"ieksepeti rn",price:g.totalPrice,platform:"ieksepeti",status:"new",note:`Sipari No: ${g.orderId}`,createdAt:Nn()}),s(e.filter(y=>y.orderId!==g.orderId))};return d.jsxs("div",{className:"space-y-6 animate-in fade-in pb-20",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-blue-200 dark:border-slate-700 shadow-sm",children:[d.jsx("h2",{className:"text-xl font-bold dark:text-white mb-4 text-blue-600",children:"ieksepeti Entegrasyonu"}),d.jsx("div",{className:"bg-blue-50 text-blue-800 p-3 rounded-lg mb-4 text-xs",children:" API Anahtar Tanml"}),d.jsx("button",{onClick:m,disabled:r,className:"w-full py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-100 dark:shadow-none",children:r?"Balanyor...":"SPARLER EK"})]}),e.length>0&&d.jsx("div",{className:"grid grid-cols-1 gap-3",children:e.map(g=>d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border flex flex-col md:flex-row justify-between items-center gap-4 hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-bold dark:text-white",children:g.receiverName}),d.jsx("p",{className:"text-sm text-slate-500",children:g.orderId})]}),d.jsxs("div",{className:"text-right flex items-center gap-4",children:[d.jsxs("p",{className:"font-bold text-blue-600 text-lg",children:[g.totalPrice,""]}),d.jsx("button",{onClick:()=>b(g),className:"bg-green-600 text-white px-4 py-2 rounded-lg font-bold text-sm hover:bg-green-700",children:"Sisteme Al"})]})]},g.orderId))})]})},d4=({ops:i})=>{const[e,s]=oe.useState([]),[r,o]=oe.useState(!1),u=async()=>{o(!0);try{const g=await(await fetch("https://berilden-api.onrender.com/api/softtr-orders",{method:"POST",headers:{"Content-Type":"application/json"}})).json();if(g.success){const y=g.data.filter(_=>_.price>0||_.price>"0");s(y),y.length===0&&alert("Sipari listesi bo geldi. (Stun isimleri uyumuyor olabilir)")}else alert("Hata: "+(g.error||"Bilinmeyen hata"))}catch{alert("Sunucu hatas! Ltfen 1 dakika bekleyip tekrar deneyin.")}finally{o(!1)}},m=async b=>{await i.add("orders",{customerName:b.customerName,productName:b.productName,price:parseFloat(b.price),platform:"Berildenn.com",status:"new",note:`Web Siparii No: ${b.orderNumber}`,createdAt:Nn()}),s(e.filter(g=>g.orderNumber!==b.orderNumber))};return d.jsxs("div",{className:"space-y-6 animate-in fade-in pb-20",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-purple-200 dark:border-slate-700 shadow-sm",children:[d.jsx("h2",{className:"text-xl font-bold dark:text-white mb-4 text-purple-600",children:"Berildenn.com Entegrasyonu"}),d.jsx("div",{className:"bg-purple-50 text-purple-800 p-3 rounded-lg mb-4 text-xs",children:" Excel Balants Aktif"}),d.jsx("button",{onClick:u,disabled:r,className:"w-full py-3 bg-purple-600 text-white rounded-xl font-bold hover:bg-purple-700 transition-colors shadow-lg shadow-purple-100 dark:shadow-none flex justify-center items-center gap-2",children:r?"Balanyor...":"STEDEN SPARLER EK"})]}),e.length>0&&d.jsx("div",{className:"grid grid-cols-1 gap-3",children:e.map((b,g)=>d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border flex flex-col md:flex-row justify-between items-center gap-4 hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-bold dark:text-white",children:b.customerName}),d.jsxs("p",{className:"text-sm text-slate-500",children:["#",b.orderNumber,"  ",b.productName]})]}),d.jsxs("div",{className:"text-right flex items-center gap-4",children:[d.jsxs("p",{className:"font-bold text-purple-600 text-lg",children:[b.price,""]}),d.jsx("button",{onClick:()=>m(b),className:"bg-green-600 text-white px-4 py-2 rounded-lg font-bold text-sm hover:bg-green-700",children:"Sisteme Al"})]})]},g))})]})},h4=({ops:i})=>{const[e,s]=oe.useState("trendyol");return d.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-white dark:bg-slate-800 p-4 rounded-xl border dark:border-slate-700 shadow-sm",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold dark:text-white flex items-center gap-2",children:[d.jsx(R1,{className:"text-blue-500"})," Pazaryeri Entegrasyonlar"]}),d.jsx("p",{className:"text-sm text-slate-500",children:"Tm maazalarnz tek ekrandan ynetin."})]}),d.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 p-1 rounded-lg mt-4 md:mt-0 overflow-x-auto w-full md:w-auto",children:[d.jsx("button",{onClick:()=>s("trendyol"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all flex items-center gap-2 ${e==="trendyol"?"bg-white dark:bg-slate-700 shadow text-orange-600":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"Trendyol"}),d.jsx("button",{onClick:()=>s("hepsiburada"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all flex items-center gap-2 ${e==="hepsiburada"?"bg-white dark:bg-slate-700 shadow text-orange-800":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"Hepsiburada"}),d.jsx("button",{onClick:()=>s("ciceksepeti"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all flex items-center gap-2 ${e==="ciceksepeti"?"bg-white dark:bg-slate-700 shadow text-blue-600":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"ieksepeti"}),d.jsx("button",{onClick:()=>s("softtr"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all flex items-center gap-2 ${e==="softtr"?"bg-white dark:bg-slate-700 shadow text-purple-600":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"Berildenn"})]})]}),d.jsxs("div",{className:"min-h-[500px]",children:[e==="trendyol"&&d.jsx(o4,{ops:i}),e==="hepsiburada"&&d.jsx(c4,{ops:i}),e==="ciceksepeti"&&d.jsx(u4,{ops:i}),e==="softtr"&&d.jsx(d4,{ops:i})]})]})};function f4(){const[i,e]=oe.useState(!1),[s,r]=oe.useState(null),[o,u]=oe.useState(!0),[m,b]=oe.useState("home"),[g,y]=oe.useState(null),[_,N]=oe.useState(localStorage.getItem("theme")||"light"),[k,L]=oe.useState({items:[],orders:[],recentSales:[],markets:[],expenses:[],shoppingList:[],printers:[],printJobs:[],todos:[],proposals:[],ideas:[],filaments:[],printArchive:[]}),Z=oe.useMemo(()=>Fr?{add:async($,T)=>{try{await NC(Hu(Gi,"artifacts",Qa,"public","data",$),{...T,createdAt:Nn()}),Fi(y,"Eklendi")}catch(I){console.error(I),Fi(y,"Hata","error")}},update:async($,T,I)=>{try{await EC(Vm(Gi,"artifacts",Qa,"public","data",$,T),I),Fi(y,"Gncellendi")}catch(se){console.error(se),Fi(y,"Hata","error")}},delete:async($,T)=>{if(confirm("Silmek istediine emin misin?"))try{await Zv(Vm(Gi,"artifacts",Qa,"public","data",T,$)),Fi(y,"Silindi")}catch(I){console.error(I),Fi(y,"Hata","error")}}}:{add:()=>{},update:()=>{},delete:()=>{}},[]),G=async()=>{if(!confirm(` DKKAT: Tm veritaban silinecek! 

Stok, sipariler, mteriler, ayarlar... Her ey kalc olarak yok olacak.

Onaylyor musunuz?`))return;if(prompt("lemi onaylamak iin 'SIFIRLA' yaznz:")!=="SIFIRLA"){alert("lem iptal edildi.");return}u(!0);try{const T=["inventory","orders","sales_history","markets","general_expenses","shopping","printers","workshop_jobs","workshop_filaments","print_archive","todos","proposals","ideas"];for(const I of T){const se=Hu(Gi,"artifacts",Qa,"public","data",I),pe=(await Xv(se)).docs.map(C=>Zv(C.ref));await Promise.all(pe)}Fi(y,"Sistem fabrika ayarlarna dndrld.")}catch(T){console.error(T),Fi(y,"Sfrlama hatas: "+T.message,"error")}finally{u(!1)}};if(oe.useEffect(()=>{document.documentElement.classList.toggle("dark",_==="dark"),localStorage.setItem("theme",_)},[_]),oe.useEffect(()=>{if(!Fr){u(!1);return}return(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token&&await J2(el,__initial_auth_token),u(!1)})(),tN(el,r)},[]),oe.useEffect(()=>{if(!s||!Fr)return;const $=I=>Hu(Gi,"artifacts",Qa,"public","data",I),T=[Tn($("inventory"),I=>L(se=>({...se,items:I.docs.map(ie=>({id:ie.id,...ie.data()}))}))),Tn($("orders"),I=>L(se=>({...se,orders:I.docs.map(ie=>({id:ie.id,...ie.data()}))}))),Tn($("sales_history"),I=>L(se=>({...se,recentSales:I.docs.map(ie=>({id:ie.id,...ie.data()}))}))),Tn($("markets"),I=>L(se=>({...se,markets:I.docs.map(ie=>({id:ie.id,...ie.data()}))}))),Tn($("general_expenses"),I=>L(se=>({...se,expenses:I.docs.map(ie=>({id:ie.id,...ie.data()}))}))),Tn($("shopping"),I=>L(se=>({...se,shoppingList:I.docs.map(ie=>({id:ie.id,...ie.data()}))}))),Tn($("printers"),I=>L(se=>({...se,printers:I.docs.map(ie=>({id:ie.id,...ie.data()}))}))),Tn($("workshop_jobs"),I=>L(se=>({...se,printJobs:I.docs.map(ie=>({id:ie.id,...ie.data()}))}))),Tn($("todos"),I=>L(se=>({...se,todos:I.docs.map(ie=>({id:ie.id,...ie.data()}))}))),Tn($("proposals"),I=>L(se=>({...se,proposals:I.docs.map(ie=>({id:ie.id,...ie.data()}))}))),Tn($("ideas"),I=>L(se=>({...se,ideas:I.docs.map(ie=>({id:ie.id,...ie.data()}))}))),Tn($("workshop_filaments"),I=>L(se=>({...se,filaments:I.docs.map(ie=>({id:ie.id,...ie.data()}))}))),Tn($("print_archive"),I=>L(se=>({...se,printArchive:I.docs.map(ie=>({id:ie.id,...ie.data()}))})))];return()=>T.forEach(I=>I())},[s]),o)return d.jsx("div",{className:"h-screen flex items-center justify-center text-orange-600 font-bold animate-pulse",children:"Ykleniyor..."});if(!s)return d.jsx(Jj,{onLogin:async($,T)=>{if(!Fr)return alert("Firebase bal deil.");const I=xC(Hu(Gi,"artifacts",Qa,"public","data","users"),Yv("username","==",$),Yv("password","==",T));(await Xv(I)).empty?alert("Hatal Giri"):(el.currentUser||await Y2(el),r({uid:"user",username:$}))},loading:o,error:"",setError:alert});const D=[{id:"home",label:"Dashboard",icon:Hd,view:d.jsx(Wj,{data:k,setActiveTab:b})},{id:"inventory",label:"Stok",icon:Yr,view:d.jsx(e4,{items:k.items,ops:Z})},{id:"sales",label:"Sat",icon:Fd,view:d.jsx(t4,{items:k.items,ops:Z})},{id:"orders",label:"Sipariler",icon:Bp,view:d.jsx(n4,{orders:k.orders,ops:Z})},{id:"planning",label:"Planlama",icon:BC,view:d.jsx(s4,{todos:k.todos,proposals:k.proposals,ideas:k.ideas,ops:Z})},{id:"marketplaces",label:"Pazaryeri",icon:R1,view:d.jsx(h4,{ops:Z})},{id:"workshop",label:"3D Atlye",icon:A1,view:d.jsx(i4,{printers:k.printers,jobs:k.printJobs,filaments:k.filaments,archive:k.printArchive,ops:Z})},{id:"market",label:"Pazar",icon:L1,view:d.jsx(r4,{markets:k.markets,items:k.items,sales:k.recentSales,expenses:k.expenses,ops:Z})},{id:"accounting",label:"Muhasebe",icon:ac,view:d.jsx(a4,{expenses:k.expenses,sales:k.recentSales,ops:Z})},{id:"shopping",label:"Alnacaklar",icon:JC,view:d.jsx(l4,{items:k.shoppingList,ops:Z})},{id:"settings",label:"Ayarlar",icon:z1,view:d.jsx(m4,{user:s,onReset:G,fullData:k,theme:_,setTheme:N})}];return d.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-slate-900 font-sans text-slate-800 transition-colors overflow-hidden",children:[d.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 h-16 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 flex items-center justify-between px-4 z-50",children:[d.jsx("div",{className:"font-bold text-xl text-orange-600",children:"BerildenStore"}),d.jsx("button",{onClick:()=>e(!i),className:"p-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:i?d.jsx(ss,{size:24}):d.jsx(yj,{size:24})})]}),i&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden backdrop-blur-sm",onClick:()=>e(!1)}),d.jsxs("aside",{className:`
          fixed md:static inset-y-0 left-0 z-50 w-64 bg-white dark:bg-slate-800 border-r border-slate-200 dark:border-slate-700 
          transform transition-transform duration-300 ease-in-out flex flex-col
          ${i?"translate-x-0":"-translate-x-full"} 
          md:translate-x-0 
        `,children:[d.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:[d.jsx("h1",{className:"text-2xl font-bold text-orange-600",children:"BerildenStore"}),d.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"Ynetim Paneli V11.5"})]}),d.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto custom-scrollbar",children:D.map($=>d.jsxs("button",{type:"button",onClick:()=>{b($.id),e(!1)},className:`w-full flex items-center gap-3 p-3 rounded-xl transition-all duration-200 ${m===$.id?"bg-orange-50 dark:bg-orange-900/20 text-orange-600":"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[d.jsx($.icon,{size:20}),d.jsx("span",{className:"text-sm font-medium",children:$.label})]},$.id))}),d.jsxs("div",{className:"p-4 border-t border-slate-100 dark:border-slate-700 flex justify-between items-center bg-white dark:bg-slate-800",children:[d.jsx("button",{type:"button",onClick:()=>N(_==="light"?"dark":"light"),className:"p-2 rounded-lg bg-slate-100 dark:bg-slate-700 dark:text-white hover:bg-slate-200 transition-colors",children:_==="light"?d.jsx(O1,{size:18}):d.jsx(Bm,{size:18})}),d.jsx("button",{type:"button",onClick:()=>{r(null),localStorage.removeItem("berilden_logged_in")},className:"text-red-500 font-bold text-sm hover:bg-red-50 px-3 py-2 rounded-lg transition-colors",children:"k"})]})]}),d.jsxs("main",{className:"flex-1 flex flex-col h-screen overflow-hidden relative pt-16 md:pt-0",children:[g&&d.jsxs("div",{className:`absolute top-4 left-1/2 -translate-x-1/2 px-6 py-3 rounded-full shadow-xl z-[60] text-white font-bold flex items-center gap-2 animate-in slide-in-from-top-4 ${g.type==="error"?"bg-red-600":"bg-green-600"}`,children:[g.type==="success"?d.jsx(Bd,{size:18}):d.jsx(Up,{size:18})," ",g.message]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 custom-scrollbar",children:D.find($=>$.id===m)?.view})]})]})}const m4=({user:i,onReset:e,fullData:s,theme:r,setTheme:o})=>{const u=()=>{if(!s)return alert("Veri bulunamad.");const m="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(s)),b=document.createElement("a");b.setAttribute("href",m),b.setAttribute("download","berilden_yedek_"+new Date().toLocaleDateString("tr-TR").replace(/\./g,"-")+".json"),document.body.appendChild(b),b.click(),b.remove()};return d.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 animate-in fade-in pb-20",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm flex flex-col md:flex-row justify-between items-center gap-4",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold dark:text-white flex items-center gap-2",children:[d.jsx(z1,{className:"text-slate-500"})," Sistem Ayarlar"]}),d.jsx("p",{className:"text-slate-500 mt-1",children:"Uygulama tercihleri ve veri ynetimi."})]}),d.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 dark:bg-slate-900/50 px-4 py-2 rounded-xl border dark:border-slate-700",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center font-bold",children:i?.username?i.username.charAt(0).toUpperCase():"A"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-bold dark:text-white",children:i?.username||"Ynetici"}),d.jsx("p",{className:"text-xs text-slate-400",children:"Tam Yetkili"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsxs("h3",{className:"font-bold text-lg mb-4 dark:text-white flex items-center gap-2",children:[d.jsx(Bm,{size:20,className:"text-yellow-500"})," Grnm"]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{onClick:()=>o("light"),className:`p-4 rounded-xl border flex flex-col items-center gap-2 transition-all ${r==="light"?"bg-orange-50 border-orange-200 text-orange-600 ring-2 ring-orange-100":"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[d.jsx(Bm,{size:24}),d.jsx("span",{className:"text-sm font-bold",children:"Aydnlk"})]}),d.jsxs("button",{onClick:()=>o("dark"),className:`p-4 rounded-xl border flex flex-col items-center gap-2 transition-all ${r==="dark"?"bg-slate-700 border-slate-600 text-white ring-2 ring-slate-600":"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[d.jsx(O1,{size:24}),d.jsx("span",{className:"text-sm font-bold",children:"Karanlk"})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border dark:border-slate-700 shadow-sm",children:[d.jsxs("h3",{className:"font-bold text-lg mb-4 dark:text-white flex items-center gap-2",children:[d.jsx(I1,{size:20,className:"text-blue-500"})," Hakknda"]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-900/50 rounded-lg",children:[d.jsx("span",{className:"text-sm font-medium dark:text-white",children:"Versiyon"}),d.jsx("span",{className:"text-xs font-bold bg-slate-200 dark:bg-slate-700 px-2 py-1 rounded",children:"v11.5.0"})]}),d.jsxs("button",{type:"button",onClick:()=>window.location.reload(),className:"w-full py-3 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-lg font-bold hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors flex items-center justify-center gap-2 text-sm",children:[d.jsx(V1,{size:16})," Uygulamay Yeniden Balat"]})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 p-6 rounded-2xl text-white shadow-lg relative overflow-hidden group",children:[d.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:opacity-20 transition-opacity transform group-hover:scale-110 duration-500",children:d.jsx(vd,{size:120})}),d.jsxs("h3",{className:"font-bold text-xl mb-2 relative z-10 flex items-center gap-2",children:[d.jsx(vd,{size:20})," Veri Yedekleme"]}),d.jsx("p",{className:"text-blue-100 text-sm mb-6 relative z-10 opacity-90",children:"Tm verilerinizi gvenli bir ekilde indirin."}),d.jsxs("button",{onClick:u,className:"w-full py-3 bg-white text-blue-600 rounded-xl font-bold shadow-lg flex items-center justify-center gap-2 hover:bg-blue-50 transition-colors relative z-10",children:[d.jsx(zp,{size:20})," Yedek ndir (.json)"]})]}),d.jsxs("div",{className:"bg-red-50 dark:bg-red-900/10 p-6 rounded-2xl border border-red-100 dark:border-red-900/30",children:[d.jsxs("h3",{className:"font-bold text-red-600 mb-4 flex items-center gap-2",children:[d.jsx(Up,{size:20})," Tehlikeli Blge"]}),d.jsxs("button",{type:"button",onClick:e,className:"w-full py-3 bg-white dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 rounded-xl font-bold hover:bg-red-600 hover:text-white dark:hover:bg-red-800 transition-colors flex items-center justify-center gap-2",children:[d.jsx(sn,{size:18})," Verileri Sfrla"]})]})]})]})]})};function p4(){return d.jsx($j,{children:d.jsx(f4,{})})}console.log("--> Main.jsx alt! React balatlyor...");const sx=document.getElementById("root");sx?ST.createRoot(sx).render(d.jsx(bT.StrictMode,{children:d.jsx(p4,{})})):(console.error("KRTK HATA: 'root' elementi bulunamad!"),document.body.innerHTML="<h1 style='color:red; padding:20px'>HATA: Sitede root elementi yok.</h1>");
//# sourceMappingURL=index-C0QgV0QJ.js.map
